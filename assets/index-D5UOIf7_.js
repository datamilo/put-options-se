var Zx=Object.defineProperty;var Od=t=>{throw TypeError(t)};var ey=(t,e,r)=>e in t?Zx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Md=(t,e,r)=>ey(t,typeof e!="symbol"?e+"":e,r),Ri=(t,e,r)=>e.has(t)||Od("Cannot "+r);var F=(t,e,r)=>(Ri(t,e,"read from private field"),r?r.call(t):e.get(t)),xe=(t,e,r)=>e.has(t)?Od("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ce=(t,e,r,n)=>(Ri(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ye=(t,e,r)=>(Ri(t,e,"access private method"),r);var Fo=(t,e,r,n)=>({set _(s){ce(t,e,s,r)},get _(){return F(t,e,n)}});import{r as l,a as ft,R as z,b as ul,$ as Rf,d as ty,c as St}from"./vendor-CAvPZb_x.js";import{c as Af,R as rs,S as Of,C as Ks,X as cn,Y as Or,T as ln,L as mc,a as Mf,B as If,b as fl,_ as mt,d as $f,e as Lf,f as pc,g as ry}from"./charts-TKhqvHer.js";import{u as yn,a as hl,b as Ff,c as ml,L as Gs,N as ny,B as sy,R as oy,d as gr}from"./router-Dywlzqul.js";import{P as ns}from"./csv-fP-G1a8P.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Bf={exports:{}},Aa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay=l,iy=Symbol.for("react.element"),cy=Symbol.for("react.fragment"),ly=Object.prototype.hasOwnProperty,dy=ay.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uy={key:!0,ref:!0,__self:!0,__source:!0};function Wf(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)ly.call(e,n)&&!uy.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:iy,type:t,key:o,ref:i,props:s,_owner:dy.current}}Aa.Fragment=cy;Aa.jsx=Wf;Aa.jsxs=Wf;Bf.exports=Aa;var a=Bf.exports,Vf,Id=ft;Vf=Id.createRoot,Id.hydrateRoot;const fy=1,hy=1e6;let Ai=0;function my(){return Ai=(Ai+1)%Number.MAX_SAFE_INTEGER,Ai.toString()}const Oi=new Map,$d=t=>{if(Oi.has(t))return;const e=setTimeout(()=>{Oi.delete(t),$s({type:"REMOVE_TOAST",toastId:t})},hy);Oi.set(t,e)},py=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,fy)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?$d(r):t.toasts.forEach(n=>{$d(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},oa=[];let aa={toasts:[]};function $s(t){aa=py(aa,t),oa.forEach(e=>{e(aa)})}function gy({...t}){const e=my(),r=s=>$s({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>$s({type:"DISMISS_TOAST",toastId:e});return $s({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function vy(){const[t,e]=l.useState(aa);return l.useEffect(()=>(oa.push(e),()=>{const r=oa.indexOf(e);r>-1&&oa.splice(r,1)}),[t]),{...t,toast:gy,dismiss:r=>$s({type:"DISMISS_TOAST",toastId:r})}}function H(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xy(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Oa(...t){return e=>t.forEach(r=>xy(r,e))}function ne(...t){return l.useCallback(Oa(...t),t)}function yy(t,e=[]){let r=[];function n(o,i){const c=l.createContext(i),d=r.length;r=[...r,i];function u(h){const{scope:m,children:g,...v}=h,p=(m==null?void 0:m[t][d])||c,x=l.useMemo(()=>v,Object.values(v));return a.jsx(p.Provider,{value:x,children:g})}function f(h,m){const g=(m==null?void 0:m[t][d])||c,v=l.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>l.createContext(i));return function(c){const d=(c==null?void 0:c[t])||o;return l.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[n,by(s,...e)]}function by(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:d,scopeName:u})=>{const h=d(o)[`__scope${u}`];return{...c,...h}},{});return l.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var dr=l.forwardRef((t,e)=>{const{children:r,...n}=t,s=l.Children.toArray(r),o=s.find(wy);if(o){const i=o.props.children,c=s.map(d=>d===o?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:d);return a.jsx(gc,{...n,ref:e,children:l.isValidElement(i)?l.cloneElement(i,void 0,c):null})}return a.jsx(gc,{...n,ref:e,children:r})});dr.displayName="Slot";var gc=l.forwardRef((t,e)=>{const{children:r,...n}=t;if(l.isValidElement(r)){const s=Sy(r);return l.cloneElement(r,{..._y(n,r.props),ref:e?Oa(e,s):s})}return l.Children.count(r)>1?l.Children.only(null):null});gc.displayName="SlotClone";var Uf=({children:t})=>a.jsx(a.Fragment,{children:t});function wy(t){return l.isValidElement(t)&&t.type===Uf}function _y(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{o(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function Sy(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function go(t){const e=t+"CollectionProvider",[r,n]=yy(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:p}=g,x=z.useRef(null),y=z.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:y,collectionRef:x,children:p})};i.displayName=e;const c=t+"CollectionSlot",d=z.forwardRef((g,v)=>{const{scope:p,children:x}=g,y=o(c,p),b=ne(v,y.collectionRef);return a.jsx(dr,{ref:b,children:x})});d.displayName=c;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=z.forwardRef((g,v)=>{const{scope:p,children:x,...y}=g,b=z.useRef(null),w=ne(v,b),_=o(u,p);return z.useEffect(()=>(_.itemMap.set(b,{ref:b,...y}),()=>void _.itemMap.delete(b))),a.jsx(dr,{[f]:"",ref:w,children:x})});h.displayName=u;function m(g){const v=o(t+"CollectionConsumer",g);return z.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:d,ItemSlot:h},m,n]}function Cy(t,e){const r=l.createContext(e),n=o=>{const{children:i,...c}=o,d=l.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:d,children:i})};n.displayName=t+"Provider";function s(o){const i=l.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function It(t,e=[]){let r=[];function n(o,i){const c=l.createContext(i),d=r.length;r=[...r,i];const u=h=>{var y;const{scope:m,children:g,...v}=h,p=((y=m==null?void 0:m[t])==null?void 0:y[d])||c,x=l.useMemo(()=>v,Object.values(v));return a.jsx(p.Provider,{value:x,children:g})};u.displayName=o+"Provider";function f(h,m){var p;const g=((p=m==null?void 0:m[t])==null?void 0:p[d])||c,v=l.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=r.map(i=>l.createContext(i));return function(c){const d=(c==null?void 0:c[t])||o;return l.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[n,jy(s,...e)]}function jy(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:d,scopeName:u})=>{const h=d(o)[`__scope${u}`];return{...c,...h}},{});return l.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var Py=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Q=Py.reduce((t,e)=>{const r=l.forwardRef((n,s)=>{const{asChild:o,...i}=n,c=o?dr:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...i,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function pl(t,e){t&&ft.flushSync(()=>t.dispatchEvent(e))}function Re(t){const e=l.useRef(t);return l.useEffect(()=>{e.current=t}),l.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Ey(t,e=globalThis==null?void 0:globalThis.document){const r=Re(t);l.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Ny="DismissableLayer",vc="dismissableLayer.update",ky="dismissableLayer.pointerDownOutside",Ty="dismissableLayer.focusOutside",Ld,Hf=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bn=l.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:c,...d}=t,u=l.useContext(Hf),[f,h]=l.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=l.useState({}),v=ne(e,j=>h(j)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),b=f?p.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,S=Ry(j=>{const P=j.target,R=[...u.branches].some(A=>A.contains(P));!_||R||(s==null||s(j),i==null||i(j),j.defaultPrevented||c==null||c())},m),C=Ay(j=>{const P=j.target;[...u.branches].some(A=>A.contains(P))||(o==null||o(j),i==null||i(j),j.defaultPrevented||c==null||c())},m);return Ey(j=>{b===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},m),l.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ld=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Fd(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ld)}},[f,m,r,u]),l.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Fd())},[f,u]),l.useEffect(()=>{const j=()=>g({});return document.addEventListener(vc,j),()=>document.removeEventListener(vc,j)},[]),a.jsx(Q.div,{...d,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:H(t.onFocusCapture,C.onFocusCapture),onBlurCapture:H(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:H(t.onPointerDownCapture,S.onPointerDownCapture)})});bn.displayName=Ny;var Dy="DismissableLayerBranch",zf=l.forwardRef((t,e)=>{const r=l.useContext(Hf),n=l.useRef(null),s=ne(e,n);return l.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Q.div,{...t,ref:s})});zf.displayName=Dy;function Ry(t,e=globalThis==null?void 0:globalThis.document){const r=Re(t),n=l.useRef(!1),s=l.useRef(()=>{});return l.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let d=function(){Kf(ky,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Ay(t,e=globalThis==null?void 0:globalThis.document){const r=Re(t),n=l.useRef(!1);return l.useEffect(()=>{const s=o=>{o.target&&!n.current&&Kf(Ty,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Fd(){const t=new CustomEvent(vc);document.dispatchEvent(t)}function Kf(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?pl(s,o):s.dispatchEvent(o)}var Oy=bn,My=zf,Ge=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},Iy="Portal",us=l.forwardRef((t,e)=>{var c;const{container:r,...n}=t,[s,o]=l.useState(!1);Ge(()=>o(!0),[]);const i=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?ul.createPortal(a.jsx(Q.div,{...n,ref:e}),i):null});us.displayName=Iy;function $y(t,e){return l.useReducer((r,n)=>e[r][n]??r,t)}var He=t=>{const{present:e,children:r}=t,n=Ly(e),s=typeof r=="function"?r({present:n.isPresent}):l.Children.only(r),o=ne(n.ref,Fy(s));return typeof r=="function"||n.isPresent?l.cloneElement(s,{ref:o}):null};He.displayName="Presence";function Ly(t){const[e,r]=l.useState(),n=l.useRef({}),s=l.useRef(t),o=l.useRef("none"),i=t?"mounted":"unmounted",[c,d]=$y(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=Bo(n.current);o.current=c==="mounted"?u:"none"},[c]),Ge(()=>{const u=n.current,f=s.current;if(f!==t){const m=o.current,g=Bo(u);t?d("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),Ge(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=g=>{const p=Bo(n.current).includes(g.animationName);if(g.target===e&&p&&(d("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(o.current=Bo(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Bo(t){return(t==null?void 0:t.animationName)||"none"}function Fy(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Rt({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=By({defaultProp:e,onChange:r}),o=t!==void 0,i=o?t:n,c=Re(r),d=l.useCallback(u=>{if(o){const h=typeof u=="function"?u(t):u;h!==t&&c(h)}else s(u)},[o,t,s,c]);return[i,d]}function By({defaultProp:t,onChange:e}){const r=l.useState(t),[n]=r,s=l.useRef(n),o=Re(e);return l.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var Wy="VisuallyHidden",vo=l.forwardRef((t,e)=>a.jsx(Q.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));vo.displayName=Wy;var Vy=vo,gl="ToastProvider",[vl,Uy,Hy]=go("Toast"),[Gf,gA]=It("Toast",[Hy]),[zy,Ma]=Gf(gl),qf=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[c,d]=l.useState(null),[u,f]=l.useState(0),h=l.useRef(!1),m=l.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${gl}\`. Expected non-empty \`string\`.`),a.jsx(vl.Provider,{scope:e,children:a.jsx(zy,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:c,onViewportChange:d,onToastAdd:l.useCallback(()=>f(g=>g+1),[]),onToastRemove:l.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};qf.displayName=gl;var Yf="ToastViewport",Ky=["F8"],xc="toast.viewportPause",yc="toast.viewportResume",Xf=l.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Ky,label:s="Notifications ({hotkey})",...o}=t,i=Ma(Yf,r),c=Uy(r),d=l.useRef(null),u=l.useRef(null),f=l.useRef(null),h=l.useRef(null),m=ne(e,h,i.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;l.useEffect(()=>{const x=y=>{var w;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),l.useEffect(()=>{const x=d.current,y=h.current;if(v&&x&&y){const b=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(xc);y.dispatchEvent(C),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(yc);y.dispatchEvent(C),i.isClosePausedRef.current=!1}},_=C=>{!x.contains(C.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",b),x.addEventListener("focusout",_),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const p=l.useCallback(({tabbingDirection:x})=>{const b=c().map(w=>{const _=w.ref.current,S=[_,...ob(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?b.reverse():b).flat()},[c]);return l.useEffect(()=>{const x=h.current;if(x){const y=b=>{var S,C,j;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const P=document.activeElement,R=b.shiftKey;if(b.target===x&&R){(S=u.current)==null||S.focus();return}const k=p({tabbingDirection:R?"backwards":"forwards"}),D=k.findIndex(O=>O===P);Mi(k.slice(D+1))?b.preventDefault():R?(C=u.current)==null||C.focus():(j=f.current)==null||j.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[c,p]),a.jsxs(My,{ref:d,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&a.jsx(bc,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Mi(x)}}),a.jsx(vl.Slot,{scope:r,children:a.jsx(Q.ol,{tabIndex:-1,...o,ref:m})}),v&&a.jsx(bc,{ref:f,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Mi(x)}})]})});Xf.displayName=Yf;var Jf="ToastFocusProxy",bc=l.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=Ma(Jf,r);return a.jsx(vo,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const c=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(c))&&n()}})});bc.displayName=Jf;var Ia="Toast",Gy="toast.swipeStart",qy="toast.swipeMove",Yy="toast.swipeCancel",Xy="toast.swipeEnd",Qf=l.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=t,[c=!0,d]=Rt({prop:n,defaultProp:s,onChange:o});return a.jsx(He,{present:r||c,children:a.jsx(Zy,{open:c,...i,ref:e,onClose:()=>d(!1),onPause:Re(t.onPause),onResume:Re(t.onResume),onSwipeStart:H(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:H(t.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:H(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:H(t.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),d(!1)})})})});Qf.displayName=Ia;var[Jy,Qy]=Gf(Ia,{onClose(){}}),Zy=l.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:c,onPause:d,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...v}=t,p=Ma(Ia,r),[x,y]=l.useState(null),b=ne(e,O=>y(O)),w=l.useRef(null),_=l.useRef(null),S=s||p.duration,C=l.useRef(0),j=l.useRef(S),P=l.useRef(0),{onToastAdd:R,onToastRemove:A}=p,E=Re(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=p.viewport)==null||G.focus()),i()}),k=l.useCallback(O=>{!O||O===1/0||(window.clearTimeout(P.current),C.current=new Date().getTime(),P.current=window.setTimeout(E,O))},[E]);l.useEffect(()=>{const O=p.viewport;if(O){const G=()=>{k(j.current),u==null||u()},L=()=>{const W=new Date().getTime()-C.current;j.current=j.current-W,window.clearTimeout(P.current),d==null||d()};return O.addEventListener(xc,L),O.addEventListener(yc,G),()=>{O.removeEventListener(xc,L),O.removeEventListener(yc,G)}}},[p.viewport,S,d,u,k]),l.useEffect(()=>{o&&!p.isClosePausedRef.current&&k(S)},[o,S,p.isClosePausedRef,k]),l.useEffect(()=>(R(),()=>A()),[R,A]);const D=l.useMemo(()=>x?oh(x):null,[x]);return p.viewport?a.jsxs(a.Fragment,{children:[D&&a.jsx(eb,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),a.jsx(Jy,{scope:r,onClose:E,children:ft.createPortal(a.jsx(vl.ItemSlot,{scope:r,children:a.jsx(Oy,{asChild:!0,onEscapeKeyDown:H(c,()=>{p.isFocusedToastEscapeKeyDownRef.current||E(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Q.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:H(t.onKeyDown,O=>{O.key==="Escape"&&(c==null||c(O.nativeEvent),O.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:H(t.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:H(t.onPointerMove,O=>{if(!w.current)return;const G=O.clientX-w.current.x,L=O.clientY-w.current.y,W=!!_.current,$=["left","right"].includes(p.swipeDirection),I=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,te=$?I(0,G):0,Y=$?0:I(0,L),T=O.pointerType==="touch"?10:2,U={x:te,y:Y},N={originalEvent:O,delta:U};W?(_.current=U,Wo(qy,h,N,{discrete:!1})):Bd(U,p.swipeDirection,T)?(_.current=U,Wo(Gy,f,N,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(G)>T||Math.abs(L)>T)&&(w.current=null)}),onPointerUp:H(t.onPointerUp,O=>{const G=_.current,L=O.target;if(L.hasPointerCapture(O.pointerId)&&L.releasePointerCapture(O.pointerId),_.current=null,w.current=null,G){const W=O.currentTarget,$={originalEvent:O,delta:G};Bd(G,p.swipeDirection,p.swipeThreshold)?Wo(Xy,g,$,{discrete:!0}):Wo(Yy,m,$,{discrete:!0}),W.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),eb=t=>{const{__scopeToast:e,children:r,...n}=t,s=Ma(Ia,e),[o,i]=l.useState(!1),[c,d]=l.useState(!1);return nb(()=>i(!0)),l.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),c?null:a.jsx(us,{asChild:!0,children:a.jsx(vo,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},tb="ToastTitle",Zf=l.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Q.div,{...n,ref:e})});Zf.displayName=tb;var rb="ToastDescription",eh=l.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Q.div,{...n,ref:e})});eh.displayName=rb;var th="ToastAction",rh=l.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(sh,{altText:r,asChild:!0,children:a.jsx(xl,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${th}\`. Expected non-empty \`string\`.`),null)});rh.displayName=th;var nh="ToastClose",xl=l.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Qy(nh,r);return a.jsx(sh,{asChild:!0,children:a.jsx(Q.button,{type:"button",...n,ref:e,onClick:H(t.onClick,s.onClose)})})});xl.displayName=nh;var sh=l.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return a.jsx(Q.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function oh(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),sb(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...oh(n))}}),e}function Wo(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?pl(s,o):s.dispatchEvent(o)}var Bd=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function nb(t=()=>{}){const e=Re(t);Ge(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function sb(t){return t.nodeType===t.ELEMENT_NODE}function ob(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Mi(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var ab=qf,ah=Xf,ih=Qf,ch=Zf,lh=eh,dh=rh,uh=xl;const Wd=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Vd=Af,$a=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Vd(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],h=o==null?void 0:o[u];if(f===null)return null;const m=Wd(f)||Wd(h);return s[u][m]}),c=r&&Object.entries(r).reduce((u,f)=>{let[h,m]=f;return m===void 0||(u[h]=m),u},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:h,className:m,...g}=f;return Object.entries(g).every(v=>{let[p,x]=v;return Array.isArray(x)?x.includes({...o,...c}[p]):{...o,...c}[p]===x})?[...u,h,m]:u},[]);return Vd(t,i,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fh=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=l.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...c},d)=>l.createElement("svg",{ref:d,...cb,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:fh("lucide",s),...c},[...i.map(([u,f])=>l.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const r=l.forwardRef(({className:n,...s},o)=>l.createElement(lb,{ref:o,iconNode:e,className:fh(`lucide-${ib(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=je("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=je("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=je("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=je("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=je("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=je("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=je("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=je("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=je("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=je("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=je("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bl="-",Eb=t=>{const e=kb(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const c=i.split(bl);return c[0]===""&&c.length!==1&&c.shift(),mh(c,e)||Nb(i)},getConflictingClassGroupIds:(i,c)=>{const d=r[i]||[];return c&&n[i]?[...d,...n[i]]:d}}},mh=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?mh(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(bl);return(i=e.validators.find(({validator:c})=>c(o)))==null?void 0:i.classGroupId},Hd=/^\[(.+)\]$/,Nb=t=>{if(Hd.test(t)){const e=Hd.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},kb=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Db(Object.entries(t.classGroups),r).forEach(([o,i])=>{wc(i,n,o,e)}),n},wc=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:zd(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(Tb(s)){wc(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{wc(i,zd(e,o),r,n)})})},zd=(t,e)=>{let r=t;return e.split(bl).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Tb=t=>t.isThemeGetter,Db=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,c])=>[e+i,c])):o);return[r,s]}):t,Rb=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},ph="!",Ab=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,i=c=>{const d=[];let u=0,f=0,h;for(let x=0;x<c.length;x++){let y=c[x];if(u===0){if(y===s&&(n||c.slice(x,x+o)===e)){d.push(c.slice(f,x)),f=x+o;continue}if(y==="/"){h=x;continue}}y==="["?u++:y==="]"&&u--}const m=d.length===0?c:c.substring(f),g=m.startsWith(ph),v=g?m.substring(1):m,p=h&&h>f?h-f:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:p}};return r?c=>r({className:c,parseClassName:i}):i},Ob=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Mb=t=>({cache:Rb(t.cacheSize),parseClassName:Ab(t),...Eb(t)}),Ib=/\s+/,$b=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(Ib);let c="";for(let d=i.length-1;d>=0;d-=1){const u=i[d],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=r(u);let v=!!g,p=n(v?m.substring(0,g):m);if(!p){if(!v){c=u+(c.length>0?" "+c:c);continue}if(p=n(m),!p){c=u+(c.length>0?" "+c:c);continue}v=!1}const x=Ob(f).join(":"),y=h?x+ph:x,b=y+p;if(o.includes(b))continue;o.push(b);const w=s(p,v);for(let _=0;_<w.length;++_){const S=w[_];o.push(y+S)}c=u+(c.length>0?" "+c:c)}return c};function Lb(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=gh(e))&&(n&&(n+=" "),n+=r);return n}const gh=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=gh(t[n]))&&(r&&(r+=" "),r+=e);return r};function Fb(t,...e){let r,n,s,o=i;function i(d){const u=e.reduce((f,h)=>h(f),t());return r=Mb(u),n=r.cache.get,s=r.cache.set,o=c,c(d)}function c(d){const u=n(d);if(u)return u;const f=$b(d,r);return s(d,f),f}return function(){return o(Lb.apply(null,arguments))}}const De=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},vh=/^\[(?:([a-z-]+):)?(.+)\]$/i,Bb=/^\d+\/\d+$/,Wb=new Set(["px","full","screen"]),Vb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ub=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tr=t=>Bn(t)||Wb.has(t)||Bb.test(t),vr=t=>fs(t,"length",ew),Bn=t=>!!t&&!Number.isNaN(Number(t)),Ii=t=>fs(t,"number",Bn),Es=t=>!!t&&Number.isInteger(Number(t)),Gb=t=>t.endsWith("%")&&Bn(t.slice(0,-1)),ie=t=>vh.test(t),xr=t=>Vb.test(t),qb=new Set(["length","size","percentage"]),Yb=t=>fs(t,qb,xh),Xb=t=>fs(t,"position",xh),Jb=new Set(["image","url"]),Qb=t=>fs(t,Jb,rw),Zb=t=>fs(t,"",tw),Ns=()=>!0,fs=(t,e,r)=>{const n=vh.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},ew=t=>Ub.test(t)&&!Hb.test(t),xh=()=>!1,tw=t=>zb.test(t),rw=t=>Kb.test(t),nw=()=>{const t=De("colors"),e=De("spacing"),r=De("blur"),n=De("brightness"),s=De("borderColor"),o=De("borderRadius"),i=De("borderSpacing"),c=De("borderWidth"),d=De("contrast"),u=De("grayscale"),f=De("hueRotate"),h=De("invert"),m=De("gap"),g=De("gradientColorStops"),v=De("gradientColorStopPositions"),p=De("inset"),x=De("margin"),y=De("opacity"),b=De("padding"),w=De("saturate"),_=De("scale"),S=De("sepia"),C=De("skew"),j=De("space"),P=De("translate"),R=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",ie,e],k=()=>[ie,e],D=()=>["",tr,vr],O=()=>["auto",Bn,ie],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",ie],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Bn,ie];return{cacheSize:500,separator:":",theme:{colors:[Ns],spacing:[tr,vr],blur:["none","",xr,ie],brightness:Y(),borderColor:[t],borderRadius:["none","","full",xr,ie],borderSpacing:k(),borderWidth:D(),contrast:Y(),grayscale:I(),hueRotate:Y(),invert:I(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[Gb,vr],inset:E(),margin:E(),opacity:Y(),padding:k(),saturate:Y(),scale:Y(),sepia:I(),skew:Y(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[xr]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ie]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Es,ie]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Es,ie]}],"grid-cols":[{"grid-cols":[Ns]}],"col-start-end":[{col:["auto",{span:["full",Es,ie]},ie]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Ns]}],"row-start-end":[{row:["auto",{span:[Es,ie]},ie]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,e]}],"min-w":[{"min-w":[ie,e,"min","max","fit"]}],"max-w":[{"max-w":[ie,e,"none","full","min","max","fit","prose",{screen:[xr]},xr]}],h:[{h:[ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xr,vr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ii]}],"font-family":[{font:[Ns]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",Bn,Ii]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tr,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tr,vr]}],"underline-offset":[{"underline-offset":["auto",tr,ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),Xb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Yb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Qb]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[tr,ie]}],"outline-w":[{outline:[tr,vr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[tr,vr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xr,Zb]}],"shadow-color":[{shadow:[Ns]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",xr,ie]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Es,ie]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tr,vr,Ii]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sw=Fb(nw);function J(...t){return sw(Af(t))}function ua(t,e=""){return t==null||t==="NaN"||t===""?"-":typeof t=="number"?e.includes("Pct")||e.includes("Prob")||e==="ImpliedVolatility"||e==="Mean_Accuracy"||e==="AllMedianIV_Maximum100DaysToExp"||e==="TodayStockMedianIV_Maximum100DaysToExp"||e==="WorstHistoricalDecline"||e==="BadHistoricalDecline"||e==="ImpliedVolatilityUntilExpiry"||e==="Historical100DaysWorstDecline"||e==="Historical50DaysWorstDecline"||e==="2008_100DaysWorstDecline"||e==="2008_50DaysWorstDecline"?`${(t*100).toLocaleString("sv-SE",{minimumFractionDigits:2,maximumFractionDigits:2})}%`:e==="Premium"||e==="Underlying_Value"||e==="DaysToExpiry"||e==="X-Day"||e.includes("Number")||Math.abs(t)>=1e3?Math.round(t).toLocaleString("sv-SE"):e.includes("Loss")||e.includes("Price")||e.includes("Bid")||e.includes("Value")?t.toLocaleString("sv-SE",{minimumFractionDigits:2,maximumFractionDigits:2}):t.toLocaleString("sv-SE",{minimumFractionDigits:2,maximumFractionDigits:2}):String(t)}const ow=ab,yh=l.forwardRef(({className:t,...e},r)=>a.jsx(ah,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));yh.displayName=ah.displayName;const aw=$a("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bh=l.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(ih,{ref:n,className:J(aw({variant:e}),t),...r}));bh.displayName=ih.displayName;const iw=l.forwardRef(({className:t,...e},r)=>a.jsx(dh,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));iw.displayName=dh.displayName;const wh=l.forwardRef(({className:t,...e},r)=>a.jsx(uh,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(hh,{className:"h-4 w-4"})}));wh.displayName=uh.displayName;const _h=l.forwardRef(({className:t,...e},r)=>a.jsx(ch,{ref:r,className:J("text-sm font-semibold",t),...e}));_h.displayName=ch.displayName;const Sh=l.forwardRef(({className:t,...e},r)=>a.jsx(lh,{ref:r,className:J("text-sm opacity-90",t),...e}));Sh.displayName=lh.displayName;function cw(){const{toasts:t}=vy();return a.jsxs(ow,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return a.jsxs(bh,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(_h,{children:r}),n&&a.jsx(Sh,{children:n})]}),s,a.jsx(wh,{})]},e)}),a.jsx(yh,{})]})}var fa=["light","dark"],wl="(prefers-color-scheme: dark)",lw=typeof window>"u",_l=l.createContext(void 0),dw={setTheme:t=>{},themes:[]},Ch=()=>{var t;return(t=l.useContext(_l))!=null?t:dw},uw=t=>l.useContext(_l)?t.children:l.createElement(hw,{...t}),fw=["light","dark"],hw=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:o=fw,defaultTheme:i=r?"system":"light",attribute:c="data-theme",value:d,children:u,nonce:f})=>{let[h,m]=l.useState(()=>Kd(s,i)),[g,v]=l.useState(()=>Kd(s)),p=d?Object.values(d):o,x=l.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=Gd());let C=d?d[S]:S,j=e?pw():null,P=document.documentElement;if(c==="class"?(P.classList.remove(...p),C&&P.classList.add(C)):C?P.setAttribute(c,C):P.removeAttribute(c),n){let R=fa.includes(i)?i:null,A=fa.includes(S)?S:R;P.style.colorScheme=A}j==null||j()},[]),y=l.useCallback(_=>{let S=typeof _=="function"?_(_):_;m(S);try{localStorage.setItem(s,S)}catch{}},[t]),b=l.useCallback(_=>{let S=Gd(_);v(S),h==="system"&&r&&!t&&x("system")},[h,t]);l.useEffect(()=>{let _=window.matchMedia(wl);return _.addListener(b),b(_),()=>_.removeListener(b)},[b]),l.useEffect(()=>{let _=S=>{if(S.key!==s)return;let C=S.newValue||i;y(C)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),l.useEffect(()=>{x(t??h)},[t,h]);let w=l.useMemo(()=>({theme:h,setTheme:y,forcedTheme:t,resolvedTheme:h==="system"?g:h,themes:r?[...o,"system"]:o,systemTheme:r?g:void 0}),[h,y,t,g,r,o]);return l.createElement(_l.Provider,{value:w},l.createElement(mw,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:o,defaultTheme:i,attribute:c,value:d,children:u,attrs:p,nonce:f}),u)},mw=l.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:c,nonce:d})=>{let u=o==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?fa.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,p=!1,x=!0)=>{let y=i?i[v]:v,b=p?v+"|| ''":`'${y}'`,w="";return s&&x&&!p&&fa.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?p||y?w+=`c.add(${b})`:w+="null":y&&(w+=`d[s](n,${b})`),w},g=t?`!function(){${f}${m(t)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${wl}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${h}}catch(t){}}();`;return l.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:g}})}),Kd=(t,e)=>{if(lw)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},pw=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Gd=t=>(t||(t=window.matchMedia(wl)),t.matches?"dark":"light"),gw=t=>{switch(t){case"success":return yw;case"info":return ww;case"warning":return bw;case"error":return _w;default:return null}},vw=Array(12).fill(0),xw=({visible:t})=>z.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},z.createElement("div",{className:"sonner-spinner"},vw.map((e,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yw=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bw=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ww=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_w=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Sw=()=>{let[t,e]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},_c=1,Cw=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:_c++,o=this.toasts.find(c=>c.id===s),i=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:r}),{...c,...t,id:s,dismissible:i,title:r}):c):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0;return n.then(async o=>{if(Pw(o)&&!o.ok){s=!1;let i=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,c=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:r,type:"error",message:i,description:c})}else if(e.success!==void 0){s=!1;let i=typeof e.success=="function"?await e.success(o):e.success,c=typeof e.description=="function"?await e.description(o):e.description;this.create({id:r,type:"success",message:i,description:c})}}).catch(async o=>{if(e.error!==void 0){s=!1;let i=typeof e.error=="function"?await e.error(o):e.error,c=typeof e.description=="function"?await e.description(o):e.description;this.create({id:r,type:"error",message:i,description:c})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=e.finally)==null||o.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||_c++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},dt=new Cw,jw=(t,e)=>{let r=(e==null?void 0:e.id)||_c++;return dt.addToast({title:t,...e,id:r}),r},Pw=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ew=jw,Nw=()=>dt.toasts,ar=Object.assign(Ew,{success:dt.success,info:dt.info,warning:dt.warning,error:dt.error,custom:dt.custom,message:dt.message,promise:dt.promise,dismiss:dt.dismiss,loading:dt.loading},{getHistory:Nw});function kw(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}kw(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vo(t){return t.label!==void 0}var Tw=3,Dw="32px",Rw=4e3,Aw=356,Ow=14,Mw=20,Iw=200;function $w(...t){return t.filter(Boolean).join(" ")}var Lw=t=>{var e,r,n,s,o,i,c,d,u,f;let{invert:h,toast:m,unstyled:g,interacting:v,setHeights:p,visibleToasts:x,heights:y,index:b,toasts:w,expanded:_,removeToast:S,defaultRichColors:C,closeButton:j,style:P,cancelButtonStyle:R,actionButtonStyle:A,className:E="",descriptionClassName:k="",duration:D,position:O,gap:G,loadingIcon:L,expandByDefault:W,classNames:$,icons:I,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:Y,cn:T}=t,[U,N]=z.useState(!1),[B,M]=z.useState(!1),[V,X]=z.useState(!1),[Z,q]=z.useState(!1),[oe,re]=z.useState(0),[ye,Pe]=z.useState(0),Me=z.useRef(null),Ae=z.useRef(null),K=b===0,Ee=b+1<=x,le=m.type,Ie=m.dismissible!==!1,Qt=m.className||"",Zt=m.descriptionClassName||"",pt=z.useMemo(()=>y.findIndex(se=>se.toastId===m.id)||0,[y,m.id]),ue=z.useMemo(()=>{var se;return(se=m.closeButton)!=null?se:j},[m.closeButton,j]),ve=z.useMemo(()=>m.duration||D||Rw,[m.duration,D]),qe=z.useRef(0),$e=z.useRef(0),Ze=z.useRef(0),Be=z.useRef(null),[zr,gt]=O.split("-"),Ss=z.useMemo(()=>y.reduce((se,Ne,Se)=>Se>=pt?se:se+Ne.height,0),[y,pt]),Lo=Sw(),ki=m.invert||h,Kr=le==="loading";$e.current=z.useMemo(()=>pt*G+Ss,[pt,Ss]),z.useEffect(()=>{N(!0)},[]),z.useLayoutEffect(()=>{if(!U)return;let se=Ae.current,Ne=se.style.height;se.style.height="auto";let Se=se.getBoundingClientRect().height;se.style.height=Ne,Pe(Se),p(vt=>vt.find(ke=>ke.toastId===m.id)?vt.map(ke=>ke.toastId===m.id?{...ke,height:Se}:ke):[{toastId:m.id,height:Se,position:m.position},...vt])},[U,m.title,m.description,p,m.id]);let Pt=z.useCallback(()=>{M(!0),re($e.current),p(se=>se.filter(Ne=>Ne.toastId!==m.id)),setTimeout(()=>{S(m)},Iw)},[m,S,p,$e]);z.useEffect(()=>{if(m.promise&&le==="loading"||m.duration===1/0||m.type==="loading")return;let se,Ne=ve;return _||v||Y&&Lo?(()=>{if(Ze.current<qe.current){let Se=new Date().getTime()-qe.current;Ne=Ne-Se}Ze.current=new Date().getTime()})():Ne!==1/0&&(qe.current=new Date().getTime(),se=setTimeout(()=>{var Se;(Se=m.onAutoClose)==null||Se.call(m,m),Pt()},Ne)),()=>clearTimeout(se)},[_,v,W,m,ve,Pt,m.promise,le,Y,Lo]),z.useEffect(()=>{let se=Ae.current;if(se){let Ne=se.getBoundingClientRect().height;return Pe(Ne),p(Se=>[{toastId:m.id,height:Ne,position:m.position},...Se]),()=>p(Se=>Se.filter(vt=>vt.toastId!==m.id))}},[p,m.id]),z.useEffect(()=>{m.delete&&Pt()},[Pt,m.delete]);function Ti(){return I!=null&&I.loading?z.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},I.loading):L?z.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},L):z.createElement(xw,{visible:le==="loading"})}return z.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ae,className:T(E,Qt,$==null?void 0:$.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[le],(r=m==null?void 0:m.classNames)==null?void 0:r[le]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:C,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":U,"data-promise":!!m.promise,"data-removed":B,"data-visible":Ee,"data-y-position":zr,"data-x-position":gt,"data-index":b,"data-front":K,"data-swiping":V,"data-dismissible":Ie,"data-type":le,"data-invert":ki,"data-swipe-out":Z,"data-expanded":!!(_||W&&U),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${B?oe:$e.current}px`,"--initial-height":W?"auto":`${ye}px`,...P,...m.style},onPointerDown:se=>{Kr||!Ie||(Me.current=new Date,re($e.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(X(!0),Be.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,Ne,Se,vt;if(Z||!Ie)return;Be.current=null;let ke=Number(((se=Ae.current)==null?void 0:se.style.getPropertyValue("--swipe-amount").replace("px",""))||0),We=new Date().getTime()-((Ne=Me.current)==null?void 0:Ne.getTime()),et=Math.abs(ke)/We;if(Math.abs(ke)>=Mw||et>.11){re($e.current),(Se=m.onDismiss)==null||Se.call(m,m),Pt(),q(!0);return}(vt=Ae.current)==null||vt.style.setProperty("--swipe-amount","0px"),X(!1)},onPointerMove:se=>{var Ne;if(!Be.current||!Ie)return;let Se=se.clientY-Be.current.y,vt=se.clientX-Be.current.x,ke=(zr==="top"?Math.min:Math.max)(0,Se),We=se.pointerType==="touch"?10:2;Math.abs(ke)>We?(Ne=Ae.current)==null||Ne.style.setProperty("--swipe-amount",`${Se}px`):Math.abs(vt)>We&&(Be.current=null)}},ue&&!m.jsx?z.createElement("button",{"aria-label":te,"data-disabled":Kr,"data-close-button":!0,onClick:Kr||!Ie?()=>{}:()=>{var se;Pt(),(se=m.onDismiss)==null||se.call(m,m)},className:T($==null?void 0:$.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||z.isValidElement(m.title)?m.jsx||m.title:z.createElement(z.Fragment,null,le||m.icon||m.promise?z.createElement("div",{"data-icon":"",className:T($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ti():null,m.type!=="loading"?m.icon||(I==null?void 0:I[le])||gw(le):null):null,z.createElement("div",{"data-content":"",className:T($==null?void 0:$.content,(i=m==null?void 0:m.classNames)==null?void 0:i.content)},z.createElement("div",{"data-title":"",className:T($==null?void 0:$.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},m.title),m.description?z.createElement("div",{"data-description":"",className:T(k,Zt,$==null?void 0:$.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},m.description):null),z.isValidElement(m.cancel)?m.cancel:m.cancel&&Vo(m.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:se=>{var Ne,Se;Vo(m.cancel)&&Ie&&((Se=(Ne=m.cancel).onClick)==null||Se.call(Ne,se),Pt())},className:T($==null?void 0:$.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,z.isValidElement(m.action)?m.action:m.action&&Vo(m.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:se=>{var Ne,Se;Vo(m.action)&&(se.defaultPrevented||((Se=(Ne=m.action).onClick)==null||Se.call(Ne,se),Pt()))},className:T($==null?void 0:$.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function qd(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Fw=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:c,theme:d="light",richColors:u,duration:f,style:h,visibleToasts:m=Tw,toastOptions:g,dir:v=qd(),gap:p=Ow,loadingIcon:x,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:_=$w}=t,[S,C]=z.useState([]),j=z.useMemo(()=>Array.from(new Set([r].concat(S.filter(Y=>Y.position).map(Y=>Y.position)))),[S,r]),[P,R]=z.useState([]),[A,E]=z.useState(!1),[k,D]=z.useState(!1),[O,G]=z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=z.useRef(null),W=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=z.useRef(null),I=z.useRef(!1),te=z.useCallback(Y=>{var T;(T=S.find(U=>U.id===Y.id))!=null&&T.delete||dt.dismiss(Y.id),C(U=>U.filter(({id:N})=>N!==Y.id))},[S]);return z.useEffect(()=>dt.subscribe(Y=>{if(Y.dismiss){C(T=>T.map(U=>U.id===Y.id?{...U,delete:!0}:U));return}setTimeout(()=>{ul.flushSync(()=>{C(T=>{let U=T.findIndex(N=>N.id===Y.id);return U!==-1?[...T.slice(0,U),{...T[U],...Y},...T.slice(U+1)]:[Y,...T]})})})}),[]),z.useEffect(()=>{if(d!=="system"){G(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Y})=>{G(Y?"dark":"light")})},[d]),z.useEffect(()=>{S.length<=1&&E(!1)},[S]),z.useEffect(()=>{let Y=T=>{var U,N;n.every(B=>T[B]||T.code===B)&&(E(!0),(U=L.current)==null||U.focus()),T.code==="Escape"&&(document.activeElement===L.current||(N=L.current)!=null&&N.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[n]),z.useEffect(()=>{if(L.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,I.current=!1)}},[L.current]),S.length?z.createElement("section",{"aria-label":`${b} ${W}`,tabIndex:-1},j.map((Y,T)=>{var U;let[N,B]=Y.split("-");return z.createElement("ol",{key:Y,dir:v==="auto"?qd():v,tabIndex:-1,ref:L,className:i,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":N,"data-x-position":B,style:{"--front-toast-height":`${((U=P[0])==null?void 0:U.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||Dw,"--width":`${Aw}px`,"--gap":`${p}px`,...h},onBlur:M=>{I.current&&!M.currentTarget.contains(M.relatedTarget)&&(I.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:M=>{M.target instanceof HTMLElement&&M.target.dataset.dismissible==="false"||I.current||(I.current=!0,$.current=M.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{k||E(!1)},onPointerDown:M=>{M.target instanceof HTMLElement&&M.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},S.filter(M=>!M.position&&T===0||M.position===Y).map((M,V)=>{var X,Z;return z.createElement(Lw,{key:M.id,icons:y,index:V,toast:M,defaultRichColors:u,duration:(X=g==null?void 0:g.duration)!=null?X:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:m,closeButton:(Z=g==null?void 0:g.closeButton)!=null?Z:o,interacting:k,position:Y,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:te,toasts:S.filter(q=>q.position==M.position),heights:P.filter(q=>q.position==M.position),setHeights:R,expandByDefault:s,gap:p,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:w,cn:_})}))})):null};const Bw=({...t})=>{const{theme:e="system"}=Ch();return a.jsx(Fw,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Ww=Rf.useId||(()=>{}),Vw=0;function wt(t){const[e,r]=l.useState(Ww());return Ge(()=>{t||r(n=>n??String(Vw++))},[t]),t||(e?`radix-${e}`:"")}const Uw=["top","right","bottom","left"],Ir=Math.min,ut=Math.max,ha=Math.round,Uo=Math.floor,$r=t=>({x:t,y:t}),Hw={left:"right",right:"left",bottom:"top",top:"bottom"},zw={start:"end",end:"start"};function Sc(t,e,r){return ut(t,Ir(e,r))}function ur(t,e){return typeof t=="function"?t(e):t}function fr(t){return t.split("-")[0]}function hs(t){return t.split("-")[1]}function Sl(t){return t==="x"?"y":"x"}function Cl(t){return t==="y"?"height":"width"}function Lr(t){return["top","bottom"].includes(fr(t))?"y":"x"}function jl(t){return Sl(Lr(t))}function Kw(t,e,r){r===void 0&&(r=!1);const n=hs(t),s=jl(t),o=Cl(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=ma(i)),[i,ma(i)]}function Gw(t){const e=ma(t);return[Cc(t),e,Cc(e)]}function Cc(t){return t.replace(/start|end/g,e=>zw[e])}function qw(t,e,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?o:i;default:return[]}}function Yw(t,e,r,n){const s=hs(t);let o=qw(fr(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Cc)))),o}function ma(t){return t.replace(/left|right|bottom|top/g,e=>Hw[e])}function Xw(t){return{top:0,right:0,bottom:0,left:0,...t}}function jh(t){return typeof t!="number"?Xw(t):{top:t,right:t,bottom:t,left:t}}function pa(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Yd(t,e,r){let{reference:n,floating:s}=t;const o=Lr(e),i=jl(e),c=Cl(i),d=fr(e),u=o==="y",f=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[c]/2-s[c]/2;let g;switch(d){case"top":g={x:f,y:n.y-s.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-s.width,y:h};break;default:g={x:n.x,y:n.y}}switch(hs(e)){case"start":g[i]-=m*(r&&u?-1:1);break;case"end":g[i]+=m*(r&&u?-1:1);break}return g}const Jw=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,c=o.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=Yd(u,n,d),m=n,g={},v=0;for(let p=0;p<c.length;p++){const{name:x,fn:y}=c[p],{x:b,y:w,data:_,reset:S}=await y({x:f,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:t,floating:e}});f=b??f,h=w??h,g={...g,[x]:{...g[x],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:f,y:h}=Yd(u,m,d)),p=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:g}};async function Xs(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:c,strategy:d}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=ur(e,t),v=jh(g),x=c[m?h==="floating"?"reference":"floating":h],y=pa(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:u,rootBoundary:f,strategy:d})),b=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=pa(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:w,strategy:d}):b);return{top:(y.top-S.top+v.top)/_.y,bottom:(S.bottom-y.bottom+v.bottom)/_.y,left:(y.left-S.left+v.left)/_.x,right:(S.right-y.right+v.right)/_.x}}const Qw=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:c,middlewareData:d}=e,{element:u,padding:f=0}=ur(t,e)||{};if(u==null)return{};const h=jh(f),m={x:r,y:n},g=jl(s),v=Cl(g),p=await i.getDimensions(u),x=g==="y",y=x?"top":"left",b=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[g]-m[g]-o.floating[v],S=m[g]-o.reference[g],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=C?C[w]:0;(!j||!await(i.isElement==null?void 0:i.isElement(C)))&&(j=c.floating[w]||o.floating[v]);const P=_/2-S/2,R=j/2-p[v]/2-1,A=Ir(h[y],R),E=Ir(h[b],R),k=A,D=j-p[v]-E,O=j/2-p[v]/2+P,G=Sc(k,O,D),L=!d.arrow&&hs(s)!=null&&O!==G&&o.reference[v]/2-(O<k?A:E)-p[v]/2<0,W=L?O<k?O-k:O-D:0;return{[g]:m[g]+W,data:{[g]:G,centerOffset:O-G-W,...L&&{alignmentOffset:W}},reset:L}}}),Zw=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:c,platform:d,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...x}=ur(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=fr(s),b=Lr(c),w=fr(c)===c,_=await(d.isRTL==null?void 0:d.isRTL(u.floating)),S=m||(w||!p?[ma(c)]:Gw(c)),C=v!=="none";!m&&C&&S.push(...Yw(c,p,v,_));const j=[c,...S],P=await Xs(e,x),R=[];let A=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&R.push(P[y]),h){const O=Kw(s,i,_);R.push(P[O[0]],P[O[1]])}if(A=[...A,{placement:s,overflows:R}],!R.every(O=>O<=0)){var E,k;const O=(((E=o.flip)==null?void 0:E.index)||0)+1,G=j[O];if(G)return{data:{index:O,overflows:A},reset:{placement:G}};let L=(k=A.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:k.placement;if(!L)switch(g){case"bestFit":{var D;const W=(D=A.filter($=>{if(C){const I=Lr($.placement);return I===b||I==="y"}return!0}).map($=>[$.placement,$.overflows.filter(I=>I>0).reduce((I,te)=>I+te,0)]).sort(($,I)=>$[1]-I[1])[0])==null?void 0:D[0];W&&(L=W);break}case"initialPlacement":L=c;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Xd(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Jd(t){return Uw.some(e=>t[e]>=0)}const e0=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=ur(t,e);switch(n){case"referenceHidden":{const o=await Xs(e,{...s,elementContext:"reference"}),i=Xd(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Jd(i)}}}case"escaped":{const o=await Xs(e,{...s,altBoundary:!0}),i=Xd(o,r.floating);return{data:{escapedOffsets:i,escaped:Jd(i)}}}default:return{}}}}};async function t0(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=fr(r),c=hs(r),d=Lr(r)==="y",u=["left","top"].includes(i)?-1:1,f=o&&d?-1:1,h=ur(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof v=="number"&&(g=c==="end"?v*-1:v),d?{x:g*f,y:m*u}:{x:m*u,y:g*f}}const r0=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:c}=e,d=await t0(e,t);return i===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:i}}}}},n0=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:c={fn:x=>{let{x:y,y:b}=x;return{x:y,y:b}}},...d}=ur(t,e),u={x:r,y:n},f=await Xs(e,d),h=Lr(fr(s)),m=Sl(h);let g=u[m],v=u[h];if(o){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",b=g+f[x],w=g-f[y];g=Sc(b,g,w)}if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=v+f[x],w=v-f[y];v=Sc(b,v,w)}const p=c.fn({...e,[m]:g,[h]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[m]:o,[h]:i}}}}}},s0=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:c=0,mainAxis:d=!0,crossAxis:u=!0}=ur(t,e),f={x:r,y:n},h=Lr(s),m=Sl(h);let g=f[m],v=f[h];const p=ur(c,e),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(d){const w=m==="y"?"height":"width",_=o.reference[m]-o.floating[w]+x.mainAxis,S=o.reference[m]+o.reference[w]-x.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var y,b;const w=m==="y"?"width":"height",_=["top","left"].includes(fr(s)),S=o.reference[h]-o.floating[w]+(_&&((y=i.offset)==null?void 0:y[h])||0)+(_?0:x.crossAxis),C=o.reference[h]+o.reference[w]+(_?0:((b=i.offset)==null?void 0:b[h])||0)-(_?x.crossAxis:0);v<S?v=S:v>C&&(v=C)}return{[m]:g,[h]:v}}}},o0=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:c}=e,{apply:d=()=>{},...u}=ur(t,e),f=await Xs(e,u),h=fr(s),m=hs(s),g=Lr(s)==="y",{width:v,height:p}=o.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=m===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(y=h,x=m==="end"?"top":"bottom");const b=p-f.top-f.bottom,w=v-f.left-f.right,_=Ir(p-f[x],b),S=Ir(v-f[y],w),C=!e.middlewareData.shift;let j=_,P=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(P=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=b),C&&!m){const A=ut(f.left,0),E=ut(f.right,0),k=ut(f.top,0),D=ut(f.bottom,0);g?P=v-2*(A!==0||E!==0?A+E:ut(f.left,f.right)):j=p-2*(k!==0||D!==0?k+D:ut(f.top,f.bottom))}await d({...e,availableWidth:P,availableHeight:j});const R=await i.getDimensions(c.floating);return v!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function La(){return typeof window<"u"}function ms(t){return Ph(t)?(t.nodeName||"").toLowerCase():"#document"}function ht(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xt(t){var e;return(e=(Ph(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ph(t){return La()?t instanceof Node||t instanceof ht(t).Node:!1}function At(t){return La()?t instanceof Element||t instanceof ht(t).Element:!1}function qt(t){return La()?t instanceof HTMLElement||t instanceof ht(t).HTMLElement:!1}function Qd(t){return!La()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ht(t).ShadowRoot}function xo(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Ot(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function a0(t){return["table","td","th"].includes(ms(t))}function Fa(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Pl(t){const e=El(),r=At(t)?Ot(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function i0(t){let e=Fr(t);for(;qt(e)&&!os(e);){if(Pl(e))return e;if(Fa(e))return null;e=Fr(e)}return null}function El(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function os(t){return["html","body","#document"].includes(ms(t))}function Ot(t){return ht(t).getComputedStyle(t)}function Ba(t){return At(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fr(t){if(ms(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Qd(t)&&t.host||Xt(t);return Qd(e)?e.host:e}function Eh(t){const e=Fr(t);return os(e)?t.ownerDocument?t.ownerDocument.body:t.body:qt(e)&&xo(e)?e:Eh(e)}function Js(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Eh(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=ht(s);if(o){const c=jc(i);return e.concat(i,i.visualViewport||[],xo(s)?s:[],c&&r?Js(c):[])}return e.concat(s,Js(s,[],r))}function jc(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Nh(t){const e=Ot(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=qt(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,c=ha(r)!==o||ha(n)!==i;return c&&(r=o,n=i),{width:r,height:n,$:c}}function Nl(t){return At(t)?t:t.contextElement}function Wn(t){const e=Nl(t);if(!qt(e))return $r(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=Nh(e);let i=(o?ha(r.width):r.width)/n,c=(o?ha(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const c0=$r(0);function kh(t){const e=ht(t);return!El()||!e.visualViewport?c0:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function l0(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ht(t)?!1:e}function dn(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Nl(t);let i=$r(1);e&&(n?At(n)&&(i=Wn(n)):i=Wn(t));const c=l0(o,r,n)?kh(o):$r(0);let d=(s.left+c.x)/i.x,u=(s.top+c.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(o){const m=ht(o),g=n&&At(n)?ht(n):n;let v=m,p=jc(v);for(;p&&n&&g!==v;){const x=Wn(p),y=p.getBoundingClientRect(),b=Ot(p),w=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*x.x,_=y.top+(p.clientTop+parseFloat(b.paddingTop))*x.y;d*=x.x,u*=x.y,f*=x.x,h*=x.y,d+=w,u+=_,v=ht(p),p=jc(v)}}return pa({width:f,height:h,x:d,y:u})}function d0(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=Xt(n),c=e?Fa(e.floating):!1;if(n===i||c&&o)return r;let d={scrollLeft:0,scrollTop:0},u=$r(1);const f=$r(0),h=qt(n);if((h||!h&&!o)&&((ms(n)!=="body"||xo(i))&&(d=Ba(n)),qt(n))){const m=dn(n);u=Wn(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+f.x,y:r.y*u.y-d.scrollTop*u.y+f.y}}function u0(t){return Array.from(t.getClientRects())}function Pc(t,e){const r=Ba(t).scrollLeft;return e?e.left+r:dn(Xt(t)).left+r}function f0(t){const e=Xt(t),r=Ba(t),n=t.ownerDocument.body,s=ut(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=ut(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Pc(t);const c=-r.scrollTop;return Ot(n).direction==="rtl"&&(i+=ut(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:c}}function h0(t,e){const r=ht(t),n=Xt(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,c=0,d=0;if(s){o=s.width,i=s.height;const u=El();(!u||u&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:o,height:i,x:c,y:d}}function m0(t,e){const r=dn(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=qt(t)?Wn(t):$r(1),i=t.clientWidth*o.x,c=t.clientHeight*o.y,d=s*o.x,u=n*o.y;return{width:i,height:c,x:d,y:u}}function Zd(t,e,r){let n;if(e==="viewport")n=h0(t,r);else if(e==="document")n=f0(Xt(t));else if(At(e))n=m0(e,r);else{const s=kh(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return pa(n)}function Th(t,e){const r=Fr(t);return r===e||!At(r)||os(r)?!1:Ot(r).position==="fixed"||Th(r,e)}function p0(t,e){const r=e.get(t);if(r)return r;let n=Js(t,[],!1).filter(c=>At(c)&&ms(c)!=="body"),s=null;const o=Ot(t).position==="fixed";let i=o?Fr(t):t;for(;At(i)&&!os(i);){const c=Ot(i),d=Pl(i);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xo(i)&&!d&&Th(t,i))?n=n.filter(f=>f!==i):s=c,i=Fr(i)}return e.set(t,n),n}function g0(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?Fa(e)?[]:p0(e,this._c):[].concat(r),n],c=i[0],d=i.reduce((u,f)=>{const h=Zd(e,f,s);return u.top=ut(h.top,u.top),u.right=Ir(h.right,u.right),u.bottom=Ir(h.bottom,u.bottom),u.left=ut(h.left,u.left),u},Zd(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function v0(t){const{width:e,height:r}=Nh(t);return{width:e,height:r}}function x0(t,e,r){const n=qt(e),s=Xt(e),o=r==="fixed",i=dn(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=$r(0);if(n||!n&&!o)if((ms(e)!=="body"||xo(s))&&(c=Ba(e)),n){const g=dn(e,!0,o,e);d.x=g.x+e.clientLeft,d.y=g.y+e.clientTop}else s&&(d.x=Pc(s));let u=0,f=0;if(s&&!n&&!o){const g=s.getBoundingClientRect();f=g.top+c.scrollTop,u=g.left+c.scrollLeft-Pc(s,g)}const h=i.left+c.scrollLeft-d.x-u,m=i.top+c.scrollTop-d.y-f;return{x:h,y:m,width:i.width,height:i.height}}function $i(t){return Ot(t).position==="static"}function eu(t,e){if(!qt(t)||Ot(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Xt(t)===r&&(r=r.ownerDocument.body),r}function Dh(t,e){const r=ht(t);if(Fa(t))return r;if(!qt(t)){let s=Fr(t);for(;s&&!os(s);){if(At(s)&&!$i(s))return s;s=Fr(s)}return r}let n=eu(t,e);for(;n&&a0(n)&&$i(n);)n=eu(n,e);return n&&os(n)&&$i(n)&&!Pl(n)?r:n||i0(t)||r}const y0=async function(t){const e=this.getOffsetParent||Dh,r=this.getDimensions,n=await r(t.floating);return{reference:x0(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function b0(t){return Ot(t).direction==="rtl"}const w0={convertOffsetParentRelativeRectToViewportRelativeRect:d0,getDocumentElement:Xt,getClippingRect:g0,getOffsetParent:Dh,getElementRects:y0,getClientRects:u0,getDimensions:v0,getScale:Wn,isElement:At,isRTL:b0};function _0(t,e){let r=null,n;const s=Xt(t);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function i(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const{left:u,top:f,width:h,height:m}=t.getBoundingClientRect();if(c||e(),!h||!m)return;const g=Uo(f),v=Uo(s.clientWidth-(u+h)),p=Uo(s.clientHeight-(f+m)),x=Uo(u),b={rootMargin:-g+"px "+-v+"px "+-p+"px "+-x+"px",threshold:ut(0,Ir(1,d))||1};let w=!0;function _(S){const C=S[0].intersectionRatio;if(C!==d){if(!w)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(t)}return i(!0),o}function S0(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=Nl(t),f=s||o?[...u?Js(u):[],...Js(e)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const h=u&&c?_0(u,r):null;let m=-1,g=null;i&&(g=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(e)})),r()}),u&&!d&&g.observe(u),g.observe(e));let v,p=d?dn(t):null;d&&x();function x(){const y=dn(t);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&r(),p=y,v=requestAnimationFrame(x)}return r(),()=>{var y;f.forEach(b=>{s&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),h==null||h(),(y=g)==null||y.disconnect(),g=null,d&&cancelAnimationFrame(v)}}const C0=r0,j0=n0,P0=Zw,E0=o0,N0=e0,tu=Qw,k0=s0,T0=(t,e,r)=>{const n=new Map,s={platform:w0,...r},o={...s.platform,_c:n};return Jw(t,e,{...s,platform:o})};var ia=typeof document<"u"?l.useLayoutEffect:l.useEffect;function ga(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ga(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!ga(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Rh(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ru(t,e){const r=Rh(t);return Math.round(e*r)/r}function Li(t){const e=l.useRef(t);return ia(()=>{e.current=t}),e}function D0(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:c=!0,whileElementsMounted:d,open:u}=t,[f,h]=l.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=l.useState(n);ga(m,n)||g(n);const[v,p]=l.useState(null),[x,y]=l.useState(null),b=l.useCallback($=>{$!==C.current&&(C.current=$,p($))},[]),w=l.useCallback($=>{$!==j.current&&(j.current=$,y($))},[]),_=o||v,S=i||x,C=l.useRef(null),j=l.useRef(null),P=l.useRef(f),R=d!=null,A=Li(d),E=Li(s),k=Li(u),D=l.useCallback(()=>{if(!C.current||!j.current)return;const $={placement:e,strategy:r,middleware:m};E.current&&($.platform=E.current),T0(C.current,j.current,$).then(I=>{const te={...I,isPositioned:k.current!==!1};O.current&&!ga(P.current,te)&&(P.current=te,ft.flushSync(()=>{h(te)}))})},[m,e,r,E,k]);ia(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[u]);const O=l.useRef(!1);ia(()=>(O.current=!0,()=>{O.current=!1}),[]),ia(()=>{if(_&&(C.current=_),S&&(j.current=S),_&&S){if(A.current)return A.current(_,S,D);D()}},[_,S,D,A,R]);const G=l.useMemo(()=>({reference:C,floating:j,setReference:b,setFloating:w}),[b,w]),L=l.useMemo(()=>({reference:_,floating:S}),[_,S]),W=l.useMemo(()=>{const $={position:r,left:0,top:0};if(!L.floating)return $;const I=ru(L.floating,f.x),te=ru(L.floating,f.y);return c?{...$,transform:"translate("+I+"px, "+te+"px)",...Rh(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:te}},[r,c,L.floating,f.x,f.y]);return l.useMemo(()=>({...f,update:D,refs:G,elements:L,floatingStyles:W}),[f,D,G,L,W])}const R0=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?tu({element:n.current,padding:s}).fn(r):{}:n?tu({element:n,padding:s}).fn(r):{}}}},A0=(t,e)=>({...C0(t),options:[t,e]}),O0=(t,e)=>({...j0(t),options:[t,e]}),M0=(t,e)=>({...k0(t),options:[t,e]}),I0=(t,e)=>({...P0(t),options:[t,e]}),$0=(t,e)=>({...E0(t),options:[t,e]}),L0=(t,e)=>({...N0(t),options:[t,e]}),F0=(t,e)=>({...R0(t),options:[t,e]});var B0="Arrow",Ah=l.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return a.jsx(Q.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ah.displayName=B0;var W0=Ah;function V0(t,e=[]){let r=[];function n(o,i){const c=l.createContext(i),d=r.length;r=[...r,i];function u(h){const{scope:m,children:g,...v}=h,p=(m==null?void 0:m[t][d])||c,x=l.useMemo(()=>v,Object.values(v));return a.jsx(p.Provider,{value:x,children:g})}function f(h,m){const g=(m==null?void 0:m[t][d])||c,v=l.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>l.createContext(i));return function(c){const d=(c==null?void 0:c[t])||o;return l.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[n,U0(s,...e)]}function U0(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:d,scopeName:u})=>{const h=d(o)[`__scope${u}`];return{...c,...h}},{});return l.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function kl(t){const[e,r]=l.useState(void 0);return Ge(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,c;if("borderBoxSize"in o){const d=o.borderBoxSize,u=Array.isArray(d)?d[0]:d;i=u.inlineSize,c=u.blockSize}else i=t.offsetWidth,c=t.offsetHeight;r({width:i,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Tl="Popper",[Oh,Br]=V0(Tl),[H0,Mh]=Oh(Tl),Ih=t=>{const{__scopePopper:e,children:r}=t,[n,s]=l.useState(null);return a.jsx(H0,{scope:e,anchor:n,onAnchorChange:s,children:r})};Ih.displayName=Tl;var $h="PopperAnchor",Lh=l.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=Mh($h,r),i=l.useRef(null),c=ne(e,i);return l.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(Q.div,{...s,ref:c})});Lh.displayName=$h;var Dl="PopperContent",[z0,K0]=Oh(Dl),Fh=l.forwardRef((t,e)=>{var V,X,Z,q,oe,re;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...p}=t,x=Mh(Dl,r),[y,b]=l.useState(null),w=ne(e,ye=>b(ye)),[_,S]=l.useState(null),C=kl(_),j=(C==null?void 0:C.width)??0,P=(C==null?void 0:C.height)??0,R=n+(o!=="center"?"-"+o:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},E=Array.isArray(u)?u:[u],k=E.length>0,D={padding:A,boundary:E.filter(q0),altBoundary:k},{refs:O,floatingStyles:G,placement:L,isPositioned:W,middlewareData:$}=D0({strategy:"fixed",placement:R,whileElementsMounted:(...ye)=>S0(...ye,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[A0({mainAxis:s+P,alignmentAxis:i}),d&&O0({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?M0():void 0,...D}),d&&I0({...D}),$0({...D,apply:({elements:ye,rects:Pe,availableWidth:Me,availableHeight:Ae})=>{const{width:K,height:Ee}=Pe.reference,le=ye.floating.style;le.setProperty("--radix-popper-available-width",`${Me}px`),le.setProperty("--radix-popper-available-height",`${Ae}px`),le.setProperty("--radix-popper-anchor-width",`${K}px`),le.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),_&&F0({element:_,padding:c}),Y0({arrowWidth:j,arrowHeight:P}),m&&L0({strategy:"referenceHidden",...D})]}),[I,te]=Vh(L),Y=Re(v);Ge(()=>{W&&(Y==null||Y())},[W,Y]);const T=(V=$.arrow)==null?void 0:V.x,U=(X=$.arrow)==null?void 0:X.y,N=((Z=$.arrow)==null?void 0:Z.centerOffset)!==0,[B,M]=l.useState();return Ge(()=>{y&&M(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(q=$.transformOrigin)==null?void 0:q.x,(oe=$.transformOrigin)==null?void 0:oe.y].join(" "),...((re=$.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(z0,{scope:r,placedSide:I,onArrowChange:S,arrowX:T,arrowY:U,shouldHideArrow:N,children:a.jsx(Q.div,{"data-side":I,"data-align":te,...p,ref:w,style:{...p.style,animation:W?void 0:"none"}})})})});Fh.displayName=Dl;var Bh="PopperArrow",G0={top:"bottom",right:"left",bottom:"top",left:"right"},Wh=l.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=K0(Bh,n),i=G0[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(W0,{...s,ref:r,style:{...s.style,display:"block"}})})});Wh.displayName=Bh;function q0(t){return t!==null}var Y0=t=>({name:"transformOrigin",options:t,fn(e){var x,y,b;const{placement:r,rects:n,middlewareData:s}=e,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,c=i?0:t.arrowWidth,d=i?0:t.arrowHeight,[u,f]=Vh(r),h={start:"0%",center:"50%",end:"100%"}[f],m=(((y=s.arrow)==null?void 0:y.x)??0)+c/2,g=(((b=s.arrow)==null?void 0:b.y)??0)+d/2;let v="",p="";return u==="bottom"?(v=i?h:`${m}px`,p=`${-d}px`):u==="top"?(v=i?h:`${m}px`,p=`${n.floating.height+d}px`):u==="right"?(v=`${-d}px`,p=i?h:`${g}px`):u==="left"&&(v=`${n.floating.width+d}px`,p=i?h:`${g}px`),{data:{x:v,y:p}}}});function Vh(t){const[e,r="center"]=t.split("-");return[e,r]}var Wa=Ih,yo=Lh,Va=Fh,Ua=Wh,[Ha,vA]=It("Tooltip",[Br]),za=Br(),Uh="TooltipProvider",X0=700,Ec="tooltip.open",[J0,Rl]=Ha(Uh),Hh=t=>{const{__scopeTooltip:e,delayDuration:r=X0,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,[i,c]=l.useState(!0),d=l.useRef(!1),u=l.useRef(0);return l.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),a.jsx(J0,{scope:e,isOpenDelayed:i,delayDuration:r,onOpen:l.useCallback(()=>{window.clearTimeout(u.current),c(!1)},[]),onClose:l.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>c(!0),n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:l.useCallback(f=>{d.current=f},[]),disableHoverableContent:s,children:o})};Hh.displayName=Uh;var Ka="Tooltip",[Q0,Ga]=Ha(Ka),zh=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:c}=t,d=Rl(Ka,t.__scopeTooltip),u=za(e),[f,h]=l.useState(null),m=wt(),g=l.useRef(0),v=i??d.disableHoverableContent,p=c??d.delayDuration,x=l.useRef(!1),[y=!1,b]=Rt({prop:n,defaultProp:s,onChange:j=>{j?(d.onOpen(),document.dispatchEvent(new CustomEvent(Ec))):d.onClose(),o==null||o(j)}}),w=l.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),_=l.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,b(!0)},[b]),S=l.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b(!1)},[b]),C=l.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,b(!0),g.current=0},p)},[p,b]);return l.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(Wa,{...u,children:a.jsx(Q0,{scope:e,contentId:m,open:y,stateAttribute:w,trigger:f,onTriggerChange:h,onTriggerEnter:l.useCallback(()=>{d.isOpenDelayed?C():_()},[d.isOpenDelayed,C,_]),onTriggerLeave:l.useCallback(()=>{v?S():(window.clearTimeout(g.current),g.current=0)},[S,v]),onOpen:_,onClose:S,disableHoverableContent:v,children:r})})};zh.displayName=Ka;var Nc="TooltipTrigger",Kh=l.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Ga(Nc,r),o=Rl(Nc,r),i=za(r),c=l.useRef(null),d=ne(e,c,s.onTriggerChange),u=l.useRef(!1),f=l.useRef(!1),h=l.useCallback(()=>u.current=!1,[]);return l.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(yo,{asChild:!0,...i,children:a.jsx(Q.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:d,onPointerMove:H(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:H(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:H(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:H(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:H(t.onBlur,s.onClose),onClick:H(t.onClick,s.onClose)})})});Kh.displayName=Nc;var Z0="TooltipPortal",[xA,e_]=Ha(Z0,{forceMount:void 0}),as="TooltipContent",Gh=l.forwardRef((t,e)=>{const r=e_(as,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,i=Ga(as,t.__scopeTooltip);return a.jsx(He,{present:n||i.open,children:i.disableHoverableContent?a.jsx(qh,{side:s,...o,ref:e}):a.jsx(t_,{side:s,...o,ref:e})})}),t_=l.forwardRef((t,e)=>{const r=Ga(as,t.__scopeTooltip),n=Rl(as,t.__scopeTooltip),s=l.useRef(null),o=ne(e,s),[i,c]=l.useState(null),{trigger:d,onClose:u}=r,f=s.current,{onPointerInTransitChange:h}=n,m=l.useCallback(()=>{c(null),h(!1)},[h]),g=l.useCallback((v,p)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},b=o_(y,x.getBoundingClientRect()),w=a_(y,b),_=i_(p.getBoundingClientRect()),S=l_([...w,..._]);c(S),h(!0)},[h]);return l.useEffect(()=>()=>m(),[m]),l.useEffect(()=>{if(d&&f){const v=x=>g(x,f),p=x=>g(x,d);return d.addEventListener("pointerleave",v),f.addEventListener("pointerleave",p),()=>{d.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",p)}}},[d,f,g,m]),l.useEffect(()=>{if(i){const v=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},b=(d==null?void 0:d.contains(x))||(f==null?void 0:f.contains(x)),w=!c_(y,i);b?m():w&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,f,i,u,m]),a.jsx(qh,{...t,ref:o})}),[r_,n_]=Ha(Ka,{isInside:!1}),qh=l.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...c}=t,d=Ga(as,r),u=za(r),{onClose:f}=d;return l.useEffect(()=>(document.addEventListener(Ec,f),()=>document.removeEventListener(Ec,f)),[f]),l.useEffect(()=>{if(d.trigger){const h=m=>{const g=m.target;g!=null&&g.contains(d.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,f]),a.jsx(bn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:a.jsxs(Va,{"data-state":d.stateAttribute,...u,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Uf,{children:n}),a.jsx(r_,{scope:r,isInside:!0,children:a.jsx(Vy,{id:d.contentId,role:"tooltip",children:s||n})})]})})});Gh.displayName=as;var Yh="TooltipArrow",s_=l.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=za(r);return n_(Yh,r).isInside?null:a.jsx(Ua,{...s,...n,ref:e})});s_.displayName=Yh;function o_(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function a_(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function i_(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function c_(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const c=e[o].x,d=e[o].y,u=e[i].x,f=e[i].y;d>n!=f>n&&r<(u-c)*(n-d)/(f-d)+c&&(s=!s)}return s}function l_(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),d_(e)}function d_(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var u_=Hh,f_=zh,h_=Kh,Xh=Gh;const qa=u_,va=f_,xa=h_,Qs=l.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(Xh,{ref:n,sideOffset:e,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Qs.displayName=Xh.displayName;var Ya=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xa=typeof window>"u"||"Deno"in globalThis;function kt(){}function m_(t,e){return typeof t=="function"?t(e):t}function p_(t){return typeof t=="number"&&t>=0&&t!==1/0}function g_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nu(t,e){return typeof t=="function"?t(e):t}function v_(t,e){return typeof t=="function"?t(e):t}function su(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:c}=t;if(i){if(n){if(e.queryHash!==Al(i,e.options))return!1}else if(!eo(e.queryKey,i))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||o&&!o(e))}function ou(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Zs(e.options.mutationKey)!==Zs(o))return!1}else if(!eo(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Al(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zs)(t)}function Zs(t){return JSON.stringify(t,(e,r)=>kc(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function eo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!eo(t[r],e[r])):!1}function Jh(t,e){if(t===e)return t;const r=au(t)&&au(e);if(r||kc(t)&&kc(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),i=o.length,c=r?[]:{};let d=0;for(let u=0;u<i;u++){const f=r?u:o[u];(!r&&n.includes(f)||r)&&t[f]===void 0&&e[f]===void 0?(c[f]=void 0,d++):(c[f]=Jh(t[f],e[f]),c[f]===t[f]&&t[f]!==void 0&&d++)}return s===i&&d===s?t:c}return e}function au(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kc(t){if(!iu(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!iu(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function iu(t){return Object.prototype.toString.call(t)==="[object Object]"}function x_(t){return new Promise(e=>{setTimeout(e,t)})}function y_(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Jh(t,e):e}function b_(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function w_(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Ol=Symbol();function Qh(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ol?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var tn,Nr,Gn,Cf,__=(Cf=class extends Ya{constructor(){super();xe(this,tn);xe(this,Nr);xe(this,Gn);ce(this,Gn,e=>{if(!Xa&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,Nr)||this.setEventListener(F(this,Gn))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Nr))==null||e.call(this),ce(this,Nr,void 0))}setEventListener(e){var r;ce(this,Gn,e),(r=F(this,Nr))==null||r.call(this),ce(this,Nr,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){F(this,tn)!==e&&(ce(this,tn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof F(this,tn)=="boolean"?F(this,tn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},tn=new WeakMap,Nr=new WeakMap,Gn=new WeakMap,Cf),Zh=new __,qn,kr,Yn,jf,S_=(jf=class extends Ya{constructor(){super();xe(this,qn,!0);xe(this,kr);xe(this,Yn);ce(this,Yn,e=>{if(!Xa&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,kr)||this.setEventListener(F(this,Yn))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,kr))==null||e.call(this),ce(this,kr,void 0))}setEventListener(e){var r;ce(this,Yn,e),(r=F(this,kr))==null||r.call(this),ce(this,kr,e(this.setOnline.bind(this)))}setOnline(e){F(this,qn)!==e&&(ce(this,qn,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return F(this,qn)}},qn=new WeakMap,kr=new WeakMap,Yn=new WeakMap,jf),ya=new S_;function C_(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function j_(t){return Math.min(1e3*2**t,3e4)}function em(t){return(t??"online")==="online"?ya.isOnline():!0}var tm=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Fi(t){return t instanceof tm}function rm(t){let e=!1,r=0,n=!1,s;const o=C_(),i=p=>{var x;n||(m(new tm(p)),(x=t.abort)==null||x.call(t))},c=()=>{e=!0},d=()=>{e=!1},u=()=>Zh.isFocused()&&(t.networkMode==="always"||ya.isOnline())&&t.canRun(),f=()=>em(t.networkMode)&&t.canRun(),h=p=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,p),s==null||s(),o.resolve(p))},m=p=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,p),s==null||s(),o.reject(p))},g=()=>new Promise(p=>{var x;s=y=>{(n||u())&&p(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var p;s=void 0,n||(p=t.onContinue)==null||p.call(t)}),v=()=>{if(n)return;let p;const x=r===0?t.initialPromise:void 0;try{p=x??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var C;if(n)return;const b=t.retry??(Xa?0:3),w=t.retryDelay??j_,_=typeof w=="function"?w(r,y):w,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(e||!S){m(y);return}r++,(C=t.onFail)==null||C.call(t,r,y),x_(_).then(()=>u()?void 0:g()).then(()=>{e?m(y):v()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?v():g().then(v),o)}}function P_(){let t=[],e=0,r=c=>{c()},n=c=>{c()},s=c=>setTimeout(c,0);const o=c=>{e?t.push(c):s(()=>{r(c)})},i=()=>{const c=t;t=[],c.length&&s(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||i()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var rt=P_(),rn,Pf,nm=(Pf=class{constructor(){xe(this,rn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),p_(this.gcTime)&&ce(this,rn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xa?1/0:5*60*1e3))}clearGcTimeout(){F(this,rn)&&(clearTimeout(F(this,rn)),ce(this,rn,void 0))}},rn=new WeakMap,Pf),Xn,Jn,yt,Xe,mo,nn,Tt,rr,Ef,E_=(Ef=class extends nm{constructor(e){super();xe(this,Tt);xe(this,Xn);xe(this,Jn);xe(this,yt);xe(this,Xe);xe(this,mo);xe(this,nn);ce(this,nn,!1),ce(this,mo,e.defaultOptions),this.setOptions(e.options),this.observers=[],ce(this,yt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ce(this,Xn,k_(this.options)),this.state=e.state??F(this,Xn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=F(this,Xe))==null?void 0:e.promise}setOptions(e){this.options={...F(this,mo),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,yt).remove(this)}setData(e,r){const n=y_(this.state.data,e,this.options);return Ye(this,Tt,rr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ye(this,Tt,rr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=F(this,Xe))==null?void 0:n.promise;return(s=F(this,Xe))==null||s.cancel(e),r?r.then(kt).catch(kt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Xn))}isActive(){return this.observers.some(e=>v_(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ol||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!g_(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=F(this,Xe))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=F(this,Xe))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),F(this,yt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(F(this,Xe)&&(F(this,nn)?F(this,Xe).cancel({revert:!0}):F(this,Xe).cancelRetry()),this.scheduleGc()),F(this,yt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Tt,rr).call(this,{type:"invalidate"})}fetch(e,r){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Xe))return F(this,Xe).continueRetry(),F(this,Xe).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ce(this,nn,!0),n.signal)})},o=()=>{const h=Qh(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),ce(this,nn,!1),this.options.persister?this.options.persister(h,m,this):h(m)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(d=this.options.behavior)==null||d.onFetch(i,this),ce(this,Jn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Ye(this,Tt,rr).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,v,p;Fi(h)&&h.silent||Ye(this,Tt,rr).call(this,{type:"error",error:h}),Fi(h)||((g=(m=F(this,yt).config).onError)==null||g.call(m,h,this),(p=(v=F(this,yt).config).onSettled)==null||p.call(v,this.state.data,h,this)),this.scheduleGc()};return ce(this,Xe,rm({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,v,p;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){c(x);return}(g=(m=F(this,yt).config).onSuccess)==null||g.call(m,h,this),(p=(v=F(this,yt).config).onSettled)==null||p.call(v,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Ye(this,Tt,rr).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Ye(this,Tt,rr).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Tt,rr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),F(this,Xe).start()}},Xn=new WeakMap,Jn=new WeakMap,yt=new WeakMap,Xe=new WeakMap,mo=new WeakMap,nn=new WeakMap,Tt=new WeakSet,rr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...N_(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Fi(s)&&s.revert&&F(this,Jn)?{...F(this,Jn),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),rt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,yt).notify({query:this,type:"updated",action:e})})},Ef);function N_(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:em(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function k_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ut,Nf,T_=(Nf=class extends Ya{constructor(e={}){super();xe(this,Ut);this.config=e,ce(this,Ut,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??Al(s,r);let i=this.get(o);return i||(i=new E_({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){F(this,Ut).has(e.queryHash)||(F(this,Ut).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=F(this,Ut).get(e.queryHash);r&&(e.destroy(),r===e&&F(this,Ut).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){rt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Ut).get(e)}getAll(){return[...F(this,Ut).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>su(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>su(e,n)):r}notify(e){rt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){rt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){rt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ut=new WeakMap,Nf),Ht,tt,sn,zt,wr,kf,D_=(kf=class extends nm{constructor(e){super();xe(this,zt);xe(this,Ht);xe(this,tt);xe(this,sn);this.mutationId=e.mutationId,ce(this,tt,e.mutationCache),ce(this,Ht,[]),this.state=e.state||R_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,Ht).includes(e)||(F(this,Ht).push(e),this.clearGcTimeout(),F(this,tt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ce(this,Ht,F(this,Ht).filter(r=>r!==e)),this.scheduleGc(),F(this,tt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,Ht).length||(this.state.status==="pending"?this.scheduleGc():F(this,tt).remove(this))}continue(){var e;return((e=F(this,sn))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,i,c,d,u,f,h,m,g,v,p,x,y,b,w,_,S,C,j;ce(this,sn,rm({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,R)=>{Ye(this,zt,wr).call(this,{type:"failed",failureCount:P,error:R})},onPause:()=>{Ye(this,zt,wr).call(this,{type:"pause"})},onContinue:()=>{Ye(this,zt,wr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,tt).canRun(this)}));const r=this.state.status==="pending",n=!F(this,sn).canStart();try{if(!r){Ye(this,zt,wr).call(this,{type:"pending",variables:e,isPaused:n}),await((o=(s=F(this,tt).config).onMutate)==null?void 0:o.call(s,e,this));const R=await((c=(i=this.options).onMutate)==null?void 0:c.call(i,e));R!==this.state.context&&Ye(this,zt,wr).call(this,{type:"pending",context:R,variables:e,isPaused:n})}const P=await F(this,sn).start();return await((u=(d=F(this,tt).config).onSuccess)==null?void 0:u.call(d,P,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,e,this.state.context)),await((g=(m=F(this,tt).config).onSettled)==null?void 0:g.call(m,P,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,P,null,e,this.state.context)),Ye(this,zt,wr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(x=F(this,tt).config).onError)==null?void 0:y.call(x,P,e,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,P,e,this.state.context)),await((S=(_=F(this,tt).config).onSettled)==null?void 0:S.call(_,void 0,P,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,P,e,this.state.context)),P}finally{Ye(this,zt,wr).call(this,{type:"error",error:P})}}finally{F(this,tt).runNext(this)}}},Ht=new WeakMap,tt=new WeakMap,sn=new WeakMap,zt=new WeakSet,wr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rt.batch(()=>{F(this,Ht).forEach(n=>{n.onMutationUpdate(e)}),F(this,tt).notify({mutation:this,type:"updated",action:e})})},kf);function R_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lt,po,Tf,A_=(Tf=class extends Ya{constructor(e={}){super();xe(this,lt);xe(this,po);this.config=e,ce(this,lt,new Map),ce(this,po,Date.now())}build(e,r,n){const s=new D_({mutationCache:this,mutationId:++Fo(this,po)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=Ho(e),n=F(this,lt).get(r)??[];n.push(e),F(this,lt).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Ho(e);if(F(this,lt).has(r)){const s=(n=F(this,lt).get(r))==null?void 0:n.filter(o=>o!==e);s&&(s.length===0?F(this,lt).delete(r):F(this,lt).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=F(this,lt).get(Ho(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=F(this,lt).get(Ho(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){rt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...F(this,lt).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ou(r,n))}findAll(e={}){return this.getAll().filter(r=>ou(e,r))}notify(e){rt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return rt.batch(()=>Promise.all(e.map(r=>r.continue().catch(kt))))}},lt=new WeakMap,po=new WeakMap,Tf);function Ho(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function cu(t){return{onFetch:(e,r)=>{var f,h,m,g,v;const n=e.options,s=(m=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],i=((v=e.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=Qh(e.options,e.fetchOptions),b=async(w,_,S)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};x(C);const j=await y(C),{maxPages:P}=e.options,R=S?w_:b_;return{pages:R(w.pages,j,P),pageParams:R(w.pageParams,_,P)}};if(s&&o.length){const w=s==="backward",_=w?O_:lu,S={pages:o,pageParams:i},C=_(n,S);c=await b(S,C,w)}else{const w=t??o.length;do{const _=d===0?i[0]??n.initialPageParam:lu(n,c);if(d>0&&_==null)break;c=await b(c,_),d++}while(d<w)}return c};e.options.persister?e.fetchFn=()=>{var p,x;return(x=(p=e.options).persister)==null?void 0:x.call(p,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function lu(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function O_(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Oe,Tr,Dr,Qn,Zn,Rr,es,ts,Df,M_=(Df=class{constructor(t={}){xe(this,Oe);xe(this,Tr);xe(this,Dr);xe(this,Qn);xe(this,Zn);xe(this,Rr);xe(this,es);xe(this,ts);ce(this,Oe,t.queryCache||new T_),ce(this,Tr,t.mutationCache||new A_),ce(this,Dr,t.defaultOptions||{}),ce(this,Qn,new Map),ce(this,Zn,new Map),ce(this,Rr,0)}mount(){Fo(this,Rr)._++,F(this,Rr)===1&&(ce(this,es,Zh.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Oe).onFocus())})),ce(this,ts,ya.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Oe).onOnline())})))}unmount(){var t,e;Fo(this,Rr)._--,F(this,Rr)===0&&((t=F(this,es))==null||t.call(this),ce(this,es,void 0),(e=F(this,ts))==null||e.call(this),ce(this,ts,void 0))}isFetching(t){return F(this,Oe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Tr).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=F(this,Oe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=F(this,Oe).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(nu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return F(this,Oe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=F(this,Oe).get(n.queryHash),o=s==null?void 0:s.state.data,i=m_(e,o);if(i!==void 0)return F(this,Oe).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return rt.batch(()=>F(this,Oe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=F(this,Oe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=F(this,Oe);rt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=F(this,Oe),n={type:"active",...t};return rt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=rt.batch(()=>F(this,Oe).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(kt).catch(kt)}invalidateQueries(t={},e={}){return rt.batch(()=>{if(F(this,Oe).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=rt.batch(()=>F(this,Oe).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(kt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(kt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=F(this,Oe).build(this,e);return r.isStaleByTime(nu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(kt).catch(kt)}fetchInfiniteQuery(t){return t.behavior=cu(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(kt).catch(kt)}ensureInfiniteQueryData(t){return t.behavior=cu(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ya.isOnline()?F(this,Tr).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Oe)}getMutationCache(){return F(this,Tr)}getDefaultOptions(){return F(this,Dr)}setDefaultOptions(t){ce(this,Dr,t)}setQueryDefaults(t,e){F(this,Qn).set(Zs(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Qn).values()];let r={};return e.forEach(n=>{eo(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){F(this,Zn).set(Zs(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Zn).values()];let r={};return e.forEach(n=>{eo(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Dr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Al(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Ol&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Dr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Oe).clear(),F(this,Tr).clear()}},Oe=new WeakMap,Tr=new WeakMap,Dr=new WeakMap,Qn=new WeakMap,Zn=new WeakMap,Rr=new WeakMap,es=new WeakMap,ts=new WeakMap,Df),I_=l.createContext(void 0),$_=({client:t,children:e})=>(l.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(I_.Provider,{value:t,children:e}));const L_="modulepreload",F_=function(t){return"/put-options-se/"+t},du={},bo=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(d=>{if(d=F_(d),d in du)return;du[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":L_,u||(h.as="script"),h.crossOrigin="",h.href=d,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},B_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>bo(async()=>{const{default:n}=await Promise.resolve().then(()=>ps);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ml extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class W_ extends Ml{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uu extends Ml{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fu extends Ml{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tc||(Tc={}));var V_=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{u(n.next(f))}catch(h){i(h)}}function d(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(c,d)}u((n=n.apply(t,e||[])).next())})};class U_{constructor(e,{headers:r={},customFetch:n,region:s=Tc.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=B_(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return V_(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let c={},{region:d}=r;d||(d=this.region);const u=new URL(`${this.url}/${e}`);d&&d!=="any"&&(c["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let f;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=i):typeof i=="string"?(c["Content-Type"]="text/plain",f=i):typeof FormData<"u"&&i instanceof FormData?f=i:(c["Content-Type"]="application/json",f=JSON.stringify(i)));const h=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:f}).catch(p=>{throw new W_(p)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new uu(h);if(!h.ok)throw new fu(h);let g=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof fu||s instanceof uu?s.context:void 0}}})}}var ot={},Il={},Ja={},wo={},Qa={},Za={},H_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},is=H_();const z_=is.fetch,sm=is.fetch.bind(is),om=is.Headers,K_=is.Request,G_=is.Response,ps=Object.freeze(Object.defineProperty({__proto__:null,Headers:om,Request:K_,Response:G_,default:sm,fetch:z_},Symbol.toStringTag,{value:"Module"})),q_=ty(ps);var ei={};Object.defineProperty(ei,"__esModule",{value:!0});let Y_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ei.default=Y_;var am=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Za,"__esModule",{value:!0});const X_=am(q_),J_=am(ei);let Q_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=X_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,c,d;let u=null,f=null,h=null,m=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");p&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const p=await o.text();try{u=JSON.parse(p),Array.isArray(u)&&o.status===404&&(f=[],u=null,m=200,g="OK")}catch{o.status===404&&p===""?(m=204,g="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&this.shouldThrowOnError)throw new J_.default(u)}return{error:u,data:f,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,c,d;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(c=o==null?void 0:o.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=o==null?void 0:o.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Za.default=Q_;var Z_=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qa,"__esModule",{value:!0});const eS=Z_(Za);let tS=class extends eS.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",c=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${c?`${c},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var c;const d=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${d};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qa.default=tS;var rS=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wo,"__esModule",{value:!0});const nS=rS(Qa);let sS=class extends nS.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};wo.default=sS;var oS=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ja,"__esModule",{value:!0});const ks=oS(wo);let aS=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new ks.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(i.length>0){const c=[...new Set(i)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ks.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const d=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(d.length>0){const u=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new ks.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new ks.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ks.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ja.default=aS;var ti={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.version=void 0;ri.version="0.0.0-automated";Object.defineProperty(ti,"__esModule",{value:!0});ti.DEFAULT_HEADERS=void 0;const iS=ri;ti.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${iS.version}`};var im=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Il,"__esModule",{value:!0});const cS=im(Ja),lS=im(wo),dS=ti;let uS=class cm{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},dS.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new cS.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new cm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const c=new URL(`${this.url}/rpc/${e}`);let d;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(i="POST",d=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new lS.default({method:i,url:c,headers:u,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};Il.default=uS;var gs=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ot,"__esModule",{value:!0});ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const lm=gs(Il);ot.PostgrestClient=lm.default;const dm=gs(Ja);ot.PostgrestQueryBuilder=dm.default;const um=gs(wo);ot.PostgrestFilterBuilder=um.default;const fm=gs(Qa);ot.PostgrestTransformBuilder=fm.default;const hm=gs(Za);ot.PostgrestBuilder=hm.default;const mm=gs(ei);ot.PostgrestError=mm.default;var fS=ot.default={PostgrestClient:lm.default,PostgrestQueryBuilder:dm.default,PostgrestFilterBuilder:um.default,PostgrestTransformBuilder:fm.default,PostgrestBuilder:hm.default,PostgrestError:mm.default};const{PostgrestClient:hS,PostgrestQueryBuilder:CA,PostgrestFilterBuilder:jA,PostgrestTransformBuilder:PA,PostgrestBuilder:EA,PostgrestError:NA}=fS;class mS{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const s=this.dynamicRequire("undici");if(s&&s.WebSocket)return{type:"native",constructor:s.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const s=this.dynamicRequire("ws");if(s)return{type:"ws",constructor:(r=s.WebSocket)!==null&&r!==void 0?r:s};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pS="2.15.0",gS=`realtime-js/${pS}`,vS="1.0.0",Dc=1e4,xS=1e3,yS=100;var Ls;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ls||(Ls={}));var Le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Le||(Le={}));var Dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Dt||(Dt={}));var Rc;(function(t){t.websocket="websocket"})(Rc||(Rc={}));var Jr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jr||(Jr={}));class bS{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const c=n.decode(e.slice(i,i+s));i=i+s;const d=n.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:c,event:d,payload:u}}}class pm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Te||(Te={}));const hu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=wS(i,t,e,s),o),{})},wS=(t,e,r,n)=>{const s=e.find(c=>c.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?gm(o,i):Ac(i)},gm=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return jS(e,r)}switch(t){case Te.bool:return _S(e);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return SS(e);case Te.json:case Te.jsonb:return CS(e);case Te.timestamp:return PS(e);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Ac(e);default:return Ac(e)}},Ac=t=>t,_S=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},SS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},CS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},jS=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(c=>gm(e,c))}return t},PS=t=>typeof t=="string"?t.replace(" ","T"):t,vm=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Bi{constructor(e,r,n={},s=Dc){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mu||(mu={}));class Fs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fs.syncState(this.state,s,o,i),this.pendingDiffs.forEach(d=>{this.state=Fs.syncDiff(this.state,d,o,i)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fs.syncDiff(this.state,s,o,i),c())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),c={},d={};return this.map(o,(u,f)=>{i[u]||(d[u]=f)}),this.map(i,(u,f)=>{const h=o[u];if(h){const m=f.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),v=f.filter(x=>g.indexOf(x.presence_ref)<0),p=h.filter(x=>m.indexOf(x.presence_ref)<0);v.length>0&&(c[u]=v),p.length>0&&(d[u]=p)}else c[u]=f}),this.syncDiff(o,{joins:c,leaves:d},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var u;const f=(u=e[c])!==null&&u!==void 0?u:[];if(e[c]=this.cloneDeep(d),f.length>0){const h=e[c].map(g=>g.presence_ref),m=f.filter(g=>h.indexOf(g.presence_ref)<0);e[c].unshift(...m)}n(c,f,d)}),this.map(i,(c,d)=>{let u=e[c];if(!u)return;const f=d.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[c]=u,s(c,u,d),u.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pu||(pu={}));var Bs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bs||(Bs={}));var sr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(sr||(sr={}));class $l{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bi(this,Dt.join,this.params,this.timeout),this.rejoinTimer=new pm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Fs(this),this.broadcastEndpointURL=vm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:o,presence:i,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Bs.PRESENCE]&&this.bindings[Bs.PRESENCE].length>0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(sr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(sr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){e==null||e(sr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,p=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,x=[];for(let y=0;y<p;y++){const b=v[y],{filter:{event:w,schema:_,table:S,filter:C}}=b,j=m&&m[y];if(j&&j.event===w&&j.schema===_&&j.table===S&&j.filter===C)x.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=Le.errored,e==null||e(sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(sr.SUBSCRIBED);return}}).receive("error",m=>{this.state=Le.errored,e==null||e(sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Le.joined&&e===Bs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,c,d;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(i=this.params)===null||i===void 0?void 0:i.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Bi(this,Dt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Le.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bi(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:c,error:d,leave:u,join:f}=Dt;if(n&&[c,d,u,f].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,p,x;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(p=g.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(g=>g.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var v,p,x,y,b,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(b=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:p,table:x,commit_timestamp:y,type:b,errors:w}=v;m=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}g.callback(m,n)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&$l.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dt.close,{},e)}_onError(e){this._on(Dt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hu(e.columns,e.old_record)),r}}const gu=()=>{},zo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ES=[1e3,2e3,5e3,1e4],NS=1e4,kS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TS{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dc,this.transport=null,this.heartbeatIntervalMs=zo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gu,this.ref=0,this.reconnectTimer=null,this.logger=gu,this.conn=null,this.sendBuffer=[],this.serializer=new bS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>bo(async()=>{const{default:c}=await Promise.resolve().then(()=>ps);return{default:c}},void 0).then(({default:c})=>c(...i)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Rc.websocket}`,this.httpEndpoint=vm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mS.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vS}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ls.connecting:return Jr.Connecting;case Ls.open:return Jr.Open;case Ls.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new $l(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(xS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},zo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,c=i?`(${i})`:"",d=o.status||"";this.log("receive",`${d} ${n} ${s} ${c}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([kS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:gS};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Dt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new pm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,c,d,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Dc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:zo.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>ES[f-1]||NS,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(f,h)=>h(JSON.stringify(f)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ll extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ve(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class DS extends Ll{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Oc extends Ll{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var RS=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{u(n.next(f))}catch(h){i(h)}}function d(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(c,d)}u((n=n.apply(t,e||[])).next())})};const xm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>bo(async()=>{const{default:n}=await Promise.resolve().then(()=>ps);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},AS=()=>RS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bo(()=>Promise.resolve().then(()=>ps),void 0)).Response:Response}),Mc=t=>{if(Array.isArray(t))return t.map(r=>Mc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Mc(n)}),e},OS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var wn=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{u(n.next(f))}catch(h){i(h)}}function d(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(c,d)}u((n=n.apply(t,e||[])).next())})};const Wi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MS=(t,e,r)=>wn(void 0,void 0,void 0,function*(){const n=yield AS();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new DS(Wi(s),o,i))}).catch(s=>{e(new Oc(Wi(s),s))}):e(new Oc(Wi(t),t))}),IS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(OS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function _o(t,e,r,n,s,o){return wn(this,void 0,void 0,function*(){return new Promise((i,c)=>{t(r,IS(e,n,s,o)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>i(d)).catch(d=>MS(d,c,n))})})}function ba(t,e,r,n){return wn(this,void 0,void 0,function*(){return _o(t,"GET",e,r,n)})}function or(t,e,r,n,s){return wn(this,void 0,void 0,function*(){return _o(t,"POST",e,n,s,r)})}function Ic(t,e,r,n,s){return wn(this,void 0,void 0,function*(){return _o(t,"PUT",e,n,s,r)})}function $S(t,e,r,n){return wn(this,void 0,void 0,function*(){return _o(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ym(t,e,r,n,s){return wn(this,void 0,void 0,function*(){return _o(t,"DELETE",e,n,s,r)})}var st=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{u(n.next(f))}catch(h){i(h)}}function d(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(c,d)}u((n=n.apply(t,e||[])).next())})};const LS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FS{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=xm(s)}uploadOrUpdate(e,r,n,s){return st(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},vu),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const d=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=n,c["cache-control"]=`max-age=${i.cacheControl}`,c["content-type"]=i.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),h=yield(e=="PUT"?Ic:or)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:c},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}upload(e,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return st(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${i}`);c.searchParams.set("token",r);try{let d;const u=Object.assign({upsert:vu.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",u.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",u.cacheControl)):(d=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield Ic(this.fetch,c.toString(),d,{headers:f});return{data:{path:o,fullPath:h.Key},error:null}}catch(d){if(Ve(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return st(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield or(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),c=i.searchParams.get("token");if(!c)throw new Ll("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:c},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}update(e,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return st(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}copy(e,r,n){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield or(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return st(this,void 0,void 0,function*(){try{const s=yield or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}download(e,r){return st(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield ba(this.fetch,`${this.url}/${s}/${c}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Ve(c))return{data:null,error:c};throw c}})}info(e){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ba(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Mc(n),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}exists(e){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield $S(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ve(n)&&n instanceof Oc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&s.push(d);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(e){return st(this,void 0,void 0,function*(){try{return{data:yield ym(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}list(e,r,n){return st(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},LS),r),{prefix:e||""});return{data:yield or(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const BS="2.10.4",WS={"X-Client-Info":`storage-js/${BS}`};var Pn=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{u(n.next(f))}catch(h){i(h)}}function d(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(c,d)}u((n=n.apply(t,e||[])).next())})};class VS{constructor(e,r={},n,s){const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},WS),r),this.fetch=xm(n)}listBuckets(){return Pn(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ve(e))return{data:null,error:e};throw e}})}getBucket(e){return Pn(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Pn(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Pn(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Pn(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Pn(this,void 0,void 0,function*(){try{return{data:yield ym(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}}class US extends VS{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new FS(this.url,this.headers,e,this.fetch)}}const HS="2.54.0";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const zS={"X-Client-Info":`supabase-js-${Os}/${HS}`},KS={headers:zS},GS={schema:"public"},qS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YS={};var XS=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{u(n.next(f))}catch(h){i(h)}}function d(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(c,d)}u((n=n.apply(t,e||[])).next())})};const JS=t=>{let e;return t?e=t:typeof fetch>"u"?e=sm:e=fetch,(...r)=>e(...r)},QS=()=>typeof Headers>"u"?om:Headers,ZS=(t,e,r)=>{const n=JS(r),s=QS();return(o,i)=>XS(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:t;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${d}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var eC=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{u(n.next(f))}catch(h){i(h)}}function d(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(c,d)}u((n=n.apply(t,e||[])).next())})};function tC(t){return t.endsWith("/")?t:t+"/"}function rC(t,e){var r,n;const{db:s,auth:o,realtime:i,global:c}=t,{db:d,auth:u,realtime:f,global:h}=e,m={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},f),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>eC(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const bm="2.71.1",$n=30*1e3,$c=3,Vi=$c*$n,nC="http://localhost:9999",sC="supabase.auth.token",oC={"X-Client-Info":`gotrue-js/${bm}`},Lc="X-Supabase-Api-Version",wm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iC=10*60*1e3;class Fl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cC extends Fl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function lC(t){return ae(t)&&t.name==="AuthApiError"}class _m extends Fl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wr extends Fl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class _r extends Wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dC(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Ko extends Wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Go extends Wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qo extends Wr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uC(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class xu extends Wr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fc extends Wr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ui(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class yu extends Wr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bc extends Wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bu=` 	
\r=`.split(""),fC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bu.length;e+=1)t[bu[e].charCodeAt(0)]=-2;for(let e=0;e<wa.length;e+=1)t[wa[e].charCodeAt(0)]=e;return t})();function wu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(wa[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(wa[n]),e.queuedBits-=6}}function Sm(t,e,r){const n=fC[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _u(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{pC(i,n,r)};for(let i=0;i<t.length;i+=1)Sm(t.charCodeAt(i),s,o);return e.join("")}function hC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mC(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}hC(n,e)}}function pC(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function gC(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Sm(t.charCodeAt(s),r,n);return new Uint8Array(e)}function vC(t){const e=[];return mC(t,r=>e.push(r)),new Uint8Array(e)}function xC(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>wu(s,r,n)),wu(null,r,n),e.join("")}function yC(t){return Math.round(Date.now()/1e3)+t}function bC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Et=()=>typeof window<"u"&&typeof document<"u",Gr={tested:!1,writable:!1},Cm=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gr.tested)return Gr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gr.tested=!0,Gr.writable=!0}catch{Gr.tested=!0,Gr.writable=!1}return Gr.writable};function wC(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const jm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>bo(async()=>{const{default:n}=await Promise.resolve().then(()=>ps);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},_C=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ln=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},qr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yr=async(t,e)=>{await t.removeItem(e)};class ni{constructor(){this.promise=new ni.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ni.promiseConstructor=Promise;function Hi(t){const e=t.split(".");if(e.length!==3)throw new Bc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!aC.test(e[n]))throw new Bc("JWT not in base64url format");return{header:JSON.parse(_u(e[0])),payload:JSON.parse(_u(e[1])),signature:gC(e[2]),raw:{header:e[0],payload:e[1]}}}async function SC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function CC(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function jC(t){return("0"+t.toString(16)).substr(-2)}function PC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,jC).join("")}async function EC(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function NC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await EC(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function En(t,e,r=!1){const n=PC();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ln(t,`${e}-code-verifier`,s);const o=await NC(n);return[o,n===o?"plain":"s256"]}const kC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TC(t){const e=t.headers.get(Lc);if(!e||!e.match(kC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function DC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function RC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nn(t){if(!AC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zi(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Su(t){return JSON.parse(JSON.stringify(t))}var OC=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Yr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MC=[502,503,504];async function Cu(t){var e;if(!_C(t))throw new Fc(Yr(t),0);if(MC.includes(t.status))throw new Fc(Yr(t),t.status);let r;try{r=await t.json()}catch(o){throw new _m(Yr(o),o)}let n;const s=TC(t);if(s&&s.getTime()>=wm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yu(Yr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new _r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new yu(Yr(r),t.status,r.weak_password.reasons);throw new cC(Yr(r),t.status||500,n)}const IC=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function fe(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Lc]||(o[Lc]=wm["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const c=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",d=await $C(t,e,r+c,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function $C(t,e,r,n,s,o){const i=IC(e,n,s,o);let c;try{c=await t(r,Object.assign({},i))}catch(d){throw console.error(d),new Fc(Yr(d),0)}if(c.ok||await Cu(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(d){await Cu(d)}}function nr(t){var e;let r=null;WC(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=yC(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ju(t){const e=nr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function LC(t){return{data:t,error:null}}function FC(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=OC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},d=Object.assign({},i);return{data:{properties:c,user:d},error:null}}function BC(t){return t}function WC(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ki=["global","local","others"];var VC=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class UC{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=jm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Ki[0]){if(Ki.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ki.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=VC(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:FC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,c,d;try{const u={nextPage:null,lastPage:0,total:0},f=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:BC});if(f.error)throw f.error;const h=await f.json(),m=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(d=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Nn(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Nn(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Pr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Nn(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Nn(e.userId);try{const{data:r,error:n}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Nn(e.userId),Nn(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function Pu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function HC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kn={debug:!!(globalThis&&Cm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zC extends Pm{}async function KC(t,e,r){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}HC();const GC={url:nC,storageKey:sC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Eu(t,e,r){return await r()}const Tn={};class to{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=to.nextInstanceID,to.nextInstanceID+=1,this.instanceID>0&&Et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},GC),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new UC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=jm(s.fetch),this.lock=s.lock||Eu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=KC:this.lock=Eu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Cm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Pu(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Tn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Tn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=wC(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),uC(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",c),await this._saveSession(i),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?{error:r}:{error:new _m("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:nr}),{data:i,error:c}=o;if(c||!i)return{data:{user:null,session:null},error:c};const d=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:f,password:h,options:m}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await En(this.storage,this.storageKey)),o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:v},xform:nr})}else if("phone"in e){const{phone:f,password:h,options:m}=e;o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:nr})}else throw new Go("You must provide either an email or phone number and a password");const{data:i,error:c}=o;if(c||!i)return{data:{user:null,session:null},error:c};const d=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:c}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ju})}else if("phone"in e){const{phone:o,password:i,options:c}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ju})}else throw new Go("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ko}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,o,i,c,d,u,f,h,m,g;let v,p;if("message"in e)v=e.message,p=e.signature;else{const{chain:x,wallet:y,statement:b,options:w}=e;let _;if(Et())if(typeof y=="object")_=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),p=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(f=w==null?void 0:w.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=C}}try{const{data:x,error:y}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:xC(p)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:nr});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ko}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(ae(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const r=await qr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:nr});if(await yr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ko}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ae(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,c=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nr}),{data:d,error:u}=c;return u?{data:{user:null,session:null},error:u}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ko}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:u})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:c,options:d}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await En(this.storage,this.storageKey));const{error:h}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:c,options:d}=e,{data:u,error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Go("You must provide either an email or phone number.")}catch(c){if(ae(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:c}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:nr});if(c)throw c;if(!i)throw new Error("An error occurred on token verification.");const d=i.session,u=i.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await En(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:LC})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new _r;const{error:s}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:c}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:c}}throw new Go("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Vi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await qr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=zi()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,u,f)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,u,f))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pr}):await this._useSession(async r=>{var n,s,o;const{data:i,error:c}=r;if(c)throw c;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _r}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Pr})})}catch(r){if(ae(r))return dC(r)&&(await this._removeSession(),await yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new _r;const i=s.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await En(this.storage,this.storageKey));const{data:u,error:f}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:i.access_token,xform:Pr});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _r;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Hi(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:c}=r;if(c)throw c;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new _r;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Et())throw new qo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xu("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:c,expires_at:d,token_type:u}=e;if(!o||!c||!i||!u)throw new qo("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(c);let m=f+h;d&&(m=parseInt(d));const g=m-f;g*1e3<=$n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=m-h;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,f);const{data:p,error:x}=await this._getUser(o);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:m,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:c}=await this.admin.signOut(i,e);if(c&&!(lC(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=bC(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await En(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,c,d,u,f;const{data:h,error:m}=o;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Et()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ae(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await CC(async s=>(s>0&&await SC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Ui(o)&&Date.now()+i-n<$n})}catch(n){if(this._debug(r,"error",n),ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await qr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Ln(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:zi()}else if(s&&!s.user&&!s.user){const i=await qr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await yr(this.storage,this.storageKey+"-user"),await Ln(this.storage,this.storageKey,s)):s.user=zi()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Vi;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Vi}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Ui(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:c}=await this._getUser(s.access_token);!c&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new _r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ni;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new _r;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),ae(o)){const i={session:null,error:o};return Ui(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(d){o.push(d)}});if(await Promise.all(i),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ln(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Su(s);await Ln(this.storage,this.storageKey,o)}else{const s=Su(r);await Ln(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await yr(this.storage,this.storageKey),await yr(this.storage,this.storageKey+"-code-verifier"),await yr(this.storage,this.storageKey+"-user"),this.userStorage&&await yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$n);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/$n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$n}ms, refresh threshold is ${$c} ticks`),s<=$c&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await En(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:c}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:c})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Hi(s.access_token);let c=null;i.aal&&(c=i.aal);let d=c;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=i.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+iC>s)return n;const{data:o,error:i}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};n=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:c,payload:d}}=Hi(n);r!=null&&r.allowExpired||DC(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const f=RC(s.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,i,vC(`${c}.${d}`)))throw new Bc("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}to.nextInstanceID=0;const qC=to;class YC extends qC{constructor(e){super(e)}}var XC=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{u(n.next(f))}catch(h){i(h)}}function d(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(c,d)}u((n=n.apply(t,e||[])).next())})};class JC{constructor(e,r,n){var s,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=tC(e),d=new URL(c);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const u=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:GS,realtime:YS,auth:Object.assign(Object.assign({},qS),{storageKey:u}),global:KS},h=rC(n??{},f);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=ZS(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new hS(new URL("rest/v1",d).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new US(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new U_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return XC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:c,debug:d},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YC({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new TS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QC=(t,e,r)=>new JC(t,e,r);function ZC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ZC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ej="https://isaojcmuooftwhdnubhs.supabase.co",tj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlzYW9qY211b29mdHdoZG51YmhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MjE4MTgsImV4cCI6MjA3MDM5NzgxOH0.cexAMM2q1sLCAIpRUe2L-NUhKFV5RUVaT2tR8nt-PjQ",ir=QC(ej,tj,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Em=l.createContext({user:null,session:null,loading:!0,signIn:async()=>({error:null}),signUp:async()=>({error:null}),signOut:async()=>{}}),rj=({children:t})=>{const[e,r]=l.useState(null),[n,s]=l.useState(null),[o,i]=l.useState(!0);console.log("AuthProvider render - user:",e,"session:",n,"loading:",o),l.useEffect(()=>{const{data:{subscription:f}}=ir.auth.onAuthStateChange((h,m)=>{s(m),r((m==null?void 0:m.user)??null)});return ir.auth.getSession().then(({data:{session:h}})=>{s(h),r((h==null?void 0:h.user)??null),i(!1)}),()=>f.unsubscribe()},[]);const c=async(f,h)=>{const{error:m}=await ir.auth.signInWithPassword({email:f,password:h});return{error:m}},d=async(f,h)=>{let m;window.location.hostname.includes("github.io")?m=`${window.location.origin}/put-options-se/#/auth/callback`:m=`${window.location.origin}/#/auth/callback`,console.log("SignUp redirect URL:",m);const{error:g}=await ir.auth.signUp({email:f,password:h,options:{emailRedirectTo:m}});return{error:g}},u=async()=>{await ir.auth.signOut()};return a.jsx(Em.Provider,{value:{user:e,session:n,loading:o,signIn:c,signUp:d,signOut:u},children:t})},So=()=>l.useContext(Em),Bl=()=>{const{user:t}=So(),[e,r]=l.useState([]),[n,s]=l.useState({underlyingValue:1e5,transactionCost:150}),[o,i]=l.useState(!0);l.useEffect(()=>{if(!t){i(!1);return}c()},[t]);const c=async()=>{if(t)try{i(!0);const{data:f,error:h}=await ir.from("user_preferences").select("preference_type, preference_data").eq("user_id",t.id);if(h){console.error("Error loading preferences:",h);return}f==null||f.forEach(m=>{m.preference_type==="column_preferences"?r(m.preference_data):m.preference_type==="calculation_settings"&&s(m.preference_data)})}catch(f){console.error("Error loading preferences:",f)}finally{i(!1)}};return{columnPreferences:e,calculationSettings:n,isLoading:o,saveColumnPreferences:async f=>{if(!t){console.log("User not authenticated, skipping column preferences save");return}try{const{error:h}=await ir.from("user_preferences").upsert({user_id:t.id,preference_type:"column_preferences",preference_data:f},{onConflict:"user_id,preference_type"});if(h){ar.error("Failed to save column preferences"),console.error("Error saving column preferences:",h);return}r(f),ar.success("Column preferences saved")}catch(h){ar.error("Failed to save column preferences"),console.error("Error saving column preferences:",h)}},saveCalculationSettings:async f=>{if(!t){console.log("User not authenticated, skipping calculation settings save");return}try{const{error:h}=await ir.from("user_preferences").upsert({user_id:t.id,preference_type:"calculation_settings",preference_data:f},{onConflict:"user_id,preference_type"});if(h){ar.error("Failed to save calculation settings"),console.error("Error saving calculation settings:",h);return}s(f),ar.success("Calculation settings saved")}catch(h){ar.error("Failed to save calculation settings"),console.error("Error saving calculation settings:",h)}},refreshPreferences:c}},Nm=l.createContext(void 0),Co=()=>{const t=l.useContext(Nm);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},nj=({children:t})=>{const{calculationSettings:e,saveCalculationSettings:r,isLoading:n}=Bl(),[s,o]=l.useState(1e5),[i,c]=l.useState(150);l.useEffect(()=>{if(!n)if(e.underlyingValue!==1e5||e.transactionCost!==150)o(e.underlyingValue),c(e.transactionCost);else{const f=localStorage.getItem("underlyingValue");if(f){const m=parseInt(f,10);!isNaN(m)&&m>0&&o(m)}const h=localStorage.getItem("transactionCost");if(h){const m=parseInt(h,10);!isNaN(m)&&m>=0&&c(m)}}},[e,n]);const d=f=>{console.log("SettingsContext: Setting underlying value to",f,"Previous value was:",s),o(f),localStorage.setItem("underlyingValue",f.toString()),r({underlyingValue:f,transactionCost:i}),console.log("SettingsContext: Updated both localStorage and database with:",f)},u=f=>{c(f),localStorage.setItem("transactionCost",f.toString()),r({underlyingValue:s,transactionCost:f})};return a.jsx(Nm.Provider,{value:{underlyingValue:s,setUnderlyingValue:d,transactionCost:i,setTransactionCost:u},children:t})},Wl=l.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:J("w-full caption-bottom text-sm",t),...e})}));Wl.displayName="Table";const Vl=l.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:J("[&_tr]:border-b",t),...e}));Vl.displayName="TableHeader";const Ul=l.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:J("[&_tr:last-child]:border-0",t),...e}));Ul.displayName="TableBody";const sj=l.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));sj.displayName="TableFooter";const ro=l.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ro.displayName="TableRow";const Wt=l.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Wt.displayName="TableHead";const Vt=l.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Vt.displayName="TableCell";const oj=l.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:J("mt-4 text-sm text-muted-foreground",t),...e}));oj.displayName="TableCaption";var aj=l.createContext(void 0);function vs(t){const e=l.useContext(aj);return t||e||"ltr"}function no(t,[e,r]){return Math.min(r,Math.max(e,t))}function ij(t,e){return l.useReducer((r,n)=>e[r][n]??r,t)}var Hl="ScrollArea",[km,kA]=It(Hl),[cj,Ct]=km(Hl),Tm=l.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=t,[c,d]=l.useState(null),[u,f]=l.useState(null),[h,m]=l.useState(null),[g,v]=l.useState(null),[p,x]=l.useState(null),[y,b]=l.useState(0),[w,_]=l.useState(0),[S,C]=l.useState(!1),[j,P]=l.useState(!1),R=ne(e,E=>d(E)),A=vs(s);return a.jsx(cj,{scope:r,type:n,dir:A,scrollHideDelay:o,scrollArea:c,viewport:u,onViewportChange:f,content:h,onContentChange:m,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:j,onScrollbarYEnabledChange:P,onCornerWidthChange:b,onCornerHeightChange:_,children:a.jsx(Q.div,{dir:A,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});Tm.displayName=Hl;var Dm="ScrollAreaViewport",Rm=l.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...i}=t,c=Ct(Dm,r),d=l.useRef(null),u=ne(e,d,c.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),a.jsx(Q.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:xj({asChild:s,children:n},f=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:c.onContentChange,style:{minWidth:c.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});Rm.displayName=Dm;var Jt="ScrollAreaScrollbar",zl=l.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ct(Jt,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,c=t.orientation==="horizontal";return l.useEffect(()=>(c?o(!0):i(!0),()=>{c?o(!1):i(!1)}),[c,o,i]),s.type==="hover"?a.jsx(lj,{...n,ref:e,forceMount:r}):s.type==="scroll"?a.jsx(dj,{...n,ref:e,forceMount:r}):s.type==="auto"?a.jsx(Am,{...n,ref:e,forceMount:r}):s.type==="always"?a.jsx(Kl,{...n,ref:e}):null});zl.displayName=Jt;var lj=l.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ct(Jt,t.__scopeScrollArea),[o,i]=l.useState(!1);return l.useEffect(()=>{const c=s.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),i(!0)},f=()=>{d=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(He,{present:r||o,children:a.jsx(Am,{"data-state":o?"visible":"hidden",...n,ref:e})})}),dj=l.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ct(Jt,t.__scopeScrollArea),o=t.orientation==="horizontal",i=oi(()=>d("SCROLL_END"),100),[c,d]=ij("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,s.scrollHideDelay,d]),l.useEffect(()=>{const u=s.viewport,f=o?"scrollLeft":"scrollTop";if(u){let h=u[f];const m=()=>{const g=u[f];h!==g&&(d("SCROLL"),i()),h=g};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,o,d,i]),a.jsx(He,{present:r||c!=="hidden",children:a.jsx(Kl,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:H(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:H(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Am=l.forwardRef((t,e)=>{const r=Ct(Jt,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,i]=l.useState(!1),c=t.orientation==="horizontal",d=oi(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?u:f)}},10);return cs(r.viewport,d),cs(r.content,d),a.jsx(He,{present:n||o,children:a.jsx(Kl,{"data-state":o?"visible":"hidden",...s,ref:e})})}),Kl=l.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Ct(Jt,t.__scopeScrollArea),o=l.useRef(null),i=l.useRef(0),[c,d]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Lm(c.viewport,c.content),f={...n,sizes:c,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,g){return gj(m,i.current,c,g)}return r==="horizontal"?a.jsx(uj,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,g=Nu(m,c,s.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):r==="vertical"?a.jsx(fj,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,g=Nu(m,c);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),uj=l.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=Ct(Jt,t.__scopeScrollArea),[i,c]=l.useState(),d=l.useRef(null),u=ne(e,d,o.onScrollbarXChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),a.jsx(Mm,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":si(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;t.onWheelScroll(m),Bm(m,h)&&f.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Sa(i.paddingLeft),paddingEnd:Sa(i.paddingRight)}})}})}),fj=l.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=Ct(Jt,t.__scopeScrollArea),[i,c]=l.useState(),d=l.useRef(null),u=ne(e,d,o.onScrollbarYChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),a.jsx(Mm,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":si(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;t.onWheelScroll(m),Bm(m,h)&&f.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Sa(i.paddingTop),paddingEnd:Sa(i.paddingBottom)}})}})}),[hj,Om]=km(Jt),Mm=l.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:f,onResize:h,...m}=t,g=Ct(Jt,r),[v,p]=l.useState(null),x=ne(e,R=>p(R)),y=l.useRef(null),b=l.useRef(""),w=g.viewport,_=n.content-n.viewport,S=Re(f),C=Re(d),j=oi(h,10);function P(R){if(y.current){const A=R.clientX-y.current.left,E=R.clientY-y.current.top;u({x:A,y:E})}}return l.useEffect(()=>{const R=A=>{const E=A.target;(v==null?void 0:v.contains(E))&&S(A,_)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[w,v,_,S]),l.useEffect(C,[n,C]),cs(v,j),cs(g.content,j),a.jsx(hj,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Re(o),onThumbPointerUp:Re(i),onThumbPositionChange:C,onThumbPointerDown:Re(c),children:a.jsx(Q.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:H(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),P(R))}),onPointerMove:H(t.onPointerMove,P),onPointerUp:H(t.onPointerUp,R=>{const A=R.target;A.hasPointerCapture(R.pointerId)&&A.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=b.current,g.viewport&&(g.viewport.style.scrollBehavior=""),y.current=null})})})}),_a="ScrollAreaThumb",Im=l.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Om(_a,t.__scopeScrollArea);return a.jsx(He,{present:r||s.hasThumb,children:a.jsx(mj,{ref:e,...n})})}),mj=l.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=Ct(_a,r),i=Om(_a,r),{onThumbPositionChange:c}=i,d=ne(e,h=>i.onThumbChange(h)),u=l.useRef(),f=oi(()=>{u.current&&(u.current(),u.current=void 0)},100);return l.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(f(),!u.current){const g=vj(h,c);u.current=g,c()}};return c(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,f,c]),a.jsx(Q.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:H(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),v=h.clientX-g.left,p=h.clientY-g.top;i.onThumbPointerDown({x:v,y:p})}),onPointerUp:H(t.onPointerUp,i.onThumbPointerUp)})});Im.displayName=_a;var Gl="ScrollAreaCorner",$m=l.forwardRef((t,e)=>{const r=Ct(Gl,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(pj,{...t,ref:e}):null});$m.displayName=Gl;var pj=l.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Ct(Gl,r),[o,i]=l.useState(0),[c,d]=l.useState(0),u=!!(o&&c);return cs(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),d(f)}),cs(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),u?a.jsx(Q.div,{...n,ref:e,style:{width:o,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Sa(t){return t?parseInt(t,10):0}function Lm(t,e){const r=t/e;return isNaN(r)?0:r}function si(t){const e=Lm(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function gj(t,e,r,n="ltr"){const s=si(r),o=s/2,i=e||o,c=s-i,d=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-c,f=r.content-r.viewport,h=n==="ltr"?[0,f]:[f*-1,0];return Fm([d,u],h)(t)}function Nu(t,e,r="ltr"){const n=si(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,c=o-n,d=r==="ltr"?[0,i]:[i*-1,0],u=no(t,d);return Fm([0,i],[0,c])(u)}function Fm(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Bm(t,e){return t>0&&t<e}var vj=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},i=r.left!==o.left,c=r.top!==o.top;(i||c)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function oi(t,e){const r=Re(t),n=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),l.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function cs(t,e){const r=Re(e);Ge(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}function xj(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const s=l.Children.only(n);return l.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var Wm=Tm,yj=Rm,bj=$m;const Vm=l.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Wm,{ref:n,className:J("relative overflow-hidden",t),...r,children:[a.jsx(yj,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(ql,{}),a.jsx(bj,{})]}));Vm.displayName=Wm.displayName;const ql=l.forwardRef(({className:t,orientation:e="vertical",...r},n)=>a.jsx(zl,{ref:n,orientation:e,className:J("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:a.jsx(Im,{className:"relative flex-1 rounded-full bg-border"})}));ql.displayName=zl.displayName;const wj=$a("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=l.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?dr:"button";return a.jsx(i,{className:J(wj({variant:e,size:r,className:t})),ref:o,...s})});ee.displayName="Button";const Qe=l.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Qe.displayName="Input";var Gi="focusScope.autoFocusOnMount",qi="focusScope.autoFocusOnUnmount",ku={bubbles:!1,cancelable:!0},_j="FocusScope",jo=l.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[c,d]=l.useState(null),u=Re(s),f=Re(o),h=l.useRef(null),m=ne(e,p=>d(p)),g=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(n){let p=function(w){if(g.paused||!c)return;const _=w.target;c.contains(_)?h.current=_:Sr(h.current,{select:!0})},x=function(w){if(g.paused||!c)return;const _=w.relatedTarget;_!==null&&(c.contains(_)||Sr(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Sr(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const b=new MutationObserver(y);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),b.disconnect()}}},[n,c,g.paused]),l.useEffect(()=>{if(c){Du.add(g);const p=document.activeElement;if(!c.contains(p)){const y=new CustomEvent(Gi,ku);c.addEventListener(Gi,u),c.dispatchEvent(y),y.defaultPrevented||(Sj(Nj(Um(c)),{select:!0}),document.activeElement===p&&Sr(c))}return()=>{c.removeEventListener(Gi,u),setTimeout(()=>{const y=new CustomEvent(qi,ku);c.addEventListener(qi,f),c.dispatchEvent(y),y.defaultPrevented||Sr(p??document.body,{select:!0}),c.removeEventListener(qi,f),Du.remove(g)},0)}}},[c,u,f,g]);const v=l.useCallback(p=>{if(!r&&!n||g.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const b=p.currentTarget,[w,_]=Cj(b);w&&_?!p.shiftKey&&y===_?(p.preventDefault(),r&&Sr(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),r&&Sr(_,{select:!0})):y===b&&p.preventDefault()}},[r,n,g.paused]);return a.jsx(Q.div,{tabIndex:-1,...i,ref:m,onKeyDown:v})});jo.displayName=_j;function Sj(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Sr(n,{select:e}),document.activeElement!==r)return}function Cj(t){const e=Um(t),r=Tu(e,t),n=Tu(e.reverse(),t);return[r,n]}function Um(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Tu(t,e){for(const r of t)if(!jj(r,{upTo:e}))return r}function jj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Pj(t){return t instanceof HTMLInputElement&&"select"in t}function Sr(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Pj(t)&&e&&t.select()}}var Du=Ej();function Ej(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Ru(t,e),t.unshift(e)},remove(e){var r;t=Ru(t,e),(r=t[0])==null||r.resume()}}}function Ru(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Nj(t){return t.filter(e=>e.tagName!=="A")}var Yi=0;function ai(){l.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Au()),document.body.insertAdjacentElement("beforeend",t[1]??Au()),Yi++,()=>{Yi===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yi--}},[])}function Au(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Je=function(){return Je=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Je.apply(this,arguments)};function Yl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Hm(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var Ws="right-scroll-bar-position",Vs="width-before-scroll-bar",kj="with-scroll-bars-hidden",Tj="--removed-body-scroll-bar-size";function Xi(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Dj(t,e){var r=l.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var Rj=typeof window<"u"?l.useLayoutEffect:l.useEffect,Ou=new WeakMap;function zm(t,e){var r=Dj(null,function(n){return t.forEach(function(s){return Xi(s,n)})});return Rj(function(){var n=Ou.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(c){o.has(c)||Xi(c,null)}),o.forEach(function(c){s.has(c)||Xi(c,i)})}Ou.set(r,t)},[t]),r}function Aj(t){return t}function Oj(t,e){e===void 0&&(e=Aj);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=e(o,n);return r.push(i),function(){r=r.filter(function(c){return c!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(c){return o(c)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var c=r;r=[],c.forEach(o),i=r}var d=function(){var f=i;i=[],f.forEach(o)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return s}function Km(t){t===void 0&&(t={});var e=Oj(null);return e.options=Je({async:!0,ssr:!1},t),e}var Gm=function(t){var e=t.sideCar,r=Yl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return l.createElement(n,Je({},r))};Gm.isSideCarExport=!0;function qm(t,e){return t.useMedium(e),Gm}var Ym=Km(),Ji=function(){},ii=l.forwardRef(function(t,e){var r=l.useRef(null),n=l.useState({onScrollCapture:Ji,onWheelCapture:Ji,onTouchMoveCapture:Ji}),s=n[0],o=n[1],i=t.forwardProps,c=t.children,d=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,g=t.noIsolation,v=t.inert,p=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,b=t.gapMode,w=Yl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,S=zm([r,e]),C=Je(Je({},w),s);return l.createElement(l.Fragment,null,f&&l.createElement(_,{sideCar:Ym,removeScrollBar:u,shards:h,noIsolation:g,inert:v,setCallbacks:o,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?l.cloneElement(l.Children.only(c),Je(Je({},C),{ref:S})):l.createElement(y,Je({},C,{className:d,ref:S}),c))});ii.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ii.classNames={fullWidth:Vs,zeroRight:Ws};var Mj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ij(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Mj();return e&&t.setAttribute("nonce",e),t}function $j(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Lj(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Fj=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Ij())&&($j(e,r),Lj(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Bj=function(){var t=Fj();return function(e,r){l.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Xl=function(){var t=Bj(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},Wj={left:0,top:0,right:0,gap:0},Qi=function(t){return parseInt(t||"",10)||0},Vj=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Qi(r),Qi(n),Qi(s)]},Uj=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Wj;var e=Vj(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Hj=Xl(),Vn="data-scroll-locked",zj=function(t,e,r,n){var s=t.left,o=t.top,i=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(kj,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Vn,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ws,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Vs,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ws," .").concat(Ws,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Vs," .").concat(Vs,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vn,`] {
    `).concat(Tj,": ").concat(c,`px;
  }
`)},Mu=function(){var t=parseInt(document.body.getAttribute(Vn)||"0",10);return isFinite(t)?t:0},Kj=function(){l.useEffect(function(){return document.body.setAttribute(Vn,(Mu()+1).toString()),function(){var t=Mu()-1;t<=0?document.body.removeAttribute(Vn):document.body.setAttribute(Vn,t.toString())}},[])},Xm=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;Kj();var o=l.useMemo(function(){return Uj(s)},[s]);return l.createElement(Hj,{styles:zj(o,!e,s,r?"":"!important")})},Wc=!1;if(typeof window<"u")try{var Yo=Object.defineProperty({},"passive",{get:function(){return Wc=!0,!0}});window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{Wc=!1}var Dn=Wc?{passive:!1}:!1,Gj=function(t){return t.tagName==="TEXTAREA"},Jm=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Gj(t)&&r[e]==="visible")},qj=function(t){return Jm(t,"overflowY")},Yj=function(t){return Jm(t,"overflowX")},Iu=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Qm(t,n);if(s){var o=Zm(t,n),i=o[1],c=o[2];if(i>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Xj=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Jj=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Qm=function(t,e){return t==="v"?qj(e):Yj(e)},Zm=function(t,e){return t==="v"?Xj(e):Jj(e)},Qj=function(t,e){return t==="h"&&e==="rtl"?-1:1},Zj=function(t,e,r,n,s){var o=Qj(t,window.getComputedStyle(e).direction),i=o*n,c=r.target,d=e.contains(c),u=!1,f=i>0,h=0,m=0;do{var g=Zm(t,c),v=g[0],p=g[1],x=g[2],y=p-x-o*v;(v||y)&&Qm(t,c)&&(h+=y,m+=v),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(u=!0),u},Xo=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$u=function(t){return[t.deltaX,t.deltaY]},Lu=function(t){return t&&"current"in t?t.current:t},eP=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tP=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rP=0,Rn=[];function nP(t){var e=l.useRef([]),r=l.useRef([0,0]),n=l.useRef(),s=l.useState(rP++)[0],o=l.useState(Xl)[0],i=l.useRef(t);l.useEffect(function(){i.current=t},[t]),l.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Hm([t.lockRef.current],(t.shards||[]).map(Lu),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=l.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=Xo(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-y[0],_="deltaY"in p?p.deltaY:b[1]-y[1],S,C=p.target,j=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&j==="h"&&C.type==="range")return!1;var P=Iu(j,C);if(!P)return!0;if(P?S=j:(S=j==="v"?"h":"v",P=Iu(j,C)),!P)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var R=n.current||S;return Zj(R,x,p,R==="h"?w:_,!0)},[]),d=l.useCallback(function(p){var x=p;if(!(!Rn.length||Rn[Rn.length-1]!==o)){var y="deltaY"in x?$u(x):Xo(x),b=e.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&eP(S.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(Lu).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=w.length>0?c(x,w[0]):!i.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=l.useCallback(function(p,x,y,b){var w={name:p,delta:x,target:y,should:b,shadowParent:sP(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),f=l.useCallback(function(p){r.current=Xo(p),n.current=void 0},[]),h=l.useCallback(function(p){u(p.type,$u(p),p.target,c(p,t.lockRef.current))},[]),m=l.useCallback(function(p){u(p.type,Xo(p),p.target,c(p,t.lockRef.current))},[]);l.useEffect(function(){return Rn.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",d,Dn),document.addEventListener("touchmove",d,Dn),document.addEventListener("touchstart",f,Dn),function(){Rn=Rn.filter(function(p){return p!==o}),document.removeEventListener("wheel",d,Dn),document.removeEventListener("touchmove",d,Dn),document.removeEventListener("touchstart",f,Dn)}},[]);var g=t.removeScrollBar,v=t.inert;return l.createElement(l.Fragment,null,v?l.createElement(o,{styles:tP(s)}):null,g?l.createElement(Xm,{gapMode:t.gapMode}):null)}function sP(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oP=qm(Ym,nP);var Po=l.forwardRef(function(t,e){return l.createElement(ii,Je({},t,{ref:e,sideCar:oP}))});Po.classNames=ii.classNames;var aP=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},An=new WeakMap,Jo=new WeakMap,Qo={},Zi=0,ep=function(t){return t&&(t.host||ep(t.parentNode))},iP=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=ep(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},cP=function(t,e,r,n){var s=iP(e,Array.isArray(t)?t:[t]);Qo[r]||(Qo[r]=new WeakMap);var o=Qo[r],i=[],c=new Set,d=new Set(s),u=function(h){!h||c.has(h)||(c.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(m){if(c.has(m))f(m);else try{var g=m.getAttribute(n),v=g!==null&&g!=="false",p=(An.get(m)||0)+1,x=(o.get(m)||0)+1;An.set(m,p),o.set(m,x),i.push(m),p===1&&v&&Jo.set(m,!0),x===1&&m.setAttribute(r,"true"),v||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return f(e),c.clear(),Zi++,function(){i.forEach(function(h){var m=An.get(h)-1,g=o.get(h)-1;An.set(h,m),o.set(h,g),m||(Jo.has(h)||h.removeAttribute(n),Jo.delete(h)),g||h.removeAttribute(r)}),Zi--,Zi||(An=new WeakMap,An=new WeakMap,Jo=new WeakMap,Qo={})}},Eo=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=aP(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),cP(n,s,r,"aria-hidden")):function(){return null}},Jl="Dialog",[tp,TA]=It(Jl),[lP,$t]=tp(Jl),rp=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,c=l.useRef(null),d=l.useRef(null),[u=!1,f]=Rt({prop:n,defaultProp:s,onChange:o});return a.jsx(lP,{scope:e,triggerRef:c,contentRef:d,contentId:wt(),titleId:wt(),descriptionId:wt(),open:u,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(h=>!h),[f]),modal:i,children:r})};rp.displayName=Jl;var np="DialogTrigger",sp=l.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$t(np,r),o=ne(e,s.triggerRef);return a.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ed(s.open),...n,ref:o,onClick:H(t.onClick,s.onOpenToggle)})});sp.displayName=np;var Ql="DialogPortal",[dP,op]=tp(Ql,{forceMount:void 0}),ap=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=$t(Ql,e);return a.jsx(dP,{scope:e,forceMount:r,children:l.Children.map(n,i=>a.jsx(He,{present:r||o.open,children:a.jsx(us,{asChild:!0,container:s,children:i})}))})};ap.displayName=Ql;var Ca="DialogOverlay",ip=l.forwardRef((t,e)=>{const r=op(Ca,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=$t(Ca,t.__scopeDialog);return o.modal?a.jsx(He,{present:n||o.open,children:a.jsx(uP,{...s,ref:e})}):null});ip.displayName=Ca;var uP=l.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$t(Ca,r);return a.jsx(Po,{as:dr,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Q.div,{"data-state":ed(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),un="DialogContent",cp=l.forwardRef((t,e)=>{const r=op(un,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=$t(un,t.__scopeDialog);return a.jsx(He,{present:n||o.open,children:o.modal?a.jsx(fP,{...s,ref:e}):a.jsx(hP,{...s,ref:e})})});cp.displayName=un;var fP=l.forwardRef((t,e)=>{const r=$t(un,t.__scopeDialog),n=l.useRef(null),s=ne(e,r.contentRef,n);return l.useEffect(()=>{const o=n.current;if(o)return Eo(o)},[]),a.jsx(lp,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:H(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&o.preventDefault()}),onFocusOutside:H(t.onFocusOutside,o=>o.preventDefault())})}),hP=l.forwardRef((t,e)=>{const r=$t(un,t.__scopeDialog),n=l.useRef(!1),s=l.useRef(!1);return a.jsx(lp,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,c;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var d,u;(d=t.onInteractOutside)==null||d.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),lp=l.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,c=$t(un,r),d=l.useRef(null),u=ne(e,d);return ai(),a.jsxs(a.Fragment,{children:[a.jsx(jo,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(bn,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ed(c.open),...i,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(mP,{titleId:c.titleId}),a.jsx(gP,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Zl="DialogTitle",dp=l.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$t(Zl,r);return a.jsx(Q.h2,{id:s.titleId,...n,ref:e})});dp.displayName=Zl;var up="DialogDescription",fp=l.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$t(up,r);return a.jsx(Q.p,{id:s.descriptionId,...n,ref:e})});fp.displayName=up;var hp="DialogClose",mp=l.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$t(hp,r);return a.jsx(Q.button,{type:"button",...n,ref:e,onClick:H(t.onClick,()=>s.onOpenChange(!1))})});mp.displayName=hp;function ed(t){return t?"open":"closed"}var pp="DialogTitleWarning",[DA,gp]=Cy(pp,{contentName:un,titleName:Zl,docsSlug:"dialog"}),mP=({titleId:t})=>{const e=gp(pp),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return l.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},pP="DialogDescriptionWarning",gP=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gp(pP).contentName}}.`;return l.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},vP=rp,xP=sp,yP=ap,vp=ip,xp=cp,yp=dp,bp=fp,bP=mp;const ci=vP,li=xP,wP=yP,wp=l.forwardRef(({className:t,...e},r)=>a.jsx(vp,{ref:r,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));wp.displayName=vp.displayName;const No=l.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(wP,{children:[a.jsx(wp,{}),a.jsxs(xp,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(bP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(hh,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));No.displayName=xp.displayName;const td=({className:t,...e})=>a.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});td.displayName="DialogHeader";const rd=l.forwardRef(({className:t,...e},r)=>a.jsx(yp,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",t),...e}));rd.displayName=yp.displayName;const _P=l.forwardRef(({className:t,...e},r)=>a.jsx(bp,{ref:r,className:J("text-sm text-muted-foreground",t),...e}));_P.displayName=bp.displayName;function nd(t){const e=l.useRef({value:t,previous:t});return l.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var sd="Checkbox",[SP,RA]=It(sd),[CP,jP]=SP(sd),_p=l.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:c,value:d="on",onCheckedChange:u,form:f,...h}=t,[m,g]=l.useState(null),v=ne(e,_=>g(_)),p=l.useRef(!1),x=m?f||!!m.closest("form"):!0,[y=!1,b]=Rt({prop:s,defaultProp:o,onChange:u}),w=l.useRef(y);return l.useEffect(()=>{const _=m==null?void 0:m.form;if(_){const S=()=>b(w.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[m,b]),a.jsxs(CP,{scope:r,state:y,disabled:c,children:[a.jsx(Q.button,{type:"button",role:"checkbox","aria-checked":Mr(y)?"mixed":y,"aria-required":i,"data-state":jp(y),"data-disabled":c?"":void 0,disabled:c,value:d,...h,ref:v,onKeyDown:H(t.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:H(t.onClick,_=>{b(S=>Mr(S)?!0:!S),x&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),x&&a.jsx(PP,{control:m,bubbles:!p.current,name:n,value:d,checked:y,required:i,disabled:c,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Mr(o)?!1:o})]})});_p.displayName=sd;var Sp="CheckboxIndicator",Cp=l.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,o=jP(Sp,r);return a.jsx(He,{present:n||Mr(o.state)||o.state===!0,children:a.jsx(Q.span,{"data-state":jp(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Cp.displayName=Sp;var PP=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...o}=t,i=l.useRef(null),c=nd(r),d=kl(e);l.useEffect(()=>{const f=i.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&g){const v=new Event("click",{bubbles:n});f.indeterminate=Mr(r),g.call(f,Mr(r)?!1:r),f.dispatchEvent(v)}},[c,r,n]);const u=l.useRef(Mr(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:i,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Mr(t){return t==="indeterminate"}function jp(t){return Mr(t)?"indeterminate":t?"checked":"unchecked"}var Pp=_p,EP=Cp;const Kt=l.forwardRef(({className:t,...e},r)=>a.jsx(Pp,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(EP,{className:J("flex items-center justify-center text-current"),children:a.jsx(Ys,{className:"h-4 w-4"})})}));Kt.displayName=Pp.displayName;const NP=$a("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ls({className:t,variant:e,...r}){return a.jsx("div",{className:J(NP({variant:e}),t),...r})}function kP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.useMemo(()=>n=>{e.forEach(s=>s(n))},e)}const di=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xs(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function od(t){return"nodeType"in t}function at(t){var e,r;return t?xs(t)?t:od(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function ad(t){const{Document:e}=at(t);return t instanceof e}function ko(t){return xs(t)?!1:t instanceof at(t).HTMLElement}function Ep(t){return t instanceof at(t).SVGElement}function ys(t){return t?xs(t)?t.document:od(t)?ad(t)?t:ko(t)||Ep(t)?t.ownerDocument:document:document:document}const Yt=di?l.useLayoutEffect:l.useEffect;function id(t){const e=l.useRef(t);return Yt(()=>{e.current=t}),l.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function TP(){const t=l.useRef(null),e=l.useCallback((n,s)=>{t.current=setInterval(n,s)},[]),r=l.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function so(t,e){e===void 0&&(e=[t]);const r=l.useRef(t);return Yt(()=>{r.current!==t&&(r.current=t)},e),r}function To(t,e){const r=l.useRef();return l.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function ja(t){const e=id(t),r=l.useRef(null),n=l.useCallback(s=>{s!==r.current&&(e==null||e(s,r.current)),r.current=s},[]);return[r,n]}function Vc(t){const e=l.useRef();return l.useEffect(()=>{e.current=t},[t]),e.current}let ec={};function Do(t,e){return l.useMemo(()=>{if(e)return e;const r=ec[t]==null?0:ec[t]+1;return ec[t]=r,t+"-"+r},[t,e])}function Np(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((o,i)=>{const c=Object.entries(i);for(const[d,u]of c){const f=o[d];f!=null&&(o[d]=f+t*u)}return o},{...e})}}const Un=Np(1),oo=Np(-1);function DP(t){return"clientX"in t&&"clientY"in t}function cd(t){if(!t)return!1;const{KeyboardEvent:e}=at(t.target);return e&&t instanceof e}function RP(t){if(!t)return!1;const{TouchEvent:e}=at(t.target);return e&&t instanceof e}function Uc(t){if(RP(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return DP(t)?{x:t.clientX,y:t.clientY}:null}const ao=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[ao.Translate.toString(t),ao.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),Fu="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function AP(t){return t.matches(Fu)?t:t.querySelector(Fu)}const OP={display:"none"};function MP(t){let{id:e,value:r}=t;return z.createElement("div",{id:e,style:OP},r)}function IP(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return z.createElement("div",{id:e,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function $P(){const[t,e]=l.useState("");return{announce:l.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const kp=l.createContext(null);function LP(t){const e=l.useContext(kp);l.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function FP(){const[t]=l.useState(()=>new Set),e=l.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[l.useCallback(n=>{let{type:s,event:o}=n;t.forEach(i=>{var c;return(c=i[s])==null?void 0:c.call(i,o)})},[t]),e]}const BP={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},WP={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function VP(t){let{announcements:e=WP,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=BP}=t;const{announce:o,announcement:i}=$P(),c=Do("DndLiveRegion"),[d,u]=l.useState(!1);if(l.useEffect(()=>{u(!0)},[]),LP(l.useMemo(()=>({onDragStart(h){let{active:m}=h;o(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;e.onDragMove&&o(e.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;o(e.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;o(e.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;o(e.onDragCancel({active:m,over:g}))}}),[o,e])),!d)return null;const f=z.createElement(z.Fragment,null,z.createElement(MP,{id:n,value:s.draggable}),z.createElement(IP,{id:c,announcement:i}));return r?ft.createPortal(f,r):f}var Fe;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Fe||(Fe={}));function Pa(){}function Bu(t,e){return l.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function UP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Mt=Object.freeze({x:0,y:0});function Tp(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Dp(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function HP(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function Wu(t){let{left:e,top:r,height:n,width:s}=t;return[{x:e,y:r},{x:e+s,y:r},{x:e,y:r+n},{x:e+s,y:r+n}]}function Rp(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function Vu(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const zP=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=Vu(e,e.left,e.top),o=[];for(const i of n){const{id:c}=i,d=r.get(c);if(d){const u=Tp(Vu(d),s);o.push({id:c,data:{droppableContainer:i,value:u}})}}return o.sort(Dp)},KP=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=Wu(e),o=[];for(const i of n){const{id:c}=i,d=r.get(c);if(d){const u=Wu(d),f=s.reduce((m,g,v)=>m+Tp(u[v],g),0),h=Number((f/4).toFixed(4));o.push({id:c,data:{droppableContainer:i,value:h}})}}return o.sort(Dp)};function GP(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),i=s-n,c=o-r;if(n<s&&r<o){const d=e.width*e.height,u=t.width*t.height,f=i*c,h=f/(d+u-f);return Number(h.toFixed(4))}return 0}const qP=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=[];for(const o of n){const{id:i}=o,c=r.get(i);if(c){const d=GP(c,e);d>0&&s.push({id:i,data:{droppableContainer:o,value:d}})}}return s.sort(HP)};function YP(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function Ap(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Mt}function XP(t){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((i,c)=>({...i,top:i.top+t*c.y,bottom:i.bottom+t*c.y,left:i.left+t*c.x,right:i.right+t*c.x}),{...r})}}const JP=XP(1);function QP(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function ZP(t,e,r){const n=QP(e);if(!n)return t;const{scaleX:s,scaleY:o,x:i,y:c}=n,d=t.left-i-(1-s)*parseFloat(r),u=t.top-c-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),f=s?t.width/s:t.width,h=o?t.height/o:t.height;return{width:f,height:h,top:u,right:d+f,bottom:u+h,left:d}}const eE={ignoreTransform:!1};function bs(t,e){e===void 0&&(e=eE);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:f}=at(t).getComputedStyle(t);u&&(r=ZP(r,u,f))}const{top:n,left:s,width:o,height:i,bottom:c,right:d}=r;return{top:n,left:s,width:o,height:i,bottom:c,right:d}}function Uu(t){return bs(t,{ignoreTransform:!0})}function tE(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function rE(t,e){return e===void 0&&(e=at(t).getComputedStyle(t)),e.position==="fixed"}function nE(t,e){e===void 0&&(e=at(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?r.test(o):!1})}function ui(t,e){const r=[];function n(s){if(e!=null&&r.length>=e||!s)return r;if(ad(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!ko(s)||Ep(s)||r.includes(s))return r;const o=at(t).getComputedStyle(s);return s!==t&&nE(s,o)&&r.push(s),rE(s,o)?r:n(s.parentNode)}return t?n(t):r}function Op(t){const[e]=ui(t,1);return e??null}function tc(t){return!di||!t?null:xs(t)?t:od(t)?ad(t)||t===ys(t).scrollingElement?window:ko(t)?t:null:null}function Mp(t){return xs(t)?t.scrollX:t.scrollLeft}function Ip(t){return xs(t)?t.scrollY:t.scrollTop}function Hc(t){return{x:Mp(t),y:Ip(t)}}var Ue;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ue||(Ue={}));function $p(t){return!di||!t?!1:t===document.scrollingElement}function Lp(t){const e={x:0,y:0},r=$p(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,i=t.scrollTop>=n.y,c=t.scrollLeft>=n.x;return{isTop:s,isLeft:o,isBottom:i,isRight:c,maxScroll:n,minScroll:e}}const sE={x:.2,y:.2};function oE(t,e,r,n,s){let{top:o,left:i,right:c,bottom:d}=r;n===void 0&&(n=10),s===void 0&&(s=sE);const{isTop:u,isBottom:f,isLeft:h,isRight:m}=Lp(t),g={x:0,y:0},v={x:0,y:0},p={height:e.height*s.y,width:e.width*s.x};return!u&&o<=e.top+p.height?(g.y=Ue.Backward,v.y=n*Math.abs((e.top+p.height-o)/p.height)):!f&&d>=e.bottom-p.height&&(g.y=Ue.Forward,v.y=n*Math.abs((e.bottom-p.height-d)/p.height)),!m&&c>=e.right-p.width?(g.x=Ue.Forward,v.x=n*Math.abs((e.right-p.width-c)/p.width)):!h&&i<=e.left+p.width&&(g.x=Ue.Backward,v.x=n*Math.abs((e.left+p.width-i)/p.width)),{direction:g,speed:v}}function aE(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:e,left:r,right:n,bottom:s}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:s,width:t.clientWidth,height:t.clientHeight}}function Fp(t){return t.reduce((e,r)=>Un(e,Hc(r)),Mt)}function iE(t){return t.reduce((e,r)=>e+Mp(r),0)}function cE(t){return t.reduce((e,r)=>e+Ip(r),0)}function lE(t,e){if(e===void 0&&(e=bs),!t)return;const{top:r,left:n,bottom:s,right:o}=e(t);Op(t)&&(s<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const dE=[["x",["left","right"],iE],["y",["top","bottom"],cE]];class ld{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=ui(r),s=Fp(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,i,c]of dE)for(const d of i)Object.defineProperty(this,d,{get:()=>{const u=c(n),f=s[o]-u;return this.rect[d]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Us{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var s;(s=this.target)==null||s.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function uE(t){const{EventTarget:e}=at(t);return t instanceof e?t:ys(t)}function rc(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var bt;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(bt||(bt={}));function Hu(t){t.preventDefault()}function fE(t){t.stopPropagation()}var he;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(he||(he={}));const Bp={start:[he.Space,he.Enter],cancel:[he.Esc],end:[he.Space,he.Enter,he.Tab]},hE=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case he.Right:return{...r,x:r.x+25};case he.Left:return{...r,x:r.x-25};case he.Down:return{...r,y:r.y+25};case he.Up:return{...r,y:r.y-25}}};class dd{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Us(ys(r)),this.windowListeners=new Us(at(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(bt.Resize,this.handleCancel),this.windowListeners.add(bt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(bt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&lE(n),r(Mt)}handleKeyDown(e){if(cd(e)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:o=Bp,coordinateGetter:i=hE,scrollBehavior:c="smooth"}=s,{code:d}=e;if(o.end.includes(d)){this.handleEnd(e);return}if(o.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:u}=n.current,f=u?{x:u.left,y:u.top}:Mt;this.referenceCoordinates||(this.referenceCoordinates=f);const h=i(e,{active:r,context:n.current,currentCoordinates:f});if(h){const m=oo(h,f),g={x:0,y:0},{scrollableAncestors:v}=n.current;for(const p of v){const x=e.code,{isTop:y,isRight:b,isLeft:w,isBottom:_,maxScroll:S,minScroll:C}=Lp(p),j=aE(p),P={x:Math.min(x===he.Right?j.right-j.width/2:j.right,Math.max(x===he.Right?j.left:j.left+j.width/2,h.x)),y:Math.min(x===he.Down?j.bottom-j.height/2:j.bottom,Math.max(x===he.Down?j.top:j.top+j.height/2,h.y))},R=x===he.Right&&!b||x===he.Left&&!w,A=x===he.Down&&!_||x===he.Up&&!y;if(R&&P.x!==h.x){const E=p.scrollLeft+m.x,k=x===he.Right&&E<=S.x||x===he.Left&&E>=C.x;if(k&&!m.y){p.scrollTo({left:E,behavior:c});return}k?g.x=p.scrollLeft-E:g.x=x===he.Right?p.scrollLeft-S.x:p.scrollLeft-C.x,g.x&&p.scrollBy({left:-g.x,behavior:c});break}else if(A&&P.y!==h.y){const E=p.scrollTop+m.y,k=x===he.Down&&E<=S.y||x===he.Up&&E>=C.y;if(k&&!m.x){p.scrollTo({top:E,behavior:c});return}k?g.y=p.scrollTop-E:g.y=x===he.Down?p.scrollTop-S.y:p.scrollTop-C.y,g.y&&p.scrollBy({top:-g.y,behavior:c});break}}this.handleMove(e,Un(oo(h,this.referenceCoordinates),g))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}dd.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=Bp,onActivation:s}=e,{active:o}=r;const{code:i}=t.nativeEvent;if(n.start.includes(i)){const c=o.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function zu(t){return!!(t&&"distance"in t)}function Ku(t){return!!(t&&"delay"in t)}class ud{constructor(e,r,n){var s;n===void 0&&(n=uE(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:o}=e,{target:i}=o;this.props=e,this.events=r,this.document=ys(i),this.documentListeners=new Us(this.document),this.listeners=new Us(n),this.windowListeners=new Us(at(i)),this.initialCoordinates=(s=Uc(o))!=null?s:Mt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(bt.Resize,this.handleCancel),this.windowListeners.add(bt.DragStart,Hu),this.windowListeners.add(bt.VisibilityChange,this.handleCancel),this.windowListeners.add(bt.ContextMenu,Hu),this.documentListeners.add(bt.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ku(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(zu(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(bt.Click,fE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(bt.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:c}}=o;if(!s)return;const d=(r=Uc(e))!=null?r:Mt,u=oo(s,d);if(!n&&c){if(zu(c)){if(c.tolerance!=null&&rc(u,c.tolerance))return this.handleCancel();if(rc(u,c.distance))return this.handleStart()}if(Ku(c)&&rc(u,c.tolerance))return this.handleCancel();this.handlePending(c,u);return}e.cancelable&&e.preventDefault(),i(d)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===he.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const mE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class fd extends ud{constructor(e){const{event:r}=e,n=ys(r.target);super(e,mE,n)}}fd.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const pE={move:{name:"mousemove"},end:{name:"mouseup"}};var zc;(function(t){t[t.RightClick=2]="RightClick"})(zc||(zc={}));class gE extends ud{constructor(e){super(e,pE,ys(e.event.target))}}gE.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===zc.RightClick?!1:(n==null||n({event:r}),!0)}}];const nc={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vE extends ud{constructor(e){super(e,nc)}static setup(){return window.addEventListener(nc.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(nc.move.name,e)};function e(){}}}vE.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var Hs;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Hs||(Hs={}));var Ea;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ea||(Ea={}));function xE(t){let{acceleration:e,activator:r=Hs.Pointer,canScroll:n,draggingRect:s,enabled:o,interval:i=5,order:c=Ea.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:f,delta:h,threshold:m}=t;const g=bE({delta:h,disabled:!o}),[v,p]=TP(),x=l.useRef({x:0,y:0}),y=l.useRef({x:0,y:0}),b=l.useMemo(()=>{switch(r){case Hs.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Hs.DraggableRect:return s}},[r,s,d]),w=l.useRef(null),_=l.useCallback(()=>{const C=w.current;if(!C)return;const j=x.current.x*y.current.x,P=x.current.y*y.current.y;C.scrollBy(j,P)},[]),S=l.useMemo(()=>c===Ea.TreeOrder?[...u].reverse():u,[c,u]);l.useEffect(()=>{if(!o||!u.length||!b){p();return}for(const C of S){if((n==null?void 0:n(C))===!1)continue;const j=u.indexOf(C),P=f[j];if(!P)continue;const{direction:R,speed:A}=oE(C,P,b,e,m);for(const E of["x","y"])g[E][R[E]]||(A[E]=0,R[E]=0);if(A.x>0||A.y>0){p(),w.current=C,v(_,i),x.current=A,y.current=R;return}}x.current={x:0,y:0},y.current={x:0,y:0},p()},[e,_,n,p,o,i,JSON.stringify(b),JSON.stringify(g),v,u,S,f,JSON.stringify(m)])}const yE={x:{[Ue.Backward]:!1,[Ue.Forward]:!1},y:{[Ue.Backward]:!1,[Ue.Forward]:!1}};function bE(t){let{delta:e,disabled:r}=t;const n=Vc(e);return To(s=>{if(r||!n||!s)return yE;const o={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Ue.Backward]:s.x[Ue.Backward]||o.x===-1,[Ue.Forward]:s.x[Ue.Forward]||o.x===1},y:{[Ue.Backward]:s.y[Ue.Backward]||o.y===-1,[Ue.Forward]:s.y[Ue.Forward]||o.y===1}}},[r,e,n])}function wE(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return To(s=>{var o;return e==null?null:(o=n??s)!=null?o:null},[n,e])}function _E(t,e){return l.useMemo(()=>t.reduce((r,n)=>{const{sensor:s}=n,o=s.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,n)}));return[...r,...o]},[]),[t,e])}var io;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(io||(io={}));var Kc;(function(t){t.Optimized="optimized"})(Kc||(Kc={}));const Gu=new Map;function SE(t,e){let{dragging:r,dependencies:n,config:s}=e;const[o,i]=l.useState(null),{frequency:c,measure:d,strategy:u}=s,f=l.useRef(t),h=x(),m=so(h),g=l.useCallback(function(y){y===void 0&&(y=[]),!m.current&&i(b=>b===null?y:b.concat(y.filter(w=>!b.includes(w))))},[m]),v=l.useRef(null),p=To(y=>{if(h&&!r)return Gu;if(!y||y===Gu||f.current!==t||o!=null){const b=new Map;for(let w of t){if(!w)continue;if(o&&o.length>0&&!o.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const _=w.node.current,S=_?new ld(d(_),_):null;w.rect.current=S,S&&b.set(w.id,S)}return b}return y},[t,o,r,h,d]);return l.useEffect(()=>{f.current=t},[t]),l.useEffect(()=>{h||g()},[r,h]),l.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),l.useEffect(()=>{h||typeof c!="number"||v.current!==null||(v.current=setTimeout(()=>{g(),v.current=null},c))},[c,h,g,...n]),{droppableRects:p,measureDroppableContainers:g,measuringScheduled:o!=null};function x(){switch(u){case io.Always:return!1;case io.BeforeDragging:return r;default:return!r}}}function Wp(t,e){return To(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function CE(t,e){return Wp(t,e)}function jE(t){let{callback:e,disabled:r}=t;const n=id(e),s=l.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return l.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function fi(t){let{callback:e,disabled:r}=t;const n=id(e),s=l.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return l.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function PE(t){return new ld(bs(t),t)}function qu(t,e,r){e===void 0&&(e=PE);const[n,s]=l.useState(null);function o(){s(d=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=d??r)!=null?u:null}const f=e(t);return JSON.stringify(d)===JSON.stringify(f)?d:f})}const i=jE({callback(d){if(t)for(const u of d){const{type:f,target:h}=u;if(f==="childList"&&h instanceof HTMLElement&&h.contains(t)){o();break}}}}),c=fi({callback:o});return Yt(()=>{o(),t?(c==null||c.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),i==null||i.disconnect())},[t]),n}function EE(t){const e=Wp(t);return Ap(t,e)}const Yu=[];function NE(t){const e=l.useRef(t),r=To(n=>t?n&&n!==Yu&&t&&e.current&&t.parentNode===e.current.parentNode?n:ui(t):Yu,[t]);return l.useEffect(()=>{e.current=t},[t]),r}function kE(t){const[e,r]=l.useState(null),n=l.useRef(t),s=l.useCallback(o=>{const i=tc(o.target);i&&r(c=>c?(c.set(i,Hc(i)),new Map(c)):null)},[]);return l.useEffect(()=>{const o=n.current;if(t!==o){i(o);const c=t.map(d=>{const u=tc(d);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Hc(u)]):null}).filter(d=>d!=null);r(c.length?new Map(c):null),n.current=t}return()=>{i(t),i(o)};function i(c){c.forEach(d=>{const u=tc(d);u==null||u.removeEventListener("scroll",s)})}},[s,t]),l.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,i)=>Un(o,i),Mt):Fp(t):Mt,[t,e])}function Xu(t,e){e===void 0&&(e=[]);const r=l.useRef(null);return l.useEffect(()=>{r.current=null},e),l.useEffect(()=>{const n=t!==Mt;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?oo(t,r.current):Mt}function TE(t){l.useEffect(()=>{if(!di)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function DE(t,e){return l.useMemo(()=>t.reduce((r,n)=>{let{eventName:s,handler:o}=n;return r[s]=i=>{o(i,e)},r},{}),[t,e])}function Vp(t){return l.useMemo(()=>t?tE(t):null,[t])}const Ju=[];function RE(t,e){e===void 0&&(e=bs);const[r]=t,n=Vp(r?at(r):null),[s,o]=l.useState(Ju);function i(){o(()=>t.length?t.map(d=>$p(d)?n:new ld(e(d),d)):Ju)}const c=fi({callback:i});return Yt(()=>{c==null||c.disconnect(),i(),t.forEach(d=>c==null?void 0:c.observe(d))},[t]),s}function AE(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return ko(e)?e:t}function OE(t){let{measure:e}=t;const[r,n]=l.useState(null),s=l.useCallback(u=>{for(const{target:f}of u)if(ko(f)){n(h=>{const m=e(f);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),o=fi({callback:s}),i=l.useCallback(u=>{const f=AE(u);o==null||o.disconnect(),f&&(o==null||o.observe(f)),n(f?e(f):null)},[e,o]),[c,d]=ja(i);return l.useMemo(()=>({nodeRef:c,rect:r,setRef:d}),[r,c,d])}const ME=[{sensor:fd,options:{}},{sensor:dd,options:{}}],IE={current:{}},ca={draggable:{measure:Uu},droppable:{measure:Uu,strategy:io.WhileDragging,frequency:Kc.Optimized},dragOverlay:{measure:bs}};class zs extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const $E={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Pa},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ca,measureDroppableContainers:Pa,windowRect:null,measuringScheduled:!1},LE={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Pa,draggableNodes:new Map,over:null,measureDroppableContainers:Pa},hi=l.createContext(LE),Up=l.createContext($E);function FE(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zs}}}function BE(t,e){switch(e.type){case Fe.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Fe.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Fe.DragEnd:case Fe.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fe.RegisterDroppable:{const{element:r}=e,{id:n}=r,s=new zs(t.droppable.containers);return s.set(n,r),{...t,droppable:{...t.droppable,containers:s}}}case Fe.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=e,o=t.droppable.containers.get(r);if(!o||n!==o.key)return t;const i=new zs(t.droppable.containers);return i.set(r,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:i}}}case Fe.UnregisterDroppable:{const{id:r,key:n}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const o=new zs(t.droppable.containers);return o.delete(r),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function WE(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:s}=l.useContext(hi),o=Vc(n),i=Vc(r==null?void 0:r.id);return l.useEffect(()=>{if(!e&&!n&&o&&i!=null){if(!cd(o)||document.activeElement===o.target)return;const c=s.get(i);if(!c)return;const{activatorNode:d,node:u}=c;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[d.current,u.current]){if(!f)continue;const h=AP(f);if(h){h.focus();break}}})}},[n,e,s,i,o]),null}function VE(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...n}),r):r}function UE(t){return l.useMemo(()=>({draggable:{...ca.draggable,...t==null?void 0:t.draggable},droppable:{...ca.droppable,...t==null?void 0:t.droppable},dragOverlay:{...ca.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function HE(t){let{activeNode:e,measure:r,initialRect:n,config:s=!0}=t;const o=l.useRef(!1),{x:i,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Yt(()=>{if(!i&&!c||!e){o.current=!1;return}if(o.current||!n)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const f=r(u),h=Ap(f,n);if(i||(h.x=0),c||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=Op(u);m&&m.scrollBy({top:h.y,left:h.x})}},[e,i,c,n,r])}const Hp=l.createContext({...Mt,scaleX:1,scaleY:1});var jr;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(jr||(jr={}));const zE=l.memo(function(e){var r,n,s,o;let{id:i,accessibility:c,autoScroll:d=!0,children:u,sensors:f=ME,collisionDetection:h=qP,measuring:m,modifiers:g,...v}=e;const p=l.useReducer(BE,void 0,FE),[x,y]=p,[b,w]=FP(),[_,S]=l.useState(jr.Uninitialized),C=_===jr.Initialized,{draggable:{active:j,nodes:P,translate:R},droppable:{containers:A}}=x,E=j!=null?P.get(j):null,k=l.useRef({initial:null,translated:null}),D=l.useMemo(()=>{var ke;return j!=null?{id:j,data:(ke=E==null?void 0:E.data)!=null?ke:IE,rect:k}:null},[j,E]),O=l.useRef(null),[G,L]=l.useState(null),[W,$]=l.useState(null),I=so(v,Object.values(v)),te=Do("DndDescribedBy",i),Y=l.useMemo(()=>A.getEnabled(),[A]),T=UE(m),{droppableRects:U,measureDroppableContainers:N,measuringScheduled:B}=SE(Y,{dragging:C,dependencies:[R.x,R.y],config:T.droppable}),M=wE(P,j),V=l.useMemo(()=>W?Uc(W):null,[W]),X=vt(),Z=CE(M,T.draggable.measure);HE({activeNode:j!=null?P.get(j):null,config:X.layoutShiftCompensation,initialRect:Z,measure:T.draggable.measure});const q=qu(M,T.draggable.measure,Z),oe=qu(M?M.parentElement:null),re=l.useRef({activatorEvent:null,active:null,activeNode:M,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ye=A.getNodeFor((r=re.current.over)==null?void 0:r.id),Pe=OE({measure:T.dragOverlay.measure}),Me=(n=Pe.nodeRef.current)!=null?n:M,Ae=C?(s=Pe.rect)!=null?s:q:null,K=!!(Pe.nodeRef.current&&Pe.rect),Ee=EE(K?null:q),le=Vp(Me?at(Me):null),Ie=NE(C?ye??M:null),Qt=RE(Ie),Zt=VE(g,{transform:{x:R.x-Ee.x,y:R.y-Ee.y,scaleX:1,scaleY:1},activatorEvent:W,active:D,activeNodeRect:q,containerNodeRect:oe,draggingNodeRect:Ae,over:re.current.over,overlayNodeRect:Pe.rect,scrollableAncestors:Ie,scrollableAncestorRects:Qt,windowRect:le}),pt=V?Un(V,R):null,ue=kE(Ie),ve=Xu(ue),qe=Xu(ue,[q]),$e=Un(Zt,ve),Ze=Ae?JP(Ae,Zt):null,Be=D&&Ze?h({active:D,collisionRect:Ze,droppableRects:U,droppableContainers:Y,pointerCoordinates:pt}):null,zr=Rp(Be,"id"),[gt,Ss]=l.useState(null),Lo=K?Zt:Un(Zt,qe),ki=YP(Lo,(o=gt==null?void 0:gt.rect)!=null?o:null,q),Kr=l.useRef(null),Pt=l.useCallback((ke,We)=>{let{sensor:et,options:hr}=We;if(O.current==null)return;const xt=P.get(O.current);if(!xt)return;const ct=ke.nativeEvent,Ft=new et({active:O.current,activeNode:xt,event:ct,options:hr,context:re,onAbort(ze){if(!P.get(ze))return;const{onDragAbort:Bt}=I.current,er={id:ze};Bt==null||Bt(er),b({type:"onDragAbort",event:er})},onPending(ze,mr,Bt,er){if(!P.get(ze))return;const{onDragPending:js}=I.current,pr={id:ze,constraint:mr,initialCoordinates:Bt,offset:er};js==null||js(pr),b({type:"onDragPending",event:pr})},onStart(ze){const mr=O.current;if(mr==null)return;const Bt=P.get(mr);if(!Bt)return;const{onDragStart:er}=I.current,Cs={activatorEvent:ct,active:{id:mr,data:Bt.data,rect:k}};ft.unstable_batchedUpdates(()=>{er==null||er(Cs),S(jr.Initializing),y({type:Fe.DragStart,initialCoordinates:ze,active:mr}),b({type:"onDragStart",event:Cs}),L(Kr.current),$(ct)})},onMove(ze){y({type:Fe.DragMove,coordinates:ze})},onEnd:jn(Fe.DragEnd),onCancel:jn(Fe.DragCancel)});Kr.current=Ft;function jn(ze){return async function(){const{active:Bt,collisions:er,over:Cs,scrollAdjustedTranslate:js}=re.current;let pr=null;if(Bt&&js){const{cancelDrop:Ps}=I.current;pr={activatorEvent:ct,active:Bt,collisions:er,delta:js,over:Cs},ze===Fe.DragEnd&&typeof Ps=="function"&&await Promise.resolve(Ps(pr))&&(ze=Fe.DragCancel)}O.current=null,ft.unstable_batchedUpdates(()=>{y({type:ze}),S(jr.Uninitialized),Ss(null),L(null),$(null),Kr.current=null;const Ps=ze===Fe.DragEnd?"onDragEnd":"onDragCancel";if(pr){const Di=I.current[Ps];Di==null||Di(pr),b({type:Ps,event:pr})}})}}},[P]),Ti=l.useCallback((ke,We)=>(et,hr)=>{const xt=et.nativeEvent,ct=P.get(hr);if(O.current!==null||!ct||xt.dndKit||xt.defaultPrevented)return;const Ft={active:ct};ke(et,We.options,Ft)===!0&&(xt.dndKit={capturedBy:We.sensor},O.current=hr,Pt(et,We))},[P,Pt]),se=_E(f,Ti);TE(f),Yt(()=>{q&&_===jr.Initializing&&S(jr.Initialized)},[q,_]),l.useEffect(()=>{const{onDragMove:ke}=I.current,{active:We,activatorEvent:et,collisions:hr,over:xt}=re.current;if(!We||!et)return;const ct={active:We,activatorEvent:et,collisions:hr,delta:{x:$e.x,y:$e.y},over:xt};ft.unstable_batchedUpdates(()=>{ke==null||ke(ct),b({type:"onDragMove",event:ct})})},[$e.x,$e.y]),l.useEffect(()=>{const{active:ke,activatorEvent:We,collisions:et,droppableContainers:hr,scrollAdjustedTranslate:xt}=re.current;if(!ke||O.current==null||!We||!xt)return;const{onDragOver:ct}=I.current,Ft=hr.get(zr),jn=Ft&&Ft.rect.current?{id:Ft.id,rect:Ft.rect.current,data:Ft.data,disabled:Ft.disabled}:null,ze={active:ke,activatorEvent:We,collisions:et,delta:{x:xt.x,y:xt.y},over:jn};ft.unstable_batchedUpdates(()=>{Ss(jn),ct==null||ct(ze),b({type:"onDragOver",event:ze})})},[zr]),Yt(()=>{re.current={activatorEvent:W,active:D,activeNode:M,collisionRect:Ze,collisions:Be,droppableRects:U,draggableNodes:P,draggingNode:Me,draggingNodeRect:Ae,droppableContainers:A,over:gt,scrollableAncestors:Ie,scrollAdjustedTranslate:$e},k.current={initial:Ae,translated:Ze}},[D,M,Be,Ze,P,Me,Ae,U,A,gt,Ie,$e]),xE({...X,delta:R,draggingRect:Ze,pointerCoordinates:pt,scrollableAncestors:Ie,scrollableAncestorRects:Qt});const Ne=l.useMemo(()=>({active:D,activeNode:M,activeNodeRect:q,activatorEvent:W,collisions:Be,containerNodeRect:oe,dragOverlay:Pe,draggableNodes:P,droppableContainers:A,droppableRects:U,over:gt,measureDroppableContainers:N,scrollableAncestors:Ie,scrollableAncestorRects:Qt,measuringConfiguration:T,measuringScheduled:B,windowRect:le}),[D,M,q,W,Be,oe,Pe,P,A,U,gt,N,Ie,Qt,T,B,le]),Se=l.useMemo(()=>({activatorEvent:W,activators:se,active:D,activeNodeRect:q,ariaDescribedById:{draggable:te},dispatch:y,draggableNodes:P,over:gt,measureDroppableContainers:N}),[W,se,D,q,y,te,P,gt,N]);return z.createElement(kp.Provider,{value:w},z.createElement(hi.Provider,{value:Se},z.createElement(Up.Provider,{value:Ne},z.createElement(Hp.Provider,{value:ki},u)),z.createElement(WE,{disabled:(c==null?void 0:c.restoreFocus)===!1})),z.createElement(VP,{...c,hiddenTextDescribedById:te}));function vt(){const ke=(G==null?void 0:G.autoScrollEnabled)===!1,We=typeof d=="object"?d.enabled===!1:d===!1,et=C&&!ke&&!We;return typeof d=="object"?{...d,enabled:et}:{enabled:et}}}),KE=l.createContext(null),Qu="button",GE="Draggable";function qE(t){let{id:e,data:r,disabled:n=!1,attributes:s}=t;const o=Do(GE),{activators:i,activatorEvent:c,active:d,activeNodeRect:u,ariaDescribedById:f,draggableNodes:h,over:m}=l.useContext(hi),{role:g=Qu,roleDescription:v="draggable",tabIndex:p=0}=s??{},x=(d==null?void 0:d.id)===e,y=l.useContext(x?Hp:KE),[b,w]=ja(),[_,S]=ja(),C=DE(i,e),j=so(r);Yt(()=>(h.set(e,{id:e,key:o,node:b,activatorNode:_,data:j}),()=>{const R=h.get(e);R&&R.key===o&&h.delete(e)}),[h,e]);const P=l.useMemo(()=>({role:g,tabIndex:p,"aria-disabled":n,"aria-pressed":x&&g===Qu?!0:void 0,"aria-roledescription":v,"aria-describedby":f.draggable}),[n,g,p,x,v,f.draggable]);return{active:d,activatorEvent:c,activeNodeRect:u,attributes:P,isDragging:x,listeners:n?void 0:C,node:b,over:m,setNodeRef:w,setActivatorNodeRef:S,transform:y}}function YE(){return l.useContext(Up)}const XE="Droppable",JE={timeout:25};function QE(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:s}=t;const o=Do(XE),{active:i,dispatch:c,over:d,measureDroppableContainers:u}=l.useContext(hi),f=l.useRef({disabled:r}),h=l.useRef(!1),m=l.useRef(null),g=l.useRef(null),{disabled:v,updateMeasurementsFor:p,timeout:x}={...JE,...s},y=so(p??n),b=l.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),g.current=null},x)},[x]),w=fi({callback:b,disabled:v||!i}),_=l.useCallback((P,R)=>{w&&(R&&(w.unobserve(R),h.current=!1),P&&w.observe(P))},[w]),[S,C]=ja(_),j=so(e);return l.useEffect(()=>{!w||!S.current||(w.disconnect(),h.current=!1,w.observe(S.current))},[S,w]),l.useEffect(()=>(c({type:Fe.RegisterDroppable,element:{id:n,key:o,disabled:r,node:S,rect:m,data:j}}),()=>c({type:Fe.UnregisterDroppable,key:o,id:n})),[n]),l.useEffect(()=>{r!==f.current.disabled&&(c({type:Fe.SetDroppableDisabled,id:n,key:o,disabled:r}),f.current.disabled=r)},[n,o,r,c]),{active:i,rect:m,isOver:(d==null?void 0:d.id)===n,node:S,over:d,setNodeRef:C}}function hd(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function ZE(t,e){return t.reduce((r,n,s)=>{const o=e.get(n);return o&&(r[s]=o),r},Array(t.length))}function Zo(t){return t!==null&&t>=0}function eN(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function tN(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const zp=t=>{let{rects:e,activeIndex:r,overIndex:n,index:s}=t;const o=hd(e,n,r),i=e[s],c=o[s];return!c||!i?null:{x:c.left-i.left,y:c.top-i.top,scaleX:c.width/i.width,scaleY:c.height/i.height}},ea={scaleX:1,scaleY:1},rN=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:s,rects:o,overIndex:i}=t;const c=(e=o[r])!=null?e:n;if(!c)return null;if(s===r){const u=o[i];return u?{x:0,y:r<i?u.top+u.height-(c.top+c.height):u.top-c.top,...ea}:null}const d=nN(o,s,r);return s>r&&s<=i?{x:0,y:-c.height-d,...ea}:s<r&&s>=i?{x:0,y:c.height+d,...ea}:{x:0,y:0,...ea}};function nN(t,e,r){const n=t[e],s=t[e-1],o=t[e+1];return n?r<e?s?n.top-(s.top+s.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const Kp="Sortable",Gp=z.createContext({activeIndex:-1,containerId:Kp,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zp,disabled:{draggable:!1,droppable:!1}});function sN(t){let{children:e,id:r,items:n,strategy:s=zp,disabled:o=!1}=t;const{active:i,dragOverlay:c,droppableRects:d,over:u,measureDroppableContainers:f}=YE(),h=Do(Kp,r),m=c.rect!==null,g=l.useMemo(()=>n.map(C=>typeof C=="object"&&"id"in C?C.id:C),[n]),v=i!=null,p=i?g.indexOf(i.id):-1,x=u?g.indexOf(u.id):-1,y=l.useRef(g),b=!eN(g,y.current),w=x!==-1&&p===-1||b,_=tN(o);Yt(()=>{b&&v&&f(g)},[b,g,v,f]),l.useEffect(()=>{y.current=g},[g]);const S=l.useMemo(()=>({activeIndex:p,containerId:h,disabled:_,disableTransforms:w,items:g,overIndex:x,useDragOverlay:m,sortedRects:ZE(g,d),strategy:s}),[p,h,_.draggable,_.droppable,w,g,x,d,m,s]);return z.createElement(Gp.Provider,{value:S},e)}const oN=t=>{let{id:e,items:r,activeIndex:n,overIndex:s}=t;return hd(r,n,s).indexOf(e)},aN=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:s,items:o,newIndex:i,previousItems:c,previousContainerId:d,transition:u}=t;return!u||!n||c!==o&&s===i?!1:r?!0:i!==s&&e===d},iN={duration:200,easing:"ease"},qp="transform",cN=ao.Transition.toString({property:qp,duration:0,easing:"linear"}),lN={roleDescription:"sortable"};function dN(t){let{disabled:e,index:r,node:n,rect:s}=t;const[o,i]=l.useState(null),c=l.useRef(r);return Yt(()=>{if(!e&&r!==c.current&&n.current){const d=s.current;if(d){const u=bs(n.current,{ignoreTransform:!0}),f={x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height};(f.x||f.y)&&i(f)}}r!==c.current&&(c.current=r)},[e,r,n,s]),l.useEffect(()=>{o&&i(null)},[o]),o}function uN(t){let{animateLayoutChanges:e=aN,attributes:r,disabled:n,data:s,getNewIndex:o=oN,id:i,strategy:c,resizeObserverConfig:d,transition:u=iN}=t;const{items:f,containerId:h,activeIndex:m,disabled:g,disableTransforms:v,sortedRects:p,overIndex:x,useDragOverlay:y,strategy:b}=l.useContext(Gp),w=fN(n,g),_=f.indexOf(i),S=l.useMemo(()=>({sortable:{containerId:h,index:_,items:f},...s}),[h,s,_,f]),C=l.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:j,node:P,isOver:R,setNodeRef:A}=QE({id:i,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...d}}),{active:E,activatorEvent:k,activeNodeRect:D,attributes:O,setNodeRef:G,listeners:L,isDragging:W,over:$,setActivatorNodeRef:I,transform:te}=qE({id:i,data:S,attributes:{...lN,...r},disabled:w.draggable}),Y=kP(A,G),T=!!E,U=T&&!v&&Zo(m)&&Zo(x),N=!y&&W,B=N&&U?te:null,V=U?B??(c??b)({rects:p,activeNodeRect:D,activeIndex:m,overIndex:x,index:_}):null,X=Zo(m)&&Zo(x)?o({id:i,items:f,activeIndex:m,overIndex:x}):_,Z=E==null?void 0:E.id,q=l.useRef({activeId:Z,items:f,newIndex:X,containerId:h}),oe=f!==q.current.items,re=e({active:E,containerId:h,isDragging:W,isSorting:T,id:i,index:_,items:f,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:u,wasDragging:q.current.activeId!=null}),ye=dN({disabled:!re,index:_,node:P,rect:j});return l.useEffect(()=>{T&&q.current.newIndex!==X&&(q.current.newIndex=X),h!==q.current.containerId&&(q.current.containerId=h),f!==q.current.items&&(q.current.items=f)},[T,X,h,f]),l.useEffect(()=>{if(Z===q.current.activeId)return;if(Z!=null&&q.current.activeId==null){q.current.activeId=Z;return}const Me=setTimeout(()=>{q.current.activeId=Z},50);return()=>clearTimeout(Me)},[Z]),{active:E,activeIndex:m,attributes:O,data:S,rect:j,index:_,newIndex:X,items:f,isOver:R,isSorting:T,isDragging:W,listeners:L,node:P,overIndex:x,over:$,setNodeRef:Y,setActivatorNodeRef:I,setDroppableNodeRef:A,setDraggableNodeRef:G,transform:ye??V,transition:Pe()};function Pe(){if(ye||oe&&q.current.newIndex===_)return cN;if(!(N&&!cd(k)||!u)&&(T||re))return ao.Transition.toString({...u,property:qp})}}function fN(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}function Na(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const hN=[he.Down,he.Right,he.Up,he.Left],mN=(t,e)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:o,over:i,scrollableAncestors:c}}=e;if(hN.includes(t.code)){if(t.preventDefault(),!r||!n)return;const d=[];o.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=s.get(h.id);if(m)switch(t.code){case he.Down:n.top<m.top&&d.push(h);break;case he.Up:n.top>m.top&&d.push(h);break;case he.Left:n.left>m.left&&d.push(h);break;case he.Right:n.left<m.left&&d.push(h);break}});const u=KP({active:r,collisionRect:n,droppableRects:s,droppableContainers:d,pointerCoordinates:null});let f=Rp(u,"id");if(f===(i==null?void 0:i.id)&&u.length>1&&(f=u[1].id),f!=null){const h=o.get(r.id),m=o.get(f),g=m?s.get(m.id):null,v=m==null?void 0:m.node.current;if(v&&g&&h&&m){const x=ui(v).some((C,j)=>c[j]!==C),y=Yp(h,m),b=pN(h,m),w=x||!y?{x:0,y:0}:{x:b?n.width-g.width:0,y:b?n.height-g.height:0},_={x:g.left,y:g.top};return w.x&&w.y?_:oo(_,w)}}}};function Yp(t,e){return!Na(t)||!Na(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function pN(t,e){return!Na(t)||!Na(e)||!Yp(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const gN=({column:t,onVisibilityChange:e})=>{const{attributes:r,listeners:n,setNodeRef:s,transform:o,transition:i,isDragging:c}=uN({id:t.key}),d={transform:ao.Transform.toString(o),transition:i,opacity:c?.5:1},u=f=>f.replace(/([A-Z])/g," $1").replace(/^./,h=>h.toUpperCase()).replace(/_/g," ");return a.jsxs("div",{ref:s,style:d,className:"flex items-center space-x-3 p-3 bg-card rounded-lg border hover:bg-accent transition-colors",children:[a.jsx("div",{...r,...n,className:"cursor-grab active:cursor-grabbing p-1 hover:bg-muted rounded",children:a.jsx(yb,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(Kt,{checked:t.visible,onCheckedChange:f=>e(!!f),className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),a.jsx("span",{className:"flex-1 text-sm font-medium",children:u(t.key)}),a.jsx(ls,{variant:t.visible?"default":"secondary",className:"text-xs",children:t.visible?"Visible":"Hidden"})]})},vN=({visibleColumns:t,onVisibilityChange:e,onColumnOrderChange:r})=>{const[n,s]=l.useState(!1),{columnPreferences:o,saveColumnPreferences:i,isLoading:c}=Bl(),[d,u]=l.useState([]),f=UP(Bu(fd),Bu(dd,{coordinateGetter:mN})),h=["StockName","OptionName","ExpiryDate","DaysToExpiry","StrikePrice","Premium","NumberOfContractsBasedOnLimit","1_2_3_ProbOfWorthless_Weighted"],m=()=>["StockName","OptionName","ExpiryDate","FinancialReport","X-Day","Premium","PoW_Simulation_Mean_Earnings","100k_Invested_Loss_Mean","1_2_3_ProbOfWorthless_Weighted","ProbWorthless_Bayesian_IsoCal","1_ProbOfWorthless_Original","2_ProbOfWorthless_Calibrated","3_ProbOfWorthless_Historical_IV","Lower_Bound_at_Accuracy","LossAtBadDecline","LossAtWorstDecline","PoW_Stats_MedianLossPct","PoW_Stats_WorstLossPct","PoW_Stats_MedianLoss","PoW_Stats_WorstLoss","PoW_Stats_MedianProbOfWorthless","PoW_Stats_MinProbOfWorthless","PoW_Stats_MaxProbOfWorthless","LossAt100DayWorstDecline","LossAt_2008_100DayWorstDecline","Mean_Accuracy","Lower_Bound_HistMedianIV_at_Accuracy","Lower_Bound","Lower_Bound_HistMedianIV","Bid_Ask_Mid_Price","Option_Price_Min","NumberOfContractsBasedOnLimit","Bid","ProfitLossPctLeastBad","Loss_Least_Bad","IV_AllMedianIV_Maximum100DaysToExp_Ratio","StockPrice","DaysToExpiry","AskBidSpread","Underlying_Value","StrikePrice","StockPrice_After_2008_100DayWorstDecline","LossAt50DayWorstDecline","LossAt_2008_50DayWorstDecline","ProfitLossPctBad","ProfitLossPctWorst","ProfitLossPct100DayWorst","ImpliedVolatility","TodayStockMedianIV_Maximum100DaysToExp","AllMedianIV_Maximum100DaysToExp","ExpiryDate_Lower_Bound_Minus_Pct_Based_on_Accuracy","StrikeBelowLowerAtAcc","Ask","WorstHistoricalDecline","BadHistoricalDecline","ImpliedVolatilityUntilExpiry","StockPrice_After_100DayWorstDecline","StockPrice_After_50DayWorstDecline","StockPrice_After_2008_50DayWorstDecline","100DayMaxPrice","100DayMaxPriceDate","50DayMaxPrice","50DayMaxPriceDate","Historical100DaysWorstDecline","Historical50DaysWorstDecline","2008_100DaysWorstDecline","2008_50DaysWorstDecline","IV_ClosestToStrike","IV_UntilExpiryClosestToStrike","LowerBoundClosestToStrike","LowerBoundDistanceFromCurrentPrice","LowerBoundDistanceFromStrike","ImpliedDownPct","ToStrikePct","SafetyMultiple","SigmasToStrike","ProbAssignment","SafetyCategory","CushionMinusIVPct","PotentialLossAtLowerBound"];l.useEffect(()=>{const y=m(),b=new Map(o.map(_=>[_.key,_])),w=y.map((_,S)=>b.get(_)||{key:_,visible:h.includes(_),order:b.size+S});w.sort((_,S)=>{const C=b.has(_.key),j=b.has(S.key);return C&&j?_.order-S.order:C?-1:j?1:_.order-S.order}),u(w)},[o]);const g=y=>{const{active:b,over:w}=y;b.id!==(w==null?void 0:w.id)&&u(_=>{const S=_.findIndex(P=>P.key===b.id),C=_.findIndex(P=>P.key===(w==null?void 0:w.id));return hd(_,S,C).map((P,R)=>({...P,order:R}))})},v=(y,b)=>{u(w=>w.map(_=>_.key===y?{..._,visible:b}:_))},p=async()=>{await i(d);const y=d.filter(b=>b.visible).sort((b,w)=>b.order-w.order).map(b=>b.key);r(y),s(!1)},x=d.filter(y=>y.visible).length;return a.jsxs(ci,{open:n,onOpenChange:s,children:[a.jsx(li,{asChild:!0,children:a.jsxs(ee,{variant:"outline",size:"sm",className:"ml-2",children:[a.jsx(yl,{className:"h-4 w-4 mr-1"}),"Columns (",x,")"]})}),a.jsxs(No,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs(td,{children:[a.jsx(rd,{children:"Manage Table Columns"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag to reorder columns and check/uncheck to show/hide them. Click Save to persist your preferences."})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:!c&&d.length>0&&a.jsx(zE,{sensors:f,collisionDetection:zP,onDragEnd:g,children:a.jsx(sN,{items:d.map(y=>y.key),strategy:rN,children:d.sort((y,b)=>y.order-b.order).map(y=>a.jsx(gN,{column:y,onVisibilityChange:b=>v(y.key,b)},y.key))})})}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:[x," of ",d.length," columns visible"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ee,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(ee,{onClick:p,disabled:c,children:[a.jsx(_b,{className:"h-4 w-4 mr-1"}),"Save Preferences"]})]})]})]})]})},Xp=({data:t,onRowClick:e,onStockClick:r,columnFilters:n=[],onColumnFiltersChange:s=()=>{},sortField:o,sortDirection:i,onSortChange:c,enableFiltering:d=!0})=>{const{columnPreferences:u,isLoading:f}=Bl(),[h,m]=l.useState([]),[g,v]=l.useState(null),p=l.useRef(null),x=["StockName","OptionName","ExpiryDate","DaysToExpiry","StrikePrice","Premium","NumberOfContractsBasedOnLimit","1_2_3_ProbOfWorthless_Weighted"];l.useEffect(()=>{if(!f)if(u.length>0){const E=u.filter(k=>k.visible).sort((k,D)=>k.order-D.order).map(k=>k.key);m(E)}else m(x)},[u,f]),l.useEffect(()=>{const E=k=>{p.current&&!p.current.contains(k.target)&&v(null)};if(g&&d)return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[g,d]);const y=E=>{if(E==="recalculatedNumberOfContracts")return"Number Of Contracts";const k={IV_ClosestToStrike:"IV Closest To Strike",IV_UntilExpiryClosestToStrike:"IV Until Expiry Closest To Strike",LowerBoundClosestToStrike:"Lower Bound Closest To Strike",LowerBoundDistanceFromCurrentPrice:"Lower Bound Distance From Current Price",LowerBoundDistanceFromStrike:"Lower Bound Distance From Strike",ImpliedDownPct:"Implied Down %",ToStrikePct:"To Strike %",SafetyMultiple:"Safety Multiple",SigmasToStrike:"Sigmas To Strike",ProbAssignment:"Prob Assignment",SafetyCategory:"Safety Category",CushionMinusIVPct:"Cushion Minus IV %",PotentialLossAtLowerBound:"Potential Loss At IV Lower Bound"};return k[E]?k[E]:E.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^\w/,D=>D.toUpperCase()).replace(/\b\w/g,D=>D.toUpperCase())},b=E=>{o===E?c(E,i==="asc"?"desc":"asc"):c(E,"asc")},w=[...t].sort((E,k)=>{if(!o)return 0;const D=E[o],O=k[o];if(typeof D=="number"&&typeof O=="number")return i==="asc"?D-O:O-D;const G=String(D).toLowerCase(),L=String(O).toLowerCase();return i==="asc"?G.localeCompare(L):L.localeCompare(G)}),_=E=>t.length===0?"text":typeof t[0][E]=="number"?"number":"text",S=d?w.filter(E=>n.every(k=>{const D=E[k.field];return k.type==="text"?k.textValue?String(D).toLowerCase().includes(k.textValue.toLowerCase()):!0:typeof D!="number"?!0:!(k.minValue!==void 0&&D<k.minValue||k.maxValue!==void 0&&D>k.maxValue)})):w,C=(E,k)=>{if(!d)return;const D=n,O=D.findIndex(W=>W.field===E),G=_(E);let L;if(O>=0){const W=[...D];W[O]={...W[O],...k},G==="text"&&!W[O].textValue?L=W.filter(($,I)=>I!==O):G==="number"&&W[O].minValue===void 0&&W[O].maxValue===void 0?L=W.filter(($,I)=>I!==O):L=W}else G==="text"&&!k.textValue||G==="number"&&k.minValue===void 0&&k.maxValue===void 0?L=D:L=[...D,{field:E,type:G,...k}];s(L)},j=E=>n.find(k=>k.field===E),P=(E,k)=>ua(E,k),R=(E,k)=>{k?h.includes(E)||m(D=>[...D,E]):m(D=>D.filter(O=>O!==E))},A=E=>{m(E)};return a.jsx(qa,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ud,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Click on column headers to filter"})]}),a.jsx(vN,{visibleColumns:h,onVisibilityChange:R,onColumnOrderChange:A})]}),a.jsxs(Vm,{className:"w-full whitespace-nowrap rounded-md border",children:[a.jsxs(Wl,{children:[a.jsx(Vl,{children:a.jsx(ro,{children:h.map(E=>{const k=_(E),D=j(E),O=!!D;return a.jsx(Wt,{className:E==="StockName"?"w-28 max-w-28":"min-w-[120px]",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(ee,{variant:"ghost",onClick:()=>b(E),className:"h-8 p-0 font-medium",title:y(E),children:[y(E)," ",a.jsx(da,{className:"ml-1 h-3 w-3"})]}),E==="OptionName"&&a.jsxs(va,{children:[a.jsx(xa,{asChild:!0,children:a.jsx(lr,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(Qs,{side:"top",className:"max-w-xs",children:a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsx("div",{className:"font-medium"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),a.jsx("span",{children:"Financial Report"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),a.jsx("span",{children:"Ex-Dividend Day"})]})]})})]}),E==="PotentialLossAtLowerBound"&&a.jsxs(va,{children:[a.jsx(xa,{asChild:!0,children:a.jsx(lr,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(Qs,{side:"top",align:"center",sideOffset:5,className:"z-[9999] border bg-popover text-popover-foreground shadow-md !max-w-none !w-auto",style:{width:"auto",minWidth:"max-content",maxWidth:"none",whiteSpace:"normal"},children:a.jsxs("div",{className:"text-xs leading-relaxed p-3",style:{width:"auto",minWidth:"max-content"},children:[a.jsx("div",{className:"font-medium mb-2",children:"How this field is calculated:"}),a.jsx("div",{className:"mb-2",children:"This field represents the maximum potential loss if the stock price falls to its IV-based lower bound at expiration."}),a.jsx("div",{className:"mb-2 font-mono text-xs bg-muted/50 p-2 rounded",children:"Premium + (LowerBoundValue × Contracts × 100) - (StrikePrice × Contracts × 100)"}),a.jsx("div",{children:"The lower bound is derived from implied volatility analysis to estimate worst-case scenarios for the option position."})]})})]})]}),d&&a.jsxs("div",{className:"relative",children:[a.jsxs(ee,{variant:O?"default":"outline",size:"sm",onClick:()=>v(g===E?null:E),className:"h-6 w-full text-xs",children:[a.jsx(Ud,{className:"h-3 w-3 mr-1"}),O?"Filtered":"Filter"]}),g===E&&a.jsxs("div",{ref:p,className:"absolute top-8 left-0 z-50 bg-background border rounded-md shadow-md p-2 min-w-48",children:[k==="text"?a.jsx(Qe,{placeholder:"Search...",value:(D==null?void 0:D.textValue)||"",onChange:G=>C(E,{textValue:G.target.value.slice(0,100)}),className:"h-8",maxLength:100,autoFocus:!0}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{type:"number",placeholder:"Min value",value:(D==null?void 0:D.minValue)||"",onChange:G=>{const L=G.target.value,W=L?parseFloat(L):void 0;(W===void 0||!isNaN(W)&&isFinite(W))&&C(E,{minValue:W})},className:"h-8"}),a.jsx(Qe,{type:"number",placeholder:"Max value",value:(D==null?void 0:D.maxValue)||"",onChange:G=>{const L=G.target.value,W=L?parseFloat(L):void 0;(W===void 0||!isNaN(W)&&isFinite(W))&&C(E,{maxValue:W})},className:"h-8"})]}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{C(E,k==="text"?{textValue:""}:{minValue:void 0,maxValue:void 0}),v(null)},className:"mt-2 h-6 w-full text-xs",children:"Clear"})]})]})]})},E)})})}),a.jsx(Ul,{children:S.map((E,k)=>a.jsx(ro,{className:"hover:bg-muted/50",children:h.map(D=>{const O=()=>D!=="OptionName"?"":E.FinancialReport==="Y"?"text-orange-600 dark:text-orange-400":E["X-Day"]&&String(E["X-Day"]).toUpperCase()==="Y"?"text-red-600 dark:text-red-400":"text-primary";return a.jsx(Vt,{className:`${D==="StockName"?"w-28 max-w-28 truncate":"min-w-[120px]"} ${D==="OptionName"||D==="StockName"?"cursor-pointer hover:bg-accent/50 transition-colors":""}`,onClick:D==="OptionName"?()=>e==null?void 0:e(E):D==="StockName"?()=>r==null?void 0:r(E.StockName):void 0,children:D==="OptionName"?a.jsx("span",{className:`font-medium ${O()} hover:opacity-80 transition-all`,children:P(E[D],D)}):D==="StockName"?a.jsx("span",{className:"font-medium text-secondary-foreground hover:text-primary transition-colors",children:P(E[D],D)}):P(E[D],D)},D)})},`${E.StockName}-${E.OptionName}-${k}`))})]}),a.jsx(ql,{orientation:"horizontal"})]})]})})},me=l.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));me.displayName="Card";const we=l.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",t),...e}));we.displayName="CardHeader";const _e=l.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",t),...e}));_e.displayName="CardTitle";const xN=l.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",t),...e}));xN.displayName="CardDescription";const pe=l.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:J("p-6 pt-0",t),...e}));pe.displayName="CardContent";const yN=l.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",t),...e}));yN.displayName="CardFooter";function bN(t,e=[]){let r=[];function n(o,i){const c=l.createContext(i),d=r.length;r=[...r,i];function u(h){const{scope:m,children:g,...v}=h,p=(m==null?void 0:m[t][d])||c,x=l.useMemo(()=>v,Object.values(v));return a.jsx(p.Provider,{value:x,children:g})}function f(h,m){const g=(m==null?void 0:m[t][d])||c,v=l.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>l.createContext(i));return function(c){const d=(c==null?void 0:c[t])||o;return l.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[n,wN(s,...e)]}function wN(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:d,scopeName:u})=>{const h=d(o)[`__scope${u}`];return{...c,...h}},{});return l.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var sc="rovingFocusGroup.onEntryFocus",_N={bubbles:!1,cancelable:!0},mi="RovingFocusGroup",[Gc,Jp,SN]=go(mi),[CN,pi]=bN(mi,[SN]),[jN,PN]=CN(mi),Qp=l.forwardRef((t,e)=>a.jsx(Gc.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Gc.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(EN,{...t,ref:e})})}));Qp.displayName=mi;var EN=l.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,m=l.useRef(null),g=ne(e,m),v=vs(o),[p=null,x]=Rt({prop:i,defaultProp:c,onChange:d}),[y,b]=l.useState(!1),w=Re(u),_=Jp(r),S=l.useRef(!1),[C,j]=l.useState(0);return l.useEffect(()=>{const P=m.current;if(P)return P.addEventListener(sc,w),()=>P.removeEventListener(sc,w)},[w]),a.jsx(jN,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:p,onItemFocus:l.useCallback(P=>x(P),[x]),onItemShiftTab:l.useCallback(()=>b(!0),[]),onFocusableItemAdd:l.useCallback(()=>j(P=>P+1),[]),onFocusableItemRemove:l.useCallback(()=>j(P=>P-1),[]),children:a.jsx(Q.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:H(t.onMouseDown,()=>{S.current=!0}),onFocus:H(t.onFocus,P=>{const R=!S.current;if(P.target===P.currentTarget&&R&&!y){const A=new CustomEvent(sc,_N);if(P.currentTarget.dispatchEvent(A),!A.defaultPrevented){const E=_().filter(L=>L.focusable),k=E.find(L=>L.active),D=E.find(L=>L.id===p),G=[k,D,...E].filter(Boolean).map(L=>L.ref.current);tg(G,f)}}S.current=!1}),onBlur:H(t.onBlur,()=>b(!1))})})}),Zp="RovingFocusGroupItem",eg=l.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=t,c=wt(),d=o||c,u=PN(Zp,r),f=u.currentTabStopId===d,h=Jp(r),{onFocusableItemAdd:m,onFocusableItemRemove:g}=u;return l.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(Gc.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:a.jsx(Q.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...i,ref:e,onMouseDown:H(t.onMouseDown,v=>{n?u.onItemFocus(d):v.preventDefault()}),onFocus:H(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:H(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=TN(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const b=y.indexOf(v.currentTarget);y=u.loop?DN(y,b+1):y.slice(b+1)}setTimeout(()=>tg(y))}})})})});eg.displayName=Zp;var NN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kN(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TN(t,e,r){const n=kN(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return NN[n]}function tg(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function DN(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rg=Qp,ng=eg,md="Tabs",[RN,AA]=It(md,[pi]),sg=pi(),[AN,pd]=RN(md),og=l.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:c,activationMode:d="automatic",...u}=t,f=vs(c),[h,m]=Rt({prop:n,onChange:s,defaultProp:o});return a.jsx(AN,{scope:r,baseId:wt(),value:h,onValueChange:m,orientation:i,dir:f,activationMode:d,children:a.jsx(Q.div,{dir:f,"data-orientation":i,...u,ref:e})})});og.displayName=md;var ag="TabsList",ig=l.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=pd(ag,r),i=sg(r);return a.jsx(rg,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(Q.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});ig.displayName=ag;var cg="TabsTrigger",lg=l.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,i=pd(cg,r),c=sg(r),d=fg(i.baseId,n),u=hg(i.baseId,n),f=n===i.value;return a.jsx(ng,{asChild:!0,...c,focusable:!s,active:f,children:a.jsx(Q.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...o,ref:e,onMouseDown:H(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:H(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:H(t.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(n)})})})});lg.displayName=cg;var dg="TabsContent",ug=l.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=t,c=pd(dg,r),d=fg(c.baseId,n),u=hg(c.baseId,n),f=n===c.value,h=l.useRef(f);return l.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(He,{present:s||f,children:({present:m})=>a.jsx(Q.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});ug.displayName=dg;function fg(t,e){return`${t}-trigger-${e}`}function hg(t,e){return`${t}-content-${e}`}var ON=og,mg=ig,pg=lg,gg=ug;const gd=ON,gi=l.forwardRef(({className:t,...e},r)=>a.jsx(mg,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));gi.displayName=mg.displayName;const fn=l.forwardRef(({className:t,...e},r)=>a.jsx(pg,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));fn.displayName=pg.displayName;const hn=l.forwardRef(({className:t,...e},r)=>a.jsx(gg,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));hn.displayName=gg.displayName;var MN="Label",vg=l.forwardRef((t,e)=>a.jsx(Q.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));vg.displayName=MN;var xg=vg;const IN=$a("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ce=l.forwardRef(({className:t,...e},r)=>a.jsx(xg,{ref:r,className:J(IN(),t),...e}));Ce.displayName=xg.displayName;const $N=({data:t})=>{const[e,r]=l.useState(["ProbWorthless_Bayesian_IsoCal"]),n=[{value:"1_2_3_ProbOfWorthless_Weighted",label:"1_2_3_ProbOfWorthless_Weighted"},{value:"ProbWorthless_Bayesian_IsoCal",label:"ProbWorthless_Bayesian_IsoCal"},{value:"1_ProbOfWorthless_Original",label:"1_ProbOfWorthless_Original"},{value:"2_ProbOfWorthless_Calibrated",label:"2_ProbOfWorthless_Calibrated"},{value:"3_ProbOfWorthless_Historical_IV",label:"3_ProbOfWorthless_Historical_IV"}],s=["#2563eb","#dc2626","#16a34a","#ca8a04","#9333ea"],o=t.map(u=>{const f={name:u.OptionName,x:u.Premium,z:u.DaysToExpiry,stockName:u.StockName};return e.forEach(h=>{f[h]=u[h]}),f}),i=t.reduce((u,f)=>{const h=f.ProbWorthless_Bayesian_IsoCal??f["1_2_3_ProbOfWorthless_Weighted"],m=h<=.6?"High Risk":h<.8?"Medium Risk":"Low Risk";return u[m]=(u[m]||0)+1,u},{}),c=Object.entries(i).map(([u,f])=>({risk:u,count:f})),d=u=>{r(f=>f.includes(u)?f.filter(h=>h!==u):[...f,u])};return a.jsxs(gd,{defaultValue:"scatter",className:"w-full",children:[a.jsxs(gi,{className:"grid w-full grid-cols-2",children:[a.jsx(fn,{value:"scatter",children:"Risk vs Premium"}),a.jsx(fn,{value:"distribution",children:"Risk Distribution"})]}),a.jsx(hn,{value:"scatter",children:a.jsxs(me,{children:[a.jsxs(we,{className:"space-y-4",children:[a.jsx(_e,{children:"Premium vs Probability of Worthless"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{children:"Select Probability Fields:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:n.map(u=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kt,{id:u.value,checked:e.includes(u.value),onCheckedChange:()=>d(u.value)}),a.jsx("label",{htmlFor:u.value,className:"text-sm cursor-pointer",children:u.label})]},u.value))})]})]}),a.jsx(pe,{children:a.jsx(rs,{width:"100%",height:400,children:a.jsxs(Of,{data:o,margin:{top:20,right:20,bottom:20,left:20},children:[a.jsx(Ks,{strokeDasharray:"3 3"}),a.jsx(cn,{type:"number",dataKey:"x",name:"Premium",domain:["dataMin","dataMax"]}),a.jsx(Or,{type:"number",name:"Prob of Worthless",tickFormatter:u=>`${(u*100).toFixed(0)}%`}),a.jsx(ln,{content:({active:u,payload:f})=>{if(u&&f&&f.length>0){const h=f[0].payload;return a.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[a.jsxs("div",{className:"font-semibold text-foreground mb-2",children:[h.stockName," - ",h.name]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Premium:"})," ",Number(h.x).toLocaleString()]}),e.map(m=>a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"font-medium",children:[m,":"]})," ",(Number(h[m])*100).toFixed(2),"%"]},m)),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Days to Expiry:"})," ",h.z]})]})]})}return null}}),a.jsx(mc,{}),e.map((u,f)=>a.jsx(Mf,{name:u,dataKey:u,fill:s[f%s.length]},u))]})})})]})}),a.jsx(hn,{value:"distribution",children:a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Options Risk Distribution"})}),a.jsx(pe,{children:a.jsx(rs,{width:"100%",height:400,children:a.jsxs(If,{data:c,children:[a.jsx(Ks,{strokeDasharray:"3 3"}),a.jsx(cn,{dataKey:"risk"}),a.jsx(Or,{}),a.jsx(ln,{}),a.jsx(fl,{dataKey:"count",fill:"hsl(var(--primary))"})]})})})]})})]})},LN=()=>{const[t,e]=l.useState([]),[r,n]=l.useState(!1),[s,o]=l.useState(null),i=l.useCallback(async u=>{console.log("📥 Loading CSV:",u),n(!0),o(null);const f=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/${u}?${Date.now()}`,`https://raw.githubusercontent.com/datamilo/put-options-se/main/public/data/${u}?${Date.now()}`,`${window.location.origin}/put-options-sedata/${u}?${Date.now()}`];let h=null;for(const m of f)try{console.log("🔗 Trying URL:",m);const g=await fetch(m);if(!g.ok)throw new Error(`Failed to fetch CSV: ${g.status} ${g.statusText}`);const v=await g.text();if(!v||v.trim().length===0)throw new Error("Empty CSV file received");console.log("✅ Successfully loaded CSV from:",m);const p=await new Promise((x,y)=>{ns.parse(v,{header:!0,skipEmptyLines:!0,transformHeader:b=>b.trim(),transform:(b,w)=>{if(typeof w=="string"&&["X-Day","Premium","PoW_Simulation_Mean_Earnings","100k_Invested_Loss_Mean","1_2_3_ProbOfWorthless_Weighted","ProbWorthless_Bayesian_IsoCal","1_ProbOfWorthless_Original","2_ProbOfWorthless_Calibrated","3_ProbOfWorthless_Historical_IV","Lower_Bound_at_Accuracy","LossAtBadDecline","LossAtWorstDecline","PoW_Stats_MedianLossPct","PoW_Stats_WorstLossPct","PoW_Stats_MedianLoss","PoW_Stats_WorstLoss","PoW_Stats_MedianProbOfWorthless","PoW_Stats_MinProbOfWorthless","PoW_Stats_MaxProbOfWorthless","LossAt100DayWorstDecline","LossAt_2008_100DayWorstDecline","Mean_Accuracy","Lower_Bound_HistMedianIV_at_Accuracy","Lower_Bound","Lower_Bound_HistMedianIV","Bid_Ask_Mid_Price","Option_Price_Min","NumberOfContractsBasedOnLimit","Bid","ProfitLossPctLeastBad","Loss_Least_Bad","IV_AllMedianIV_Maximum100DaysToExp_Ratio","StockPrice","DaysToExpiry","AskBidSpread","Underlying_Value","StrikePrice","StockPrice_After_2008_100DayWorstDecline","LossAt50DayWorstDecline","LossAt_2008_50DayWorstDecline","ProfitLossPctBad","ProfitLossPctWorst","ProfitLossPct100DayWorst","ImpliedVolatility","TodayStockMedianIV_Maximum100DaysToExp","AllMedianIV_Maximum100DaysToExp","ExpiryDate_Lower_Bound_Minus_Pct_Based_on_Accuracy","Ask","WorstHistoricalDecline","BadHistoricalDecline","ImpliedVolatilityUntilExpiry","StockPrice_After_100DayWorstDecline","StockPrice_After_50DayWorstDecline","StockPrice_After_2008_50DayWorstDecline","100DayMaxPrice","50DayMaxPrice","Historical100DaysWorstDecline","Historical50DaysWorstDecline","2008_100DaysWorstDecline","2008_50DaysWorstDecline"].includes(w)){const S=parseFloat(b);return isNaN(S)?null:S}return b},complete:b=>{if(b.errors.length>0){console.warn("CSV parsing warnings:",b.errors);const w=b.errors.filter(_=>_.type==="Delimiter"||_.type==="Quotes");if(w.length>0){y(new Error(`CSV parsing errors: ${w.map(_=>_.message).join(", ")}`));return}}b.data&&b.data.length>0?(console.log(`✅ Parsed ${b.data.length} rows from CSV`),x(b.data)):(console.warn("No data found in CSV, trying next URL..."),y(new Error("No data found in CSV")))},error:b=>{y(new Error(`Failed to parse CSV: ${b.message}`))}})});e(p),n(!1);return}catch(g){console.warn(`❌ Failed to load from ${m}:`,g),h=g;continue}console.warn("❌ All CSV loading attempts failed, using mock data"),o(`Failed to load data from any source. Last error: ${h==null?void 0:h.message}`),d(),n(!1)},[]),c=l.useCallback(u=>{n(!0),o(null),ns.parse(u,{header:!0,skipEmptyLines:!0,transformHeader:f=>f.trim(),transform:(f,h)=>{if(typeof h=="string"&&["X-Day","Premium","PoW_Simulation_Mean_Earnings","100k_Invested_Loss_Mean","1_2_3_ProbOfWorthless_Weighted","ProbWorthless_Bayesian_IsoCal","1_ProbOfWorthless_Original","2_ProbOfWorthless_Calibrated","3_ProbOfWorthless_Historical_IV","Lower_Bound_at_Accuracy","LossAtBadDecline","LossAtWorstDecline","PoW_Stats_MedianLossPct","PoW_Stats_WorstLossPct","PoW_Stats_MedianLoss","PoW_Stats_WorstLoss","PoW_Stats_MedianProbOfWorthless","PoW_Stats_MinProbOfWorthless","PoW_Stats_MaxProbOfWorthless","LossAt100DayWorstDecline","LossAt_2008_100DayWorstDecline","Mean_Accuracy","Lower_Bound_HistMedianIV_at_Accuracy","Lower_Bound","Lower_Bound_HistMedianIV","Bid_Ask_Mid_Price","Option_Price_Min","NumberOfContractsBasedOnLimit","Bid","ProfitLossPctLeastBad","Loss_Least_Bad","IV_AllMedianIV_Maximum100DaysToExp_Ratio","StockPrice","DaysToExpiry","AskBidSpread","Underlying_Value","StrikePrice","StockPrice_After_2008_100DayWorstDecline","LossAt50DayWorstDecline","LossAt_2008_50DayWorstDecline","ProfitLossPctBad","ProfitLossPctWorst","ProfitLossPct100DayWorst","ImpliedVolatility","TodayStockMedianIV_Maximum100DaysToExp","AllMedianIV_Maximum100DaysToExp","ExpiryDate_Lower_Bound_Minus_Pct_Based_on_Accuracy","Ask","WorstHistoricalDecline","BadHistoricalDecline","ImpliedVolatilityUntilExpiry","StockPrice_After_100DayWorstDecline","StockPrice_After_50DayWorstDecline","StockPrice_After_2008_50DayWorstDecline","100DayMaxPrice","50DayMaxPrice","Historical100DaysWorstDecline","Historical50DaysWorstDecline","2008_100DaysWorstDecline","2008_50DaysWorstDecline"].includes(h)){const g=parseFloat(f);return isNaN(g)?null:g}return f},complete:f=>{f.errors.length>0?o(`CSV parsing errors: ${f.errors.map(h=>h.message).join(", ")}`):e(f.data),n(!1)},error:f=>{o(`Failed to parse CSV: ${f.message}`),n(!1)}})},[]),d=l.useCallback(()=>{console.log("📦 Loading mock data..."),e([{StockName:"AAK AB",OptionName:"AAK5T240",Premium:250,ExpiryDate:"2024-12-15","1_2_3_ProbOfWorthless_Weighted":.898455,ProbWorthless_Bayesian_IsoCal:.810947,"1_ProbOfWorthless_Original":.884279,"2_ProbOfWorthless_Calibrated":.85,"3_ProbOfWorthless_Historical_IV":.12,Lower_Bound_at_Accuracy:.75,LossAtBadDecline:-21150,LossAtWorstDecline:-25e3,PoW_Stats_MedianLossPct:.15,PoW_Stats_WorstLossPct:.25,PoW_Stats_MedianLoss:-18e3,PoW_Stats_WorstLoss:-3e4,PoW_Stats_MedianProbOfWorthless:.82,PoW_Stats_MinProbOfWorthless:.75,PoW_Stats_MaxProbOfWorthless:.95,LossAt100DayWorstDecline:-22e3,LossAt_2008_100DayWorstDecline:-45e3,Mean_Accuracy:.78,Lower_Bound_HistMedianIV_at_Accuracy:.22,Lower_Bound:195,Lower_Bound_HistMedianIV:.21,Bid_Ask_Mid_Price:248,Option_Price_Min:240,NumberOfContractsBasedOnLimit:400,Bid:245,ProfitLossPctLeastBad:.02,Loss_Least_Bad:-5e3,IV_AllMedianIV_Maximum100DaysToExp_Ratio:1.15,StockPrice:280,DaysToExpiry:45,AskBidSpread:10,Underlying_Value:280,StrikePrice:290,StockPrice_After_2008_100DayWorstDecline:220,LossAt50DayWorstDecline:-21150,LossAt_2008_50DayWorstDecline:-48910,ProfitLossPctBad:.02,ProfitLossPctWorst:.01,ProfitLossPct100DayWorst:.021,ImpliedVolatility:.298041,TodayStockMedianIV_Maximum100DaysToExp:.22951,AllMedianIV_Maximum100DaysToExp:.216361,ExpiryDate_Lower_Bound_Minus_Pct_Based_on_Accuracy:.2,StrikeBelowLowerAtAcc:"Y",Ask:255,"X-Day":0,PoW_Simulation_Mean_Earnings:12e3,"100k_Invested_Loss_Mean":-15e3,WorstHistoricalDecline:-.45,BadHistoricalDecline:-.35,ImpliedVolatilityUntilExpiry:.298,StockPrice_After_100DayWorstDecline:210,StockPrice_After_50DayWorstDecline:215,StockPrice_After_2008_50DayWorstDecline:180,"100DayMaxPrice":320,"50DayMaxPrice":310,Historical100DaysWorstDecline:-.42,Historical50DaysWorstDecline:-.38,"2008_100DaysWorstDecline":-.55,"2008_50DaysWorstDecline":-.52}])},[]);return l.useEffect(()=>{let u=!0;return(async()=>{if(u)try{await i("data.csv")}catch(h){console.warn("❌ All CSV loading attempts failed:",h),u&&d()}})(),()=>{u=!1}},[i,d]),{data:t,isLoading:r,error:s,loadCSVFile:c,loadCSVFromGitHub:i,loadMockData:d,setData:e}},vi=t=>{const{underlyingValue:e,transactionCost:r}=Co();return l.useMemo(()=>(console.log("useRecalculatedOptions: Recalculating with underlyingValue:",e,"transactionCost:",r,"options count:",t.length),t.map(n=>{const s=Math.round(e/n.StrikePrice/100),o=(n.Bid+(n.Ask||n.Bid))/2,i=Math.round(o*s*100-r);return{...n,originalPremium:n.Premium,recalculatedPremium:i,recalculatedNumberOfContracts:s,recalculatedBid_Ask_Mid_Price:o,Premium:i,NumberOfContractsBasedOnLimit:s,Bid_Ask_Mid_Price:o}})),[t,e,r])};let ge={data:[],isLoading:!1,error:null,loaded:!1};const FN=()=>{const[t,e]=l.useState(ge.data),[r,n]=l.useState(ge.isLoading),[s,o]=l.useState(ge.error);console.log("🔍 useIVData hook called, singleton loaded:",ge.loaded,"data length:",ge.data.length);const i=l.useCallback(async()=>{if(ge.loaded&&ge.data.length>0){console.log("🚀 IV data already loaded in singleton, using cached data:",ge.data.length),e(ge.data),n(!1),o(ge.error);return}console.log("📥 Loading IV data..."),n(!0),ge.isLoading=!0,o(null),ge.error=null;const c=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/IV_PotentialDecline.csv?${Date.now()}`,`${window.location.origin}/put-options-sedata/IV_PotentialDecline.csv?${Date.now()}`];let d=null;for(const u of c)try{console.log("🔗 Trying IV URL:",u);const f=await fetch(u);if(!f.ok)throw new Error(`Failed to fetch CSV: ${f.status} ${f.statusText}`);const h=await f.text();if(!h||h.trim().length===0)throw new Error("Empty CSV file received");console.log("✅ Successfully loaded IV CSV from:",u),ns.parse(h,{header:!0,skipEmptyLines:!0,delimiter:"|",transformHeader:m=>m.trim(),transform:(m,g)=>{const v=String(g||"");if(["IV_ClosestToStrike","IV_UntilExpiryClosestToStrike","LowerBoundClosestToStrike","LowerBoundDistanceFromCurrentPrice","LowerBoundDistanceFromStrike","ImpliedDownPct","ToStrikePct","SafetyMultiple","SigmasToStrike","ProbAssignment","CushionMinusIVPct"].includes(v)&&m!==""){const x=parseFloat(String(m));return isNaN(x)?0:x}return String(m||"").trim()},complete:m=>{if(m.errors.length>0){console.warn("IV CSV parsing warnings:",m.errors);const g=m.errors.filter(v=>v.type==="Delimiter"||v.type==="Quotes");if(g.length>0){o(`IV CSV parsing errors: ${g.map(v=>v.message).join(", ")}`),n(!1),ge.isLoading=!1;return}}if(m.data&&m.data.length>0){console.log(`✅ Parsed ${m.data.length} IV rows from CSV - STORING IN SINGLETON`);const g=m.data;ge.data=g,ge.loaded=!0,ge.isLoading=!1,ge.error=null,e(g),n(!1),o(null);return}else throw new Error("No IV data found in CSV")},error:m=>{throw new Error(`Failed to parse IV CSV: ${m.message}`)}});break}catch(f){console.warn(`❌ Failed to load IV data from ${u}:`,f),d=f;continue}if(!ge.loaded||ge.data.length===0){console.warn("❌ All IV CSV loading attempts failed, current singleton data length:",ge.data.length);const u=`Failed to load IV data from any source. Last error: ${d==null?void 0:d.message}`;o(u),ge.error=u}n(!1),ge.isLoading=!1},[]);return l.useEffect(()=>{if(console.log("🚀 useIVData useEffect triggered, singleton loaded:",ge.loaded,"data length:",ge.data.length),ge.loaded&&ge.data.length>0){console.log("📋 Using cached IV data from singleton:",ge.data.length),e(ge.data),n(ge.isLoading),o(ge.error);return}let c=!0;return(async()=>{if(!c){console.log("⚠️ Component unmounted, aborting load");return}console.log("📥 Starting IV data load...");try{await i()}catch(u){console.warn("❌ useEffect: All IV CSV loading attempts failed:",u)}})(),()=>{c=!1}},[]),{data:t,isLoading:r,error:s,loadIVDataFromGitHub:i,setData:c=>{e(c),ge.data=c,ge.loaded=c.length>0}}},vd=()=>{const{data:t,isLoading:e,error:r,...n}=LN(),s=vi(t),{data:o,isLoading:i,error:c}=FN(),{underlyingValue:d,transactionCost:u}=Co();return{data:l.useMemo(()=>s.length?(console.log("🔄 Enriching options data with IV data...",{optionsDataLength:s.length,ivDataLength:o.length}),s.map(h=>{const m=o.find(v=>v.OptionName===h.OptionName);m||console.log("⚠️ No IV data found for option:",h.OptionName);let g=0;if(m!=null&&m.LowerBoundClosestToStrike){const v=h.NumberOfContractsBasedOnLimit||0,p=h.StrikePrice*v*100,x=v*m.LowerBoundClosestToStrike*100,y=x-p;g=h.Premium+y,g>=0&&(g=0),g<0&&(g=g-(g*75e-6+u)),h.OptionName==="HOLMB5U356"&&console.log("🎯 HOLMB5U356 Debug - Full Calculation:",{optionName:h.OptionName,strikePrice:h.StrikePrice,numberOfContracts:v,lowerBoundClosestToStrike:m.LowerBoundClosestToStrike,premium:h.Premium,transactionCost:u,"1_underlyingValueInvestment":p,"2_underlyingValueLowerBoundClosestToStrike":x,"3_lossLowerBoundClosestToStrike":y,"4_beforeTransactionCost":h.Premium+y,"5_potentialLossAtLowerBound_FINAL":g,expectedResult:-2402.8272,expectedCalc_step1:356*3*100,expectedCalc_step2:3*345.9*100,expectedCalc_step3:3*345.9*100-356*3*100,expectedCalc_step4:726+(3*345.9*100-356*3*100),expectedCalc_step5:726+(3*345.9*100-356*3*100)-((726+(3*345.9*100-356*3*100))*75e-6+99)})}return{...h,IV_ClosestToStrike:(m==null?void 0:m.IV_ClosestToStrike)??void 0,IV_UntilExpiryClosestToStrike:(m==null?void 0:m.IV_UntilExpiryClosestToStrike)??void 0,LowerBoundClosestToStrike:(m==null?void 0:m.LowerBoundClosestToStrike)??void 0,LowerBoundDistanceFromCurrentPrice:(m==null?void 0:m.LowerBoundDistanceFromCurrentPrice)??void 0,LowerBoundDistanceFromStrike:(m==null?void 0:m.LowerBoundDistanceFromStrike)??void 0,ImpliedDownPct:(m==null?void 0:m.ImpliedDownPct)??void 0,ToStrikePct:(m==null?void 0:m.ToStrikePct)??void 0,SafetyMultiple:(m==null?void 0:m.SafetyMultiple)??void 0,SigmasToStrike:(m==null?void 0:m.SigmasToStrike)??void 0,ProbAssignment:(m==null?void 0:m.ProbAssignment)??void 0,SafetyCategory:(m==null?void 0:m.SafetyCategory)??void 0,CushionMinusIVPct:(m==null?void 0:m.CushionMinusIVPct)??void 0,PotentialLossAtLowerBound:g}})):s,[s,o,d,u]),isLoading:e||i,error:r||c,...n}},xi=()=>{const[t,e]=l.useState([]),[r,n]=l.useState(!0),[s,o]=l.useState(null);l.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0),o(null);const h=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/stock_data.csv?${Date.now()}`,`${window.location.origin}/put-options-sedata/stock_data.csv?${Date.now()}`];let m=null,g=null;for(const p of h)try{if(console.log("🔗 Trying stock data URL:",p),g=await fetch(p),g.ok){console.log("✅ Successfully loaded CSV from:",p);break}}catch(x){console.warn("❌ Failed to load from:",p,x),m=x}if(!g||!g.ok)throw m||new Error("Failed to load stock data from any URL");const v=await g.text();ns.parse(v,{header:!0,delimiter:"|",skipEmptyLines:!0,transform:(p,x)=>x==="close"||x==="volume"||x==="pct_change_close"?p===""||p===null||p===void 0?x==="volume"?0:null:parseFloat(p):p,complete:p=>{console.log("Raw CSV data loaded:",p.data.slice(0,5)),console.log("Total rows loaded:",p.data.length);const x=p.data.filter(y=>y.name==="AAK AB");console.log("AAK AB data found:",x.length,"rows"),console.log("Latest AAK AB entries:",x.slice(-5)),e(p.data),n(!1)},error:p=>{console.error("Error parsing CSV:",p),o("Failed to parse stock data"),n(!1)}})}catch(h){console.error("Error loading stock data:",h),o("Failed to load stock data"),n(!1)}},c=h=>t.filter(m=>m.name===h).sort((m,g)=>new Date(m.date).getTime()-new Date(g.date).getTime());return{allStockData:t,isLoading:r,error:s,getStockData:c,getStockSummary:h=>{const m=c(h);if(m.length===0)return null;console.log(`Stock data for ${h}:`,m.slice(-5)),console.log(`Latest data for ${h}:`,m[m.length-1]);const g=m[m.length-1],v=m[m.length-2],p=v?g.close-v.close:0,x=v?p/v.close*100:0,y=new Date;y.setFullYear(y.getFullYear()-1);const b=m.filter(k=>new Date(k.date)>=y),w=b.map(k=>k.close),_=Math.max(...w),S=Math.min(...w),C=b.slice(1).map((k,D)=>(k.close-b[D].close)/b[D].close),j=C.reduce((k,D)=>k+D,0)/C.length,P=C.reduce((k,D)=>k+Math.pow(D-j,2),0)/C.length,R=Math.sqrt(P)*Math.sqrt(252)*100,A=b.map(k=>k.volume).sort((k,D)=>k-D),E=A.length%2===0?(A[A.length/2-1]+A[A.length/2])/2:A[Math.floor(A.length/2)];return{name:h,currentPrice:g.close,priceChange:p,priceChangePercent:x,volume:g.volume,medianVolume:E,highPrice52Week:_,lowPrice52Week:S,volatility:R}},getLowPriceForPeriod:(h,m)=>{const g=c(h);if(g.length===0)return null;const v=new Date;v.setDate(v.getDate()-m);const p=g.filter(y=>new Date(y.date)>=v);if(p.length===0)return null;const x=p.map(y=>y.close);return Math.min(...x)},getPriceRangeForPeriod:(h,m)=>{const g=c(h);if(g.length===0)return null;const v=new Date;v.setDate(v.getDate()-m);const p=g.filter(y=>new Date(y.date)>=v);if(p.length===0)return null;const x=p.map(y=>y.close);return{high:Math.max(...x),low:Math.min(...x)}},loadStockData:i}};function Lt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function mn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const yg=6048e5,BN=864e5;let WN={};function yi(){return WN}function co(t,e){var c,d,u,f;const r=yi(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=Lt(t),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function ka(t){return co(t,{weekStartsOn:1})}function bg(t){const e=Lt(t),r=e.getFullYear(),n=mn(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ka(n),o=mn(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=ka(o);return e.getTime()>=s.getTime()?r+1:e.getTime()>=i.getTime()?r:r-1}function Zu(t){const e=Lt(t);return e.setHours(0,0,0,0),e}function ef(t){const e=Lt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function VN(t,e){const r=Zu(t),n=Zu(e),s=+r-ef(r),o=+n-ef(n);return Math.round((s-o)/BN)}function UN(t){const e=bg(t),r=mn(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),ka(r)}function HN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function zN(t){if(!HN(t)&&typeof t!="number")return!1;const e=Lt(t);return!isNaN(Number(e))}function KN(t){const e=Lt(t),r=mn(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const GN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qN=(t,e,r)=>{let n;const s=GN[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function oc(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const YN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QN={date:oc({formats:YN,defaultWidth:"full"}),time:oc({formats:XN,defaultWidth:"full"}),dateTime:oc({formats:JN,defaultWidth:"full"})},ZN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ek=(t,e,r,n)=>ZN[t];function Ts(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):i;s=t.formattingValues[c]||t.formattingValues[i]}else{const i=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const tk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ok={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ak={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ik=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ck={ordinalNumber:ik,era:Ts({values:tk,defaultWidth:"wide"}),quarter:Ts({values:rk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ts({values:nk,defaultWidth:"wide"}),day:Ts({values:sk,defaultWidth:"wide"}),dayPeriod:Ts({values:ok,defaultWidth:"wide",formattingValues:ak,defaultFormattingWidth:"wide"})};function Ds(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const i=o[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?dk(c,h=>h.test(i)):lk(c,h=>h.test(i));let u;u=t.valueCallback?t.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const f=e.slice(i.length);return{value:u,rest:f}}}function lk(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function dk(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function uk(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const c=e.slice(s.length);return{value:i,rest:c}}}const fk=/^(\d+)(th|st|nd|rd)?/i,hk=/\d+/i,mk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pk={any:[/^b/i,/^(a|c)/i]},gk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vk={any:[/1/i,/2/i,/3/i,/4/i]},xk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_k={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ck={ordinalNumber:uk({matchPattern:fk,parsePattern:hk,valueCallback:t=>parseInt(t,10)}),era:Ds({matchPatterns:mk,defaultMatchWidth:"wide",parsePatterns:pk,defaultParseWidth:"any"}),quarter:Ds({matchPatterns:gk,defaultMatchWidth:"wide",parsePatterns:vk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ds({matchPatterns:xk,defaultMatchWidth:"wide",parsePatterns:yk,defaultParseWidth:"any"}),day:Ds({matchPatterns:bk,defaultMatchWidth:"wide",parsePatterns:wk,defaultParseWidth:"any"}),dayPeriod:Ds({matchPatterns:_k,defaultMatchWidth:"any",parsePatterns:Sk,defaultParseWidth:"any"})},jk={code:"en-US",formatDistance:qN,formatLong:QN,formatRelative:ek,localize:ck,match:Ck,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pk(t){const e=Lt(t);return VN(e,KN(e))+1}function Ek(t){const e=Lt(t),r=+ka(e)-+UN(e);return Math.round(r/yg)+1}function wg(t,e){var f,h,m,g;const r=Lt(t),n=r.getFullYear(),s=yi(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=mn(t,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const c=co(i,e),d=mn(t,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const u=co(d,e);return r.getTime()>=c.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Nk(t,e){var c,d,u,f;const r=yi(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=wg(t,e),o=mn(t,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),co(o,e)}function kk(t,e){const r=Lt(t),n=+co(r,e)-+Nk(r,e);return Math.round(n/yg)+1}function be(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const br={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return be(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):be(r+1,2)},d(t,e){return be(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return be(t.getHours()%12||12,e.length)},H(t,e){return be(t.getHours(),e.length)},m(t,e){return be(t.getMinutes(),e.length)},s(t,e){return be(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return be(s,e.length)}},On={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tf={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return br.y(t,e)},Y:function(t,e,r,n){const s=wg(t,n),o=s>0?s:1-s;if(e==="YY"){const i=o%100;return be(i,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):be(o,e.length)},R:function(t,e){const r=bg(t);return be(r,e.length)},u:function(t,e){const r=t.getFullYear();return be(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return be(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return be(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return br.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return be(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=kk(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):be(s,e.length)},I:function(t,e,r){const n=Ek(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):be(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):br.d(t,e)},D:function(t,e,r){const n=Pk(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):be(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return be(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return be(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return be(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=On.noon:n===0?s=On.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=On.evening:n>=12?s=On.afternoon:n>=4?s=On.morning:s=On.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return br.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):br.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):be(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):be(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):br.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):br.s(t,e)},S:function(t,e){return br.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return nf(n);case"XXXX":case"XX":return Xr(n);case"XXXXX":case"XXX":default:return Xr(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return nf(n);case"xxxx":case"xx":return Xr(n);case"xxxxx":case"xxx":default:return Xr(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rf(n,":");case"OOOO":default:return"GMT"+Xr(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rf(n,":");case"zzzz":default:return"GMT"+Xr(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return be(n,e.length)},T:function(t,e,r){const n=t.getTime();return be(n,e.length)}};function rf(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+e+be(o,2)}function nf(t,e){return t%60===0?(t>0?"-":"+")+be(Math.abs(t)/60,2):Xr(t,e)}function Xr(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=be(Math.trunc(n/60),2),o=be(n%60,2);return r+s+e+o}const sf=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_g=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Tk=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return sf(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",sf(n,e)).replace("{{time}}",_g(s,e))},Dk={p:_g,P:Tk},Rk=/^D+$/,Ak=/^Y+$/,Ok=["D","DD","YY","YYYY"];function Mk(t){return Rk.test(t)}function Ik(t){return Ak.test(t)}function $k(t,e,r){const n=Lk(t,e,r);if(console.warn(n),Ok.includes(t))throw new RangeError(n)}function Lk(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wk=/^'([^]*?)'?$/,Vk=/''/g,Uk=/[a-zA-Z]/;function of(t,e,r){var f,h,m,g;const n=yi(),s=n.locale??jk,o=n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,c=Lt(t);if(!zN(c))throw new RangeError("Invalid time value");let d=e.match(Bk).map(v=>{const p=v[0];if(p==="p"||p==="P"){const x=Dk[p];return x(v,s.formatLong)}return v}).join("").match(Fk).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const p=v[0];if(p==="'")return{isToken:!1,value:Hk(v)};if(tf[p])return{isToken:!0,value:v};if(p.match(Uk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return d.map(v=>{if(!v.isToken)return v.value;const p=v.value;(Ik(p)||Mk(p))&&$k(p,e,String(t));const x=tf[p[0]];return x(c,p,s.localize,u)}).join("")}function Hk(t){const e=t.match(Wk);return e?e[1].replace(Vk,"'"):t}const zk=()=>{const[t,e]=l.useState(null),[r,n]=l.useState(!0);return l.useEffect(()=>{console.log("🚀 TimestampDisplay component mounted"),(async()=>{console.log("📡 About to fetch timestamps...");try{const o=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/last_updated.json?${Date.now()}`,`${window.location.origin}/put-options-sedata/last_updated.json?${Date.now()}`];let i=null,c=null;for(const d of o)try{if(console.log("🔗 Trying timestamp URL:",d),c=await fetch(d),c.ok){console.log("✅ Successfully loaded timestamps from:",d);break}}catch(u){console.warn("❌ Failed to load from:",d,u),i=u}if(!c||!c.ok)throw i||new Error("Failed to load timestamps from any URL");if(console.log("📨 Got response:",c.status),c.ok){const d=await c.json();console.log("✅ Got data:",d),e(d)}else console.error("❌ Bad response:",c.status)}catch(o){console.error("❌ Fetch error:",o)}finally{n(!1)}})()},[]),console.log("🔍 Render - timestamps:",t,"loading:",r),r?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading timestamp information..."}):t?a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsxs("p",{children:["Options data last updated: ",of(new Date(t.optionsData.lastUpdated),"yyyy-MM-dd HH:mm")]}),a.jsxs("p",{children:["Stock data last updated: ",of(new Date(t.stockData.lastUpdated),"yyyy-MM-dd HH:mm")]})]}):a.jsx("div",{className:"text-sm text-destructive",children:"Failed to load timestamps"})};var Sg=["PageUp","PageDown"],Cg=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jg={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ws="Slider",[qc,Kk,Gk]=go(ws),[Pg,OA]=It(ws,[Gk]),[qk,bi]=Pg(ws),Eg=l.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[n],value:f,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:v,...p}=t,x=l.useRef(new Set),y=l.useRef(0),w=i==="horizontal"?Yk:Xk,[_=[],S]=Rt({prop:f,defaultProp:u,onChange:E=>{var D;(D=[...x.current][y.current])==null||D.focus(),h(E)}}),C=l.useRef(_);function j(E){const k=t1(_,E);A(E,k)}function P(E){A(E,y.current)}function R(){const E=C.current[y.current];_[y.current]!==E&&m(_)}function A(E,k,{commit:D}={commit:!1}){const O=o1(o),G=a1(Math.round((E-n)/o)*o+n,O),L=no(G,[n,s]);S((W=[])=>{const $=Zk(W,L,k);if(s1($,d*o)){y.current=$.indexOf(L);const I=String($)!==String(W);return I&&D&&m($),I?$:W}else return W})}return a.jsx(qk,{scope:t.__scopeSlider,name:r,disabled:c,min:n,max:s,valueIndexToChangeRef:y,thumbs:x.current,values:_,orientation:i,form:v,children:a.jsx(qc.Provider,{scope:t.__scopeSlider,children:a.jsx(qc.Slot,{scope:t.__scopeSlider,children:a.jsx(w,{"aria-disabled":c,"data-disabled":c?"":void 0,...p,ref:e,onPointerDown:H(p.onPointerDown,()=>{c||(C.current=_)}),min:n,max:s,inverted:g,onSlideStart:c?void 0:j,onSlideMove:c?void 0:P,onSlideEnd:c?void 0:R,onHomeKeyDown:()=>!c&&A(n,0,{commit:!0}),onEndKeyDown:()=>!c&&A(s,_.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:k})=>{if(!c){const G=Sg.includes(E.key)||E.shiftKey&&Cg.includes(E.key)?10:1,L=y.current,W=_[L],$=o*G*k;A(W+$,L,{commit:!0})}}})})})})});Eg.displayName=ws;var[Ng,kg]=Pg(ws,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Yk=l.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:c,onSlideEnd:d,onStepKeyDown:u,...f}=t,[h,m]=l.useState(null),g=ne(e,w=>m(w)),v=l.useRef(),p=vs(s),x=p==="ltr",y=x&&!o||!x&&o;function b(w){const _=v.current||h.getBoundingClientRect(),S=[0,_.width],j=xd(S,y?[r,n]:[n,r]);return v.current=_,j(w-_.left)}return a.jsx(Ng,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:a.jsx(Tg,{dir:p,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=b(w.clientX);i==null||i(_)},onSlideMove:w=>{const _=b(w.clientX);c==null||c(_)},onSlideEnd:()=>{v.current=void 0,d==null||d()},onStepKeyDown:w=>{const S=jg[y?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:S?-1:1})}})})}),Xk=l.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:c,onStepKeyDown:d,...u}=t,f=l.useRef(null),h=ne(e,f),m=l.useRef(),g=!s;function v(p){const x=m.current||f.current.getBoundingClientRect(),y=[0,x.height],w=xd(y,g?[n,r]:[r,n]);return m.current=x,w(p-x.top)}return a.jsx(Ng,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:a.jsx(Tg,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=v(p.clientY);o==null||o(x)},onSlideMove:p=>{const x=v(p.clientY);i==null||i(x)},onSlideEnd:()=>{m.current=void 0,c==null||c()},onStepKeyDown:p=>{const y=jg[g?"from-bottom":"from-top"].includes(p.key);d==null||d({event:p,direction:y?-1:1})}})})}),Tg=l.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:c,onStepKeyDown:d,...u}=t,f=bi(ws,r);return a.jsx(Q.span,{...u,ref:e,onKeyDown:H(t.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(c(h),h.preventDefault()):Sg.concat(Cg).includes(h.key)&&(d(h),h.preventDefault())}),onPointerDown:H(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(m)?m.focus():n(h)}),onPointerMove:H(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:H(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),o(h))})})}),Dg="SliderTrack",Rg=l.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=bi(Dg,r);return a.jsx(Q.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});Rg.displayName=Dg;var Yc="SliderRange",Ag=l.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=bi(Yc,r),o=kg(Yc,r),i=l.useRef(null),c=ne(e,i),d=s.values.length,u=s.values.map(m=>Mg(m,s.min,s.max)),f=d>1?Math.min(...u):0,h=100-Math.max(...u);return a.jsx(Q.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:c,style:{...t.style,[o.startEdge]:f+"%",[o.endEdge]:h+"%"}})});Ag.displayName=Yc;var Xc="SliderThumb",Og=l.forwardRef((t,e)=>{const r=Kk(t.__scopeSlider),[n,s]=l.useState(null),o=ne(e,c=>s(c)),i=l.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return a.jsx(Jk,{...t,ref:o,index:i})}),Jk=l.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...o}=t,i=bi(Xc,r),c=kg(Xc,r),[d,u]=l.useState(null),f=ne(e,b=>u(b)),h=d?i.form||!!d.closest("form"):!0,m=kl(d),g=i.values[n],v=g===void 0?0:Mg(g,i.min,i.max),p=e1(n,i.values.length),x=m==null?void 0:m[c.size],y=x?r1(x,v,c.direction):0;return l.useEffect(()=>{if(d)return i.thumbs.add(d),()=>{i.thumbs.delete(d)}},[d,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${v}% + ${y}px)`},children:[a.jsx(qc.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(Q.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":g,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:f,style:g===void 0?{display:"none"}:t.style,onFocus:H(t.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),h&&a.jsx(Qk,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:g},n)]})});Og.displayName=Xc;var Qk=t=>{const{value:e,...r}=t,n=l.useRef(null),s=nd(e);return l.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==e&&d){const u=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(u)}},[s,e]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function Zk(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,o)=>s-o)}function Mg(t,e,r){const o=100/(r-e)*(t-e);return no(o,[0,100])}function e1(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function t1(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function r1(t,e,r){const n=t/2,o=xd([0,50],[0,n]);return(n-o(e)*r)*r}function n1(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function s1(t,e){if(e>0){const r=n1(t);return Math.min(...r)>=e}return!0}function xd(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function o1(t){return(String(t).split(".")[1]||"").length}function a1(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var Ig=Eg,i1=Rg,c1=Ag,l1=Og;const yd=l.forwardRef(({className:t,...e},r)=>a.jsxs(Ig,{ref:r,className:J("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(i1,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(c1,{className:"absolute h-full bg-primary"})}),a.jsx(l1,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));yd.displayName=Ig.displayName;const d1=()=>{const{underlyingValue:t,setUnderlyingValue:e,transactionCost:r,setTransactionCost:n}=Co(),[s,o]=l.useState(t),[i,c]=l.useState(r),[d,u]=l.useState(t.toString()),[f,h]=l.useState(!1),m=w=>{const _=w[0];o(_),u(_.toString())},g=w=>{u(w.target.value)},v=()=>{const w=d.replace(/[^0-9]/g,""),_=parseInt(w,10);if(isNaN(_))u(s.toString());else{const S=Math.max(1e4,Math.min(1e6,_));o(S),u(S.toString())}},p=w=>{const _=w.target.value.replace(/[^0-9]/g,""),S=parseInt(_,10);!isNaN(S)&&S>=0&&c(S)},x=()=>{s>=1e4&&s<=1e6?(e(s),n(i),h(!1),ar.success(`Settings updated: Underlying value ${s.toLocaleString()}, Transaction cost ${i}`)):ar.error("Please enter a value between 10,000 and 1,000,000")},y=()=>{o(t),c(r),u(t.toString()),h(!1)},b=w=>w.toLocaleString();return a.jsxs(ci,{open:f,onOpenChange:h,children:[a.jsx(li,{asChild:!0,children:a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{o(t),c(r),u(t.toString()),h(!0)},children:[a.jsx(yl,{className:"h-4 w-4 mr-2"}),"Settings"]})}),a.jsxs(No,{className:"sm:max-w-md",children:[a.jsx(td,{children:a.jsx(rd,{children:"Calculation Settings"})}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"underlying-value",children:"Underlying Stock Value for Premium Calculation"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This value is used to calculate the number of contracts and Premium. Default is 100,000."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ce,{children:["Current Value: ",b(s)]}),a.jsx(yd,{value:[s],onValueChange:m,max:1e6,min:1e4,step:1e3,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"10,000"}),a.jsx("span",{children:"1,000,000"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"underlying-input",children:"Or enter exact value:"}),a.jsx(Qe,{id:"underlying-input",type:"text",value:d,onChange:g,onBlur:v,placeholder:"100,000"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"transaction-cost",children:"Transaction Cost"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The transaction cost that will be subtracted from the premium calculation. Default is 150."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"transaction-cost-input",children:"Transaction Cost:"}),a.jsx(Qe,{id:"transaction-cost-input",type:"text",value:i.toString(),onChange:p,placeholder:"150"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ee,{variant:"outline",onClick:y,children:"Cancel"}),a.jsx(ee,{onClick:x,children:"Apply Settings"})]})]})]})]})};var Jc=["Enter"," "],u1=["ArrowDown","PageUp","Home"],$g=["ArrowUp","PageDown","End"],f1=[...u1,...$g],h1={ltr:[...Jc,"ArrowRight"],rtl:[...Jc,"ArrowLeft"]},m1={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ro="Menu",[lo,p1,g1]=go(Ro),[_n,Lg]=It(Ro,[g1,Br,pi]),wi=Br(),Fg=pi(),[v1,Sn]=_n(Ro),[x1,Ao]=_n(Ro),Bg=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=t,c=wi(e),[d,u]=l.useState(null),f=l.useRef(!1),h=Re(o),m=vs(s);return l.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),a.jsx(Wa,{...c,children:a.jsx(v1,{scope:e,open:r,onOpenChange:h,content:d,onContentChange:u,children:a.jsx(x1,{scope:e,onClose:l.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:i,children:n})})})};Bg.displayName=Ro;var y1="MenuAnchor",bd=l.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=wi(r);return a.jsx(yo,{...s,...n,ref:e})});bd.displayName=y1;var wd="MenuPortal",[b1,Wg]=_n(wd,{forceMount:void 0}),Vg=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=Sn(wd,e);return a.jsx(b1,{scope:e,forceMount:r,children:a.jsx(He,{present:r||o.open,children:a.jsx(us,{asChild:!0,container:s,children:n})})})};Vg.displayName=wd;var _t="MenuContent",[w1,_d]=_n(_t),Ug=l.forwardRef((t,e)=>{const r=Wg(_t,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Sn(_t,t.__scopeMenu),i=Ao(_t,t.__scopeMenu);return a.jsx(lo.Provider,{scope:t.__scopeMenu,children:a.jsx(He,{present:n||o.open,children:a.jsx(lo.Slot,{scope:t.__scopeMenu,children:i.modal?a.jsx(_1,{...s,ref:e}):a.jsx(S1,{...s,ref:e})})})})}),_1=l.forwardRef((t,e)=>{const r=Sn(_t,t.__scopeMenu),n=l.useRef(null),s=ne(e,n);return l.useEffect(()=>{const o=n.current;if(o)return Eo(o)},[]),a.jsx(Sd,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:H(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),S1=l.forwardRef((t,e)=>{const r=Sn(_t,t.__scopeMenu);return a.jsx(Sd,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Sd=l.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...p}=t,x=Sn(_t,r),y=Ao(_t,r),b=wi(r),w=Fg(r),_=p1(r),[S,C]=l.useState(null),j=l.useRef(null),P=ne(e,j,x.onContentChange),R=l.useRef(0),A=l.useRef(""),E=l.useRef(0),k=l.useRef(null),D=l.useRef("right"),O=l.useRef(0),G=v?Po:l.Fragment,L=v?{as:dr,allowPinchZoom:!0}:void 0,W=I=>{var V,X;const te=A.current+I,Y=_().filter(Z=>!Z.disabled),T=document.activeElement,U=(V=Y.find(Z=>Z.ref.current===T))==null?void 0:V.textValue,N=Y.map(Z=>Z.textValue),B=M1(N,te,U),M=(X=Y.find(Z=>Z.textValue===B))==null?void 0:X.ref.current;(function Z(q){A.current=q,window.clearTimeout(R.current),q!==""&&(R.current=window.setTimeout(()=>Z(""),1e3))})(te),M&&setTimeout(()=>M.focus())};l.useEffect(()=>()=>window.clearTimeout(R.current),[]),ai();const $=l.useCallback(I=>{var Y,T;return D.current===((Y=k.current)==null?void 0:Y.side)&&$1(I,(T=k.current)==null?void 0:T.area)},[]);return a.jsx(w1,{scope:r,searchRef:A,onItemEnter:l.useCallback(I=>{$(I)&&I.preventDefault()},[$]),onItemLeave:l.useCallback(I=>{var te;$(I)||((te=j.current)==null||te.focus(),C(null))},[$]),onTriggerLeave:l.useCallback(I=>{$(I)&&I.preventDefault()},[$]),pointerGraceTimerRef:E,onPointerGraceIntentChange:l.useCallback(I=>{k.current=I},[]),children:a.jsx(G,{...L,children:a.jsx(jo,{asChild:!0,trapped:s,onMountAutoFocus:H(o,I=>{var te;I.preventDefault(),(te=j.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(bn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:a.jsx(rg,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:H(d,I=>{y.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Va,{role:"menu","aria-orientation":"vertical","data-state":ov(x.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:P,style:{outline:"none",...p.style},onKeyDown:H(p.onKeyDown,I=>{const Y=I.target.closest("[data-radix-menu-content]")===I.currentTarget,T=I.ctrlKey||I.altKey||I.metaKey,U=I.key.length===1;Y&&(I.key==="Tab"&&I.preventDefault(),!T&&U&&W(I.key));const N=j.current;if(I.target!==N||!f1.includes(I.key))return;I.preventDefault();const M=_().filter(V=>!V.disabled).map(V=>V.ref.current);$g.includes(I.key)&&M.reverse(),A1(M)}),onBlur:H(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(R.current),A.current="")}),onPointerMove:H(t.onPointerMove,uo(I=>{const te=I.target,Y=O.current!==I.clientX;if(I.currentTarget.contains(te)&&Y){const T=I.clientX>O.current?"right":"left";D.current=T,O.current=I.clientX}}))})})})})})})});Ug.displayName=_t;var C1="MenuGroup",Cd=l.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Q.div,{role:"group",...n,ref:e})});Cd.displayName=C1;var j1="MenuLabel",Hg=l.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Q.div,{...n,ref:e})});Hg.displayName=j1;var Ta="MenuItem",af="menu.itemSelect",_i=l.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=l.useRef(null),i=Ao(Ta,t.__scopeMenu),c=_d(Ta,t.__scopeMenu),d=ne(e,o),u=l.useRef(!1),f=()=>{const h=o.current;if(!r&&h){const m=new CustomEvent(af,{bubbles:!0,cancelable:!0});h.addEventListener(af,g=>n==null?void 0:n(g),{once:!0}),pl(h,m),m.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(zg,{...s,ref:d,disabled:r,onClick:H(t.onClick,f),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),u.current=!0},onPointerUp:H(t.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:H(t.onKeyDown,h=>{const m=c.searchRef.current!=="";r||m&&h.key===" "||Jc.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});_i.displayName=Ta;var zg=l.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,i=_d(Ta,r),c=Fg(r),d=l.useRef(null),u=ne(e,d),[f,h]=l.useState(!1),[m,g]=l.useState("");return l.useEffect(()=>{const v=d.current;v&&g((v.textContent??"").trim())},[o.children]),a.jsx(lo.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:a.jsx(ng,{asChild:!0,...c,focusable:!n,children:a.jsx(Q.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:H(t.onPointerMove,uo(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:H(t.onPointerLeave,uo(v=>i.onItemLeave(v))),onFocus:H(t.onFocus,()=>h(!0)),onBlur:H(t.onBlur,()=>h(!1))})})})}),P1="MenuCheckboxItem",Kg=l.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return a.jsx(Jg,{scope:t.__scopeMenu,checked:r,children:a.jsx(_i,{role:"menuitemcheckbox","aria-checked":Da(r)?"mixed":r,...s,ref:e,"data-state":Pd(r),onSelect:H(s.onSelect,()=>n==null?void 0:n(Da(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Kg.displayName=P1;var Gg="MenuRadioGroup",[E1,N1]=_n(Gg,{value:void 0,onValueChange:()=>{}}),qg=l.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=Re(n);return a.jsx(E1,{scope:t.__scopeMenu,value:r,onValueChange:o,children:a.jsx(Cd,{...s,ref:e})})});qg.displayName=Gg;var Yg="MenuRadioItem",Xg=l.forwardRef((t,e)=>{const{value:r,...n}=t,s=N1(Yg,t.__scopeMenu),o=r===s.value;return a.jsx(Jg,{scope:t.__scopeMenu,checked:o,children:a.jsx(_i,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":Pd(o),onSelect:H(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});Xg.displayName=Yg;var jd="MenuItemIndicator",[Jg,k1]=_n(jd,{checked:!1}),Qg=l.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=k1(jd,r);return a.jsx(He,{present:n||Da(o.checked)||o.checked===!0,children:a.jsx(Q.span,{...s,ref:e,"data-state":Pd(o.checked)})})});Qg.displayName=jd;var T1="MenuSeparator",Zg=l.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Q.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Zg.displayName=T1;var D1="MenuArrow",ev=l.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=wi(r);return a.jsx(Ua,{...s,...n,ref:e})});ev.displayName=D1;var R1="MenuSub",[MA,tv]=_n(R1),Ms="MenuSubTrigger",rv=l.forwardRef((t,e)=>{const r=Sn(Ms,t.__scopeMenu),n=Ao(Ms,t.__scopeMenu),s=tv(Ms,t.__scopeMenu),o=_d(Ms,t.__scopeMenu),i=l.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,u={__scopeMenu:t.__scopeMenu},f=l.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return l.useEffect(()=>f,[f]),l.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),d(null)}},[c,d]),a.jsx(bd,{asChild:!0,...u,children:a.jsx(zg,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":ov(r.open),...t,ref:Oa(e,s.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:H(t.onPointerMove,uo(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:H(t.onPointerLeave,uo(h=>{var g,v;f();const m=(g=r.content)==null?void 0:g.getBoundingClientRect();if(m){const p=(v=r.content)==null?void 0:v.dataset.side,x=p==="right",y=x?-5:5,b=m[x?"left":"right"],w=m[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:b,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:b,y:m.bottom}],side:p}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:H(t.onKeyDown,h=>{var g;const m=o.searchRef.current!=="";t.disabled||m&&h.key===" "||h1[n.dir].includes(h.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),h.preventDefault())})})})});rv.displayName=Ms;var nv="MenuSubContent",sv=l.forwardRef((t,e)=>{const r=Wg(_t,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Sn(_t,t.__scopeMenu),i=Ao(_t,t.__scopeMenu),c=tv(nv,t.__scopeMenu),d=l.useRef(null),u=ne(e,d);return a.jsx(lo.Provider,{scope:t.__scopeMenu,children:a.jsx(He,{present:n||o.open,children:a.jsx(lo.Slot,{scope:t.__scopeMenu,children:a.jsx(Sd,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;i.isUsingKeyboardRef.current&&((h=d.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:H(t.onFocusOutside,f=>{f.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:H(t.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:H(t.onKeyDown,f=>{var g;const h=f.currentTarget.contains(f.target),m=m1[i.dir].includes(f.key);h&&m&&(o.onOpenChange(!1),(g=c.trigger)==null||g.focus(),f.preventDefault())})})})})})});sv.displayName=nv;function ov(t){return t?"open":"closed"}function Da(t){return t==="indeterminate"}function Pd(t){return Da(t)?"indeterminate":t?"checked":"unchecked"}function A1(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function O1(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function M1(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=O1(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const d=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function I1(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const c=e[o].x,d=e[o].y,u=e[i].x,f=e[i].y;d>n!=f>n&&r<(u-c)*(n-d)/(f-d)+c&&(s=!s)}return s}function $1(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return I1(r,e)}function uo(t){return e=>e.pointerType==="mouse"?t(e):void 0}var L1=Bg,F1=bd,B1=Vg,W1=Ug,V1=Cd,U1=Hg,H1=_i,z1=Kg,K1=qg,G1=Xg,q1=Qg,Y1=Zg,X1=ev,J1=rv,Q1=sv,Ed="DropdownMenu",[Z1,IA]=It(Ed,[Lg]),nt=Lg(),[eT,av]=Z1(Ed),iv=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:c=!0}=t,d=nt(e),u=l.useRef(null),[f=!1,h]=Rt({prop:s,defaultProp:o,onChange:i});return a.jsx(eT,{scope:e,triggerId:wt(),triggerRef:u,contentId:wt(),open:f,onOpenChange:h,onOpenToggle:l.useCallback(()=>h(m=>!m),[h]),modal:c,children:a.jsx(L1,{...d,open:f,onOpenChange:h,dir:n,modal:c,children:r})})};iv.displayName=Ed;var cv="DropdownMenuTrigger",lv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=av(cv,r),i=nt(r);return a.jsx(F1,{asChild:!0,...i,children:a.jsx(Q.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Oa(e,o.triggerRef),onPointerDown:H(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:H(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});lv.displayName=cv;var tT="DropdownMenuPortal",dv=t=>{const{__scopeDropdownMenu:e,...r}=t,n=nt(e);return a.jsx(B1,{...n,...r})};dv.displayName=tT;var uv="DropdownMenuContent",fv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=av(uv,r),o=nt(r),i=l.useRef(!1);return a.jsx(W1,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:H(t.onCloseAutoFocus,c=>{var d;i.current||(d=s.triggerRef.current)==null||d.focus(),i.current=!1,c.preventDefault()}),onInteractOutside:H(t.onInteractOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,f=d.button===2||u;(!s.modal||f)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fv.displayName=uv;var rT="DropdownMenuGroup",nT=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(V1,{...s,...n,ref:e})});nT.displayName=rT;var sT="DropdownMenuLabel",hv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(U1,{...s,...n,ref:e})});hv.displayName=sT;var oT="DropdownMenuItem",mv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(H1,{...s,...n,ref:e})});mv.displayName=oT;var aT="DropdownMenuCheckboxItem",pv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(z1,{...s,...n,ref:e})});pv.displayName=aT;var iT="DropdownMenuRadioGroup",cT=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(K1,{...s,...n,ref:e})});cT.displayName=iT;var lT="DropdownMenuRadioItem",gv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(G1,{...s,...n,ref:e})});gv.displayName=lT;var dT="DropdownMenuItemIndicator",vv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(q1,{...s,...n,ref:e})});vv.displayName=dT;var uT="DropdownMenuSeparator",xv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(Y1,{...s,...n,ref:e})});xv.displayName=uT;var fT="DropdownMenuArrow",hT=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(X1,{...s,...n,ref:e})});hT.displayName=fT;var mT="DropdownMenuSubTrigger",yv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(J1,{...s,...n,ref:e})});yv.displayName=mT;var pT="DropdownMenuSubContent",bv=l.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nt(r);return a.jsx(Q1,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bv.displayName=pT;var gT=iv,vT=lv,xT=dv,wv=fv,_v=hv,Sv=mv,Cv=pv,jv=gv,Pv=vv,Ev=xv,Nv=yv,kv=bv;const Zr=gT,en=vT,yT=l.forwardRef(({className:t,inset:e,children:r,...n},s)=>a.jsxs(Nv,{ref:s,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,a.jsx(mb,{className:"ml-auto h-4 w-4"})]}));yT.displayName=Nv.displayName;const bT=l.forwardRef(({className:t,...e},r)=>a.jsx(kv,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));bT.displayName=kv.displayName;const Ar=l.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(xT,{children:a.jsx(wv,{ref:n,sideOffset:e,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ar.displayName=wv.displayName;const Er=l.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(Sv,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));Er.displayName=Sv.displayName;const wT=l.forwardRef(({className:t,children:e,checked:r,...n},s)=>a.jsxs(Cv,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Pv,{children:a.jsx(Ys,{className:"h-4 w-4"})})}),e]}));wT.displayName=Cv.displayName;const _T=l.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(jv,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Pv,{children:a.jsx(vb,{className:"h-2 w-2 fill-current"})})}),e]}));_T.displayName=jv.displayName;const ST=l.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(_v,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));ST.displayName=_v.displayName;const CT=l.forwardRef(({className:t,...e},r)=>a.jsx(Ev,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));CT.displayName=Ev.displayName;function jT(){const{setTheme:t,theme:e}=Ch();return a.jsxs(ee,{variant:"outline",size:"icon",onClick:()=>t(e==="light"?"dark":"light"),children:[a.jsx(Cb,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(wb,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const PT=()=>{var U;console.log("🏠 Index component rendering");const t=yn(),[e,r]=hl(),{data:n,isLoading:s,error:o,loadMockData:i}=vd(),{getStockSummary:c,getLowPriceForPeriod:d}=xi(),u=vi(n),[f,h]=l.useState(()=>{const N=e.get("stocks");if(!N)return[];try{const B=decodeURIComponent(N),M=JSON.parse(B);return Array.isArray(M)?M:[]}catch{return N.split(",").filter(Boolean)}}),[m,g]=l.useState(()=>{const N=e.get("expiryDates");if(!N)return[];try{const B=decodeURIComponent(N),M=JSON.parse(B);return Array.isArray(M)?M:[]}catch{return N.split(",").filter(Boolean)}}),[v,p]=l.useState(()=>{const N=e.get("strikeBelowPeriod");return N?parseInt(N,10):null}),[x,y]=l.useState(()=>{const N=e.get("riskLevels");if(!N)return[];try{const B=decodeURIComponent(N),M=JSON.parse(B);return Array.isArray(M)?M:[]}catch{return N.split(",").filter(Boolean)}}),[b,w]=l.useState(()=>e.get("sortField")||null),[_,S]=l.useState(()=>e.get("sortDirection")==="desc"?"desc":"asc"),C=[{label:"1 Week Low",days:7},{label:"1 Month Low",days:30},{label:"3 Months Low",days:90},{label:"6 Months Low",days:180},{label:"9 Months Low",days:270},{label:"1 Year Low",days:365}],j=[{value:"High Risk",label:"High Risk"},{value:"Medium Risk",label:"Medium Risk"},{value:"Low Risk",label:"Low Risk"}],P=N=>{const B=N.ProbWorthless_Bayesian_IsoCal??N["1_2_3_ProbOfWorthless_Weighted"];return B<=.6?"High Risk":B<.8?"Medium Risk":"Low Risk"},R=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(qa,{children:a.jsxs(va,{children:[a.jsx(xa,{asChild:!0,children:a.jsx(lr,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(Qs,{className:"max-w-sm bg-background border z-50",children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsx("p",{className:"font-medium",children:"Risk Level Classification:"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"High Risk:"})," ≤60% probability of being worthless"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Medium Risk:"})," ",">","60% and ","<","80% probability of being worthless"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Low Risk:"})," ≥80% probability of being worthless"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on ProbWorthless_Bayesian_IsoCal field, or 1_2_3_ProbOfWorthless_Weighted as fallback. No overlapping values between categories."})]})})]})})}),a.jsx("div",{className:"md:hidden",children:a.jsxs(ci,{children:[a.jsx(li,{asChild:!0,children:a.jsx(lr,{className:"h-3 w-3 text-muted-foreground cursor-pointer"})}),a.jsx(No,{className:"max-w-sm",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium",children:"Risk Level Classification"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"High Risk:"})," ≤60% probability of being worthless"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Medium Risk:"})," ",">","60% and ","<","80% probability of being worthless"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Low Risk:"})," ≥80% probability of being worthless"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on ProbWorthless_Bayesian_IsoCal field, or 1_2_3_ProbOfWorthless_Weighted as fallback. No overlapping values between categories."})]})})]})})]});l.useEffect(()=>{const N=new URLSearchParams;f.length>0&&N.set("stocks",encodeURIComponent(JSON.stringify(f))),m.length>0&&N.set("expiryDates",encodeURIComponent(JSON.stringify(m))),v!==null&&N.set("strikeBelowPeriod",v.toString()),x.length>0&&N.set("riskLevels",encodeURIComponent(JSON.stringify(x))),b!==null&&N.set("sortField",b),_!=="asc"&&N.set("sortDirection",_),r(N,{replace:!0})},[f,m,v,x,b,_,r]),l.useEffect(()=>{if(u.length>0&&m.length===0&&!e.has("expiryDates")){const N=new Date,B=new Date(N.getFullYear(),N.getMonth()+1,1),M=new Date(B),X=(5-M.getDay()+7)%7;M.setDate(M.getDate()+X);const Z=new Date(M);Z.setDate(Z.getDate()+14);const q=[...new Set(u.map(ye=>ye.ExpiryDate))];let oe=q[0],re=1/0;q.forEach(ye=>{const Pe=new Date(ye),Me=Math.abs(Pe.getTime()-Z.getTime());Me<re&&(re=Me,oe=ye)}),oe&&g([oe])}},[u,m.length,e]);const[A,E]=l.useState(""),[k,D]=l.useState(""),[O,G]=l.useState([]),L=l.useMemo(()=>{if(v===null)return new Map;const N=new Map;return[...new Set(u.map(M=>M.StockName))].forEach(M=>{N.set(M,d(M,v))}),N},[u,v,d]),W=l.useMemo(()=>u.filter(N=>{const B=f.length===0||f.includes(N.StockName),M=m.length===0||m.includes(N.ExpiryDate);if(v!==null){const X=L.get(N.StockName);if(X==null||N.StrikePrice>X)return!1}const V=x.length===0||x.includes(P(N));return B&&M&&V}),[u,f,m,v,x,L,P]),$=l.useMemo(()=>{let N=u;return m.length>0&&(N=N.filter(M=>m.includes(M.ExpiryDate))),v!==null&&(N=N.filter(M=>{const V=L.get(M.StockName);return V!=null&&M.StrikePrice<=V})),[...new Set(N.map(M=>M.StockName))].filter(M=>M.toLowerCase().includes(A.toLowerCase())).sort()},[u,m,v,L,A]),I=l.useMemo(()=>{let N=u;return f.length>0&&(N=N.filter(M=>f.includes(M.StockName))),v!==null&&(N=N.filter(M=>{const V=L.get(M.StockName);return V!=null&&M.StrikePrice<=V})),[...new Set(N.map(M=>M.ExpiryDate))].filter(M=>M.toLowerCase().includes(k.toLowerCase())).sort()},[u,f,v,L,k]),te=()=>{i(),ar.success("Mock data loaded")},Y=N=>{const B=encodeURIComponent(N.OptionName);t(`/option/${B}?${e.toString()}`)},T=N=>{t(`/stock/${encodeURIComponent(N)}?${e.toString()}`)};return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Put Options Data"}),a.jsx(zk,{})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(ee,{onClick:()=>{console.log("🔄 Navigating to portfolio generator..."),console.log("🔄 Current location:",window.location.href),t("/portfolio-generator"),console.log("🔄 Navigation triggered")},variant:"outline",size:"sm",className:"bg-white text-black border-gray-300 hover:bg-gray-50",children:[a.jsx(qs,{className:"mr-2 h-4 w-4"}),"Portfolio Generator"]}),a.jsxs(ee,{onClick:()=>t("/monthly-analysis"),variant:"outline",size:"sm",className:"bg-white text-black border-gray-300 hover:bg-gray-50",children:[a.jsx(ss,{className:"mr-2 h-4 w-4"}),"Monthly Analysis"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d1,{}),a.jsx(jT,{})]})]}),u.length===0?a.jsxs(me,{className:"max-w-2xl mx-auto",children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(xb,{className:"h-5 w-5"}),"Loading Options Data"]})}),a.jsxs(pe,{className:"space-y-4",children:[o&&a.jsxs("div",{className:"text-sm text-destructive bg-destructive/10 p-3 rounded",children:[o,a.jsx("div",{className:"mt-2 space-y-2",children:a.jsx("div",{className:"text-center",children:a.jsx(ee,{onClick:te,variant:"outline",disabled:s,children:"Load Sample Data Instead"})})})]}),s&&a.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Loading..."}),!s&&!o&&a.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Loading..."})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:[W.length," Options Available"]}),a.jsxs("p",{className:"text-muted-foreground",children:["From ",$.length," different stocks"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-1 min-h-5",children:a.jsx(Ce,{children:"Strike Price Below"})}),a.jsxs(Zr,{children:[a.jsx(en,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:"min-w-[200px] justify-between",children:[v===null?"Select Period":`✓ ${(U=C.find(N=>N.days===v))==null?void 0:U.label}`,a.jsx(cr,{className:"h-4 w-4"})]})}),a.jsxs(Ar,{className:"w-[200px] bg-background z-50",children:[a.jsx(Er,{onClick:()=>p(null),children:"Clear Filter"}),C.map(N=>a.jsx(Er,{onClick:()=>p(N.days),children:N.label},N.days))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-1 min-h-5",children:[a.jsx(Ce,{children:"Risk Level"}),a.jsx(R,{})]}),a.jsxs(Zr,{children:[a.jsx(en,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:"min-w-[200px] justify-between",children:[x.length===0?"All Risk Levels":x.length===1?x[0]:`${x.length} levels selected`,a.jsx(cr,{className:"h-4 w-4"})]})}),a.jsx(Ar,{className:"w-[200px] p-3 bg-background z-50",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 border-b pb-2",children:[a.jsx(Kt,{id:"select-all-risk",checked:x.length===j.length,onCheckedChange:N=>{y(N?j.map(B=>B.value):[])}}),a.jsx("label",{htmlFor:"select-all-risk",className:"text-sm cursor-pointer font-medium",children:"Select All"})]}),j.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kt,{id:`risk-${N.value}`,checked:x.includes(N.value),onCheckedChange:B=>{y(B?M=>[...M,N.value]:M=>M.filter(V=>V!==N.value))}}),a.jsx("label",{htmlFor:`risk-${N.value}`,className:"text-sm cursor-pointer",children:N.label})]},N.value))]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-1 min-h-5",children:a.jsx(Ce,{children:"Filter by Stock"})}),a.jsxs(Zr,{children:[a.jsx(en,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:"min-w-[200px] justify-between",children:[f.length===0?"All Stocks":f.length===1?f[0]:`${f.length} stocks selected`,a.jsx(cr,{className:"h-4 w-4"})]})}),a.jsx(Ar,{className:"w-[200px] p-3 max-h-60 overflow-y-auto bg-background z-50",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{placeholder:"Search stocks...",value:A,onChange:N=>E(N.target.value.slice(0,50)),className:"h-8",maxLength:50}),a.jsxs("div",{className:"flex items-center space-x-2 border-b pb-2",children:[a.jsx(Kt,{id:"select-all-stocks",checked:f.length===$.length&&$.length>0,onCheckedChange:N=>{h(N?$:[])}}),a.jsx("label",{htmlFor:"select-all-stocks",className:"text-sm cursor-pointer font-medium",children:"Select All"})]}),$.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kt,{id:`stock-${N}`,checked:f.includes(N),onCheckedChange:B=>{h(B?M=>[...M,N]:M=>M.filter(V=>V!==N))}}),a.jsx("label",{htmlFor:`stock-${N}`,className:"text-sm cursor-pointer",children:N})]},N))]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-1 min-h-5",children:a.jsx(Ce,{children:"Filter by Expiry Date"})}),a.jsxs(Zr,{children:[a.jsx(en,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:"min-w-[200px] justify-between",children:[m.length===0?"All Expiry Dates":m.length===1?m[0]:`${m.length} dates selected`,a.jsx(cr,{className:"h-4 w-4"})]})}),a.jsx(Ar,{className:"w-[200px] p-3 max-h-60 overflow-y-auto bg-background z-50",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{placeholder:"Search dates...",value:k,onChange:N=>D(N.target.value.slice(0,50)),className:"h-8",maxLength:50}),a.jsxs("div",{className:"flex items-center space-x-2 border-b pb-2",children:[a.jsx(Kt,{id:"select-all-expiry",checked:m.length===I.length&&I.length>0,onCheckedChange:N=>{g(N?I:[])}}),a.jsx("label",{htmlFor:"select-all-expiry",className:"text-sm cursor-pointer font-medium",children:"Select All"})]}),I.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kt,{id:`expiry-${N}`,checked:m.includes(N),onCheckedChange:B=>{g(B?M=>[...M,N]:M=>M.filter(V=>V!==N))}}),a.jsx("label",{htmlFor:`expiry-${N}`,className:"text-sm cursor-pointer",children:N})]},N))]})})]})]})]})]}),a.jsxs(gd,{defaultValue:"table",className:"w-full",children:[a.jsxs(gi,{className:"grid w-full grid-cols-2",children:[a.jsxs(fn,{value:"table",className:"flex items-center gap-2",children:[a.jsx(jb,{className:"h-4 w-4"}),"Table View"]}),a.jsxs(fn,{value:"charts",className:"flex items-center gap-2",children:[a.jsx(qs,{className:"h-4 w-4"}),"Charts"]})]}),a.jsx(hn,{value:"table",children:a.jsx(Xp,{data:W,onRowClick:Y,onStockClick:T,columnFilters:O,onColumnFiltersChange:G,sortField:b,sortDirection:_,onSortChange:(N,B)=>{w(N),S(B)},enableFiltering:!0})}),a.jsx(hn,{value:"charts",children:a.jsx($N,{data:W})})]})]})]})},ET=()=>{var Me,Ae;const t=yn(),{data:e,isLoading:r,error:n}=vd(),s=vi(e||[]),{getLowPriceForPeriod:o}=xi(),{underlyingValue:i,setUnderlyingValue:c,transactionCost:d}=Co(),[u,f]=l.useState(()=>{const K=localStorage.getItem("portfolioGenerator_totalPremiumTarget");return K?parseInt(K):500}),[h,m]=l.useState(()=>{const K=localStorage.getItem("portfolioGenerator_totalPremiumTarget");return K||"500"}),[g,v]=l.useState(()=>{const K=localStorage.getItem("portfolioGenerator_strikeBelowPeriod");return K?parseInt(K):null}),[p,x]=l.useState(()=>{const K=localStorage.getItem("portfolioGenerator_minProbabilityWorthless");return K?parseInt(K):null}),[y,b]=l.useState(()=>localStorage.getItem("portfolioGenerator_selectedExpiryDate")||""),[w,_]=l.useState(()=>{const K=localStorage.getItem("portfolioGenerator_underlyingStockValue");return K||i.toString()}),[S,C]=l.useState(()=>localStorage.getItem("portfolioGenerator_selectedProbabilityField")||"ProbWorthless_Bayesian_IsoCal"),[j,P]=l.useState(()=>{const K=localStorage.getItem("portfolioGenerator_generatedPortfolio");return K?JSON.parse(K):[]}),[R,A]=l.useState(()=>localStorage.getItem("portfolioGenerator_portfolioGenerated")==="true"),[E,k]=l.useState(()=>{const K=localStorage.getItem("portfolioGenerator_totalUnderlyingValue");return K?parseInt(K):0}),[D,O]=l.useState(()=>localStorage.getItem("portfolioGenerator_portfolioMessage")||""),[G,L]=l.useState(()=>{const K=localStorage.getItem("portfolioGenerator_totalPotentialLoss");return K?parseFloat(K):0}),[W,$]=l.useState(null),[I,te]=l.useState("asc"),[Y,T]=l.useState(!1),U=K=>{W===K?te(I==="asc"?"desc":"asc"):($(K),te("asc"))},N=[{label:"1 Week Low",days:7},{label:"1 Month Low",days:30},{label:"3 Months Low",days:90},{label:"6 Months Low",days:180},{label:"9 Months Low",days:270},{label:"1 Year Low",days:365}],B=[{value:"ProbWorthless_Bayesian_IsoCal",label:"Bayesian Calibrated"},{value:"1_2_3_ProbOfWorthless_Weighted",label:"Weighted Average"},{value:"1_ProbOfWorthless_Original",label:"Original"},{value:"2_ProbOfWorthless_Calibrated",label:"Calibrated"},{value:"3_ProbOfWorthless_Historical_IV",label:"Historical IV"}],M=l.useMemo(()=>[...new Set(s.map(K=>K.ExpiryDate))].sort(),[s]),V=K=>{const Ee=parseInt(K)||500,le=Math.max(500,Math.min(1e6,Ee));f(le),m(le.toString()),localStorage.setItem("portfolioGenerator_totalPremiumTarget",le.toString())},X=K=>{_(K)},Z=()=>{const K=parseInt(w)||1e4,Ee=Math.max(1e4,Math.min(1e6,K));c(Ee),_(Ee.toString()),localStorage.setItem("portfolioGenerator_underlyingStockValue",Ee.toString()),R&&(P([]),A(!1),O(""),L(0),localStorage.removeItem("portfolioGenerator_generatedPortfolio"),localStorage.removeItem("portfolioGenerator_portfolioGenerated"),localStorage.removeItem("portfolioGenerator_portfolioMessage"),localStorage.removeItem("portfolioGenerator_totalUnderlyingValue"),localStorage.removeItem("portfolioGenerator_totalPotentialLoss"))},q=K=>{const Ee=K[S],le=K["1_2_3_ProbOfWorthless_Weighted"];return Ee||le||0},oe=()=>{try{const K=[],Ee=new Set;let le=0,Ie=s.filter(ue=>{if(ue.Premium<=0)return!1;if(g){const ve=o(ue.StockName,g);if(!ve||ue.StrikePrice>ve)return!1}if(y&&ue.ExpiryDate!==y)return!1;if(p){const ve=q(ue),qe=p/100;if(ve<qe)return!1}return!0});Ie.forEach(ue=>{const ve=q(ue),qe=Math.abs(ue.PotentialLossAtLowerBound||1),$e=ue.Premium,Ze=$e-(1-ve)*qe,Be=ue.NumberOfContractsBasedOnLimit*ue.StrikePrice*100,zr=Be>0?Ze/Be:0,gt=qe>0?$e/qe*ve:ve;ue.expectedValue=Ze,ue.expectedValuePerCapital=zr,ue.riskAdjustedScore=gt}),Ie.sort((ue,ve)=>{const qe=ue.riskAdjustedScore||0,$e=ve.riskAdjustedScore||0;if($e!==qe)return $e-qe;const Ze=ue.expectedValuePerCapital||0,Be=ve.expectedValuePerCapital||0;return Be!==Ze?Be-Ze:ve.Premium-ue.Premium});for(const ue of Ie)Ee.has(ue.StockName)||le+ue.Premium<=u&&(K.push(ue),Ee.add(ue.StockName),le+=ue.Premium);if(le<u){const ue=Ie.filter(ve=>!Ee.has(ve.StockName)&&ve.Premium<=u-le);for(const ve of ue)le+ve.Premium<=u&&(K.push(ve),Ee.add(ve.StockName),le+=ve.Premium)}const Qt=K.reduce((ue,ve)=>ue+ve.NumberOfContractsBasedOnLimit*ve.StrikePrice*100,0),Zt=K.reduce((ue,ve)=>{const qe=ve.PotentialLossAtLowerBound||0;return ue+qe},0);let pt="";if(le<u){const ue=u-le;pt=`Portfolio generated with ${le} SEK premium (${ue} SEK below target). `}else pt=`Portfolio successfully generated with ${le} SEK premium.`;P(K),k(Qt),O(pt),A(!0),L(Zt),localStorage.setItem("portfolioGenerator_generatedPortfolio",JSON.stringify(K)),localStorage.setItem("portfolioGenerator_totalUnderlyingValue",Qt.toString()),localStorage.setItem("portfolioGenerator_portfolioMessage",pt),localStorage.setItem("portfolioGenerator_totalPotentialLoss",Zt.toString()),localStorage.setItem("portfolioGenerator_portfolioGenerated","true")}catch(K){console.error("Error:",K),O(`Error generating portfolio: ${K}`)}},re=K=>{const Ee=encodeURIComponent(K.OptionName);t(`/option/${Ee}`)},ye=K=>{t(`/stock/${encodeURIComponent(K)}`)},Pe=()=>{t("/")};return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs(ee,{variant:"ghost",onClick:Pe,className:"flex items-center gap-2",children:[a.jsx(Gt,{className:"h-4 w-4"}),"Back to Options"]}),a.jsx("h1",{className:"text-3xl font-bold",children:"Automatic Portfolio Generator"}),a.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>T(!Y),className:"ml-auto flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[a.jsx(lr,{className:"h-4 w-4"}),"How it works"]})]}),Y&&a.jsx(me,{className:"border-muted bg-muted/20",children:a.jsx(pe,{className:"pt-4",children:a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"The Portfolio Generator uses an algorithm to evaluate each option's probability of expiring worthless, potential loss, and premium. It calculates risk-adjusted scores and expected values, ranks all options, and automatically selects a diversified set that maximizes premium while minimizing risk. It will always pick just one option per stock."})})}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(yl,{className:"h-5 w-5"}),"Portfolio Configuration"]})}),a.jsxs(pe,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"totalPremium",children:"Total Portfolio Premium"}),a.jsx(Qe,{id:"totalPremium",type:"number",value:h,onChange:K=>m(K.target.value),onBlur:K=>V(K.target.value),placeholder:"500 - 1,000,000"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Range: 500 - 1,000,000 SEK"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"underlyingValue",children:"Underlying Stock Value Per Option"}),a.jsx(Qe,{id:"underlyingValue",type:"number",value:w,onChange:K=>X(K.target.value),onBlur:Z,placeholder:"10,000 - 1,000,000"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Range: 10,000 - 1,000,000 SEK"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{children:"Strike Price Below"}),a.jsxs(Zr,{children:[a.jsx(en,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:"w-full justify-between",children:[g===null?"Select Period (Optional)":(Me=N.find(K=>K.days===g))==null?void 0:Me.label,a.jsx(cr,{className:"h-4 w-4"})]})}),a.jsxs(Ar,{className:"w-full bg-background z-50",children:[a.jsx(Er,{onClick:()=>{v(null),localStorage.setItem("portfolioGenerator_strikeBelowPeriod","")},children:"No Filter"}),N.map(K=>a.jsx(Er,{onClick:()=>{v(K.days),localStorage.setItem("portfolioGenerator_strikeBelowPeriod",K.days.toString())},children:K.label},K.days))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"minProbability",children:"Minimum Probability of Worthless (%)"}),a.jsx(Qe,{id:"minProbability",type:"number",min:"40",max:"100",value:p||"",onChange:K=>{const Ee=K.target.value?parseInt(K.target.value):null;x(Ee),localStorage.setItem("portfolioGenerator_minProbabilityWorthless",Ee?Ee.toString():"")},placeholder:"40-100% (Optional)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{children:"Probability Field to Use"}),a.jsxs(Zr,{children:[a.jsx(en,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:"w-full justify-between",children:[((Ae=B.find(K=>K.value===S))==null?void 0:Ae.label)||"Select Field",a.jsx(cr,{className:"h-4 w-4"})]})}),a.jsx(Ar,{className:"w-full bg-background z-50",children:B.map(K=>a.jsx(Er,{onClick:()=>{C(K.value),localStorage.setItem("portfolioGenerator_selectedProbabilityField",K.value)},children:K.label},K.value))})]})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Ce,{children:"Expiry Date"}),a.jsxs(Zr,{children:[a.jsx(en,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:"w-full justify-between",children:[y||"Select Expiry Date (Optional)",a.jsx(cr,{className:"h-4 w-4"})]})}),a.jsxs(Ar,{className:"w-full bg-background z-50 max-h-[200px] overflow-y-auto",children:[a.jsx(Er,{onClick:()=>{b(""),localStorage.setItem("portfolioGenerator_selectedExpiryDate","")},children:"All Expiry Dates"}),M.map(K=>a.jsx(Er,{onClick:()=>{b(K),localStorage.setItem("portfolioGenerator_selectedExpiryDate",K)},children:K},K))]})]})]})]}),a.jsx(ee,{onClick:oe,className:"w-full md:w-auto",size:"lg",children:"Generate Portfolio Automatically"})]})]}),R&&a.jsxs(me,{children:[a.jsxs(we,{children:[a.jsxs(_e,{children:["Generated Portfolio (",j.length," options)"]}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsx("p",{children:D}),a.jsxs("p",{children:["Total Underlying Stock Value: ",E.toLocaleString()," SEK"]}),a.jsxs("p",{children:["Total Premium: ",j.reduce((K,Ee)=>K+Ee.Premium,0).toLocaleString()," SEK (Based on ",i.toLocaleString()," SEK underlying value, ",d," SEK transaction cost per option included)"]}),a.jsxs("p",{children:["Total Calculated Risk of Loss: ",Math.round(G).toLocaleString()," SEK"]})]})]}),a.jsx(pe,{children:a.jsx(Xp,{data:j,onRowClick:re,onStockClick:ye,sortField:W,sortDirection:I,onSortChange:U,enableFiltering:!1})})]})]})};var NT=[" ","Enter","ArrowUp","ArrowDown"],kT=[" ","Enter"],Oo="Select",[Si,Ci,TT]=go(Oo),[_s,$A]=It(Oo,[TT,Br]),ji=Br(),[DT,Vr]=_s(Oo),[RT,AT]=_s(Oo),Tv=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:c,onValueChange:d,dir:u,name:f,autoComplete:h,disabled:m,required:g,form:v}=t,p=ji(e),[x,y]=l.useState(null),[b,w]=l.useState(null),[_,S]=l.useState(!1),C=vs(u),[j=!1,P]=Rt({prop:n,defaultProp:s,onChange:o}),[R,A]=Rt({prop:i,defaultProp:c,onChange:d}),E=l.useRef(null),k=x?v||!!x.closest("form"):!0,[D,O]=l.useState(new Set),G=Array.from(D).map(L=>L.props.value).join(";");return a.jsx(Wa,{...p,children:a.jsxs(DT,{required:g,scope:e,trigger:x,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:wt(),value:R,onValueChange:A,open:j,onOpenChange:P,dir:C,triggerPointerDownPosRef:E,disabled:m,children:[a.jsx(Si.Provider,{scope:e,children:a.jsx(RT,{scope:t.__scopeSelect,onNativeOptionAdd:l.useCallback(L=>{O(W=>new Set(W).add(L))},[]),onNativeOptionRemove:l.useCallback(L=>{O(W=>{const $=new Set(W);return $.delete(L),$})},[]),children:r})}),k?a.jsxs(tx,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:R,onChange:L=>A(L.target.value),disabled:m,form:v,children:[R===void 0?a.jsx("option",{value:""}):null,Array.from(D)]},G):null]})})};Tv.displayName=Oo;var Dv="SelectTrigger",Rv=l.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=ji(r),i=Vr(Dv,r),c=i.disabled||n,d=ne(e,i.onTriggerChange),u=Ci(r),f=l.useRef("touch"),[h,m,g]=rx(p=>{const x=u().filter(w=>!w.disabled),y=x.find(w=>w.value===i.value),b=nx(x,p,y);b!==void 0&&i.onValueChange(b.value)}),v=p=>{c||(i.onOpenChange(!0),g()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(yo,{asChild:!0,...o,children:a.jsx(Q.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ex(i.value)?"":void 0,...s,ref:d,onClick:H(s.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&v(p)}),onPointerDown:H(s.onPointerDown,p=>{f.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:H(s.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(x&&p.key===" ")&&NT.includes(p.key)&&(v(),p.preventDefault())})})})});Rv.displayName=Dv;var Av="SelectValue",Ov=l.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...c}=t,d=Vr(Av,r),{onValueNodeHasChildrenChange:u}=d,f=o!==void 0,h=ne(e,d.onValueNodeChange);return Ge(()=>{u(f)},[u,f]),a.jsx(Q.span,{...c,ref:h,style:{pointerEvents:"none"},children:ex(d.value)?a.jsx(a.Fragment,{children:i}):o})});Ov.displayName=Av;var OT="SelectIcon",Mv=l.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return a.jsx(Q.span,{"aria-hidden":!0,...s,ref:e,children:n||"▼"})});Mv.displayName=OT;var MT="SelectPortal",Iv=t=>a.jsx(us,{asChild:!0,...t});Iv.displayName=MT;var pn="SelectContent",$v=l.forwardRef((t,e)=>{const r=Vr(pn,t.__scopeSelect),[n,s]=l.useState();if(Ge(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?ft.createPortal(a.jsx(Lv,{scope:t.__scopeSelect,children:a.jsx(Si.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),o):null}return a.jsx(Fv,{...t,ref:e})});$v.displayName=pn;var Nt=10,[Lv,Ur]=_s(pn),IT="SelectContentImpl",Fv=l.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:c,sideOffset:d,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:x,...y}=t,b=Vr(pn,r),[w,_]=l.useState(null),[S,C]=l.useState(null),j=ne(e,V=>_(V)),[P,R]=l.useState(null),[A,E]=l.useState(null),k=Ci(r),[D,O]=l.useState(!1),G=l.useRef(!1);l.useEffect(()=>{if(w)return Eo(w)},[w]),ai();const L=l.useCallback(V=>{const[X,...Z]=k().map(re=>re.ref.current),[q]=Z.slice(-1),oe=document.activeElement;for(const re of V)if(re===oe||(re==null||re.scrollIntoView({block:"nearest"}),re===X&&S&&(S.scrollTop=0),re===q&&S&&(S.scrollTop=S.scrollHeight),re==null||re.focus(),document.activeElement!==oe))return},[k,S]),W=l.useCallback(()=>L([P,w]),[L,P,w]);l.useEffect(()=>{D&&W()},[D,W]);const{onOpenChange:$,triggerPointerDownPosRef:I}=b;l.useEffect(()=>{if(w){let V={x:0,y:0};const X=q=>{var oe,re;V={x:Math.abs(Math.round(q.pageX)-(((oe=I.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(q.pageY)-(((re=I.current)==null?void 0:re.y)??0))}},Z=q=>{V.x<=10&&V.y<=10?q.preventDefault():w.contains(q.target)||$(!1),document.removeEventListener("pointermove",X),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Z,{capture:!0})}}},[w,$,I]),l.useEffect(()=>{const V=()=>$(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[$]);const[te,Y]=rx(V=>{const X=k().filter(oe=>!oe.disabled),Z=X.find(oe=>oe.ref.current===document.activeElement),q=nx(X,V,Z);q&&setTimeout(()=>q.ref.current.focus())}),T=l.useCallback((V,X,Z)=>{const q=!G.current&&!Z;(b.value!==void 0&&b.value===X||q)&&(R(V),q&&(G.current=!0))},[b.value]),U=l.useCallback(()=>w==null?void 0:w.focus(),[w]),N=l.useCallback((V,X,Z)=>{const q=!G.current&&!Z;(b.value!==void 0&&b.value===X||q)&&E(V)},[b.value]),B=n==="popper"?Qc:Bv,M=B===Qc?{side:c,sideOffset:d,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(Lv,{scope:r,content:w,viewport:S,onViewportChange:C,itemRefCallback:T,selectedItem:P,onItemLeave:U,itemTextRefCallback:N,focusSelectedItem:W,selectedItemText:A,position:n,isPositioned:D,searchRef:te,children:a.jsx(Po,{as:dr,allowPinchZoom:!0,children:a.jsx(jo,{asChild:!0,trapped:b.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:H(s,V=>{var X;(X=b.trigger)==null||X.focus({preventScroll:!0}),V.preventDefault()}),children:a.jsx(bn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:a.jsx(B,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:V=>V.preventDefault(),...y,...M,onPlaced:()=>O(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:H(y.onKeyDown,V=>{const X=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!X&&V.key.length===1&&Y(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let q=k().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(V.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const oe=V.target,re=q.indexOf(oe);q=q.slice(re+1)}setTimeout(()=>L(q)),V.preventDefault()}})})})})})})});Fv.displayName=IT;var $T="SelectItemAlignedPosition",Bv=l.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=Vr(pn,r),i=Ur(pn,r),[c,d]=l.useState(null),[u,f]=l.useState(null),h=ne(e,j=>f(j)),m=Ci(r),g=l.useRef(!1),v=l.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:b}=i,w=l.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&u&&p&&x&&y){const j=o.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(o.dir!=="rtl"){const oe=A.left-P.left,re=R.left-oe,ye=j.left-re,Pe=j.width+ye,Me=Math.max(Pe,P.width),Ae=window.innerWidth-Nt,K=no(re,[Nt,Math.max(Nt,Ae-Me)]);c.style.minWidth=Pe+"px",c.style.left=K+"px"}else{const oe=P.right-A.right,re=window.innerWidth-R.right-oe,ye=window.innerWidth-j.right-re,Pe=j.width+ye,Me=Math.max(Pe,P.width),Ae=window.innerWidth-Nt,K=no(re,[Nt,Math.max(Nt,Ae-Me)]);c.style.minWidth=Pe+"px",c.style.right=K+"px"}const E=m(),k=window.innerHeight-Nt*2,D=p.scrollHeight,O=window.getComputedStyle(u),G=parseInt(O.borderTopWidth,10),L=parseInt(O.paddingTop,10),W=parseInt(O.borderBottomWidth,10),$=parseInt(O.paddingBottom,10),I=G+L+D+$+W,te=Math.min(x.offsetHeight*5,I),Y=window.getComputedStyle(p),T=parseInt(Y.paddingTop,10),U=parseInt(Y.paddingBottom,10),N=j.top+j.height/2-Nt,B=k-N,M=x.offsetHeight/2,V=x.offsetTop+M,X=G+L+V,Z=I-X;if(X<=N){const oe=E.length>0&&x===E[E.length-1].ref.current;c.style.bottom="0px";const re=u.clientHeight-p.offsetTop-p.offsetHeight,ye=Math.max(B,M+(oe?U:0)+re+W),Pe=X+ye;c.style.height=Pe+"px"}else{const oe=E.length>0&&x===E[0].ref.current;c.style.top="0px";const ye=Math.max(N,G+p.offsetTop+(oe?T:0)+M)+Z;c.style.height=ye+"px",p.scrollTop=X-N+p.offsetTop}c.style.margin=`${Nt}px 0`,c.style.minHeight=te+"px",c.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,o.trigger,o.valueNode,c,u,p,x,y,o.dir,n]);Ge(()=>w(),[w]);const[_,S]=l.useState();Ge(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=l.useCallback(j=>{j&&v.current===!0&&(w(),b==null||b(),v.current=!1)},[w,b]);return a.jsx(FT,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Q.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Bv.displayName=$T;var LT="SelectPopperPosition",Qc=l.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Nt,...o}=t,i=ji(r);return a.jsx(Va,{...i,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qc.displayName=LT;var[FT,Nd]=_s(pn,{}),Zc="SelectViewport",Wv=l.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=Ur(Zc,r),i=Nd(Zc,r),c=ne(e,o.onViewportChange),d=l.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Si.Slot,{scope:r,children:a.jsx(Q.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:H(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const g=Math.abs(d.current-f.scrollTop);if(g>0){const v=window.innerHeight-Nt*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<v){const b=y+g,w=Math.min(v,b),_=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});Wv.displayName=Zc;var Vv="SelectGroup",[BT,WT]=_s(Vv),VT=l.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=wt();return a.jsx(BT,{scope:r,id:s,children:a.jsx(Q.div,{role:"group","aria-labelledby":s,...n,ref:e})})});VT.displayName=Vv;var Uv="SelectLabel",Hv=l.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=WT(Uv,r);return a.jsx(Q.div,{id:s.id,...n,ref:e})});Hv.displayName=Uv;var Ra="SelectItem",[UT,zv]=_s(Ra),Kv=l.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=t,c=Vr(Ra,r),d=Ur(Ra,r),u=c.value===n,[f,h]=l.useState(o??""),[m,g]=l.useState(!1),v=ne(e,b=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,b,n,s)}),p=wt(),x=l.useRef("touch"),y=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(UT,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:l.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:a.jsx(Si.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:a.jsx(Q.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:H(i.onFocus,()=>g(!0)),onBlur:H(i.onBlur,()=>g(!1)),onClick:H(i.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:H(i.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:H(i.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:H(i.onPointerMove,b=>{var w;x.current=b.pointerType,s?(w=d.onItemLeave)==null||w.call(d):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:H(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:H(i.onKeyDown,b=>{var _;((_=d.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(kT.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});Kv.displayName=Ra;var Is="SelectItemText",Gv=l.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,i=Vr(Is,r),c=Ur(Is,r),d=zv(Is,r),u=AT(Is,r),[f,h]=l.useState(null),m=ne(e,y=>h(y),d.onItemTextChange,y=>{var b;return(b=c.itemTextRefCallback)==null?void 0:b.call(c,y,d.value,d.disabled)}),g=f==null?void 0:f.textContent,v=l.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return Ge(()=>(p(v),()=>x(v)),[p,x,v]),a.jsxs(a.Fragment,{children:[a.jsx(Q.span,{id:d.textId,...o,ref:m}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ft.createPortal(o.children,i.valueNode):null]})});Gv.displayName=Is;var qv="SelectItemIndicator",Yv=l.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return zv(qv,r).isSelected?a.jsx(Q.span,{"aria-hidden":!0,...n,ref:e}):null});Yv.displayName=qv;var el="SelectScrollUpButton",Xv=l.forwardRef((t,e)=>{const r=Ur(el,t.__scopeSelect),n=Nd(el,t.__scopeSelect),[s,o]=l.useState(!1),i=ne(e,n.onScrollButtonChange);return Ge(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollTop>0;o(u)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(Qv,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Xv.displayName=el;var tl="SelectScrollDownButton",Jv=l.forwardRef((t,e)=>{const r=Ur(tl,t.__scopeSelect),n=Nd(tl,t.__scopeSelect),[s,o]=l.useState(!1),i=ne(e,n.onScrollButtonChange);return Ge(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<u;o(f)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(Qv,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Jv.displayName=tl;var Qv=l.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=Ur("SelectScrollButton",r),i=l.useRef(null),c=Ci(r),d=l.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return l.useEffect(()=>()=>d(),[d]),Ge(()=>{var f;const u=c().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),a.jsx(Q.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:H(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:H(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:H(s.onPointerLeave,()=>{d()})})}),HT="SelectSeparator",Zv=l.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(Q.div,{"aria-hidden":!0,...n,ref:e})});Zv.displayName=HT;var rl="SelectArrow",zT=l.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ji(r),o=Vr(rl,r),i=Ur(rl,r);return o.open&&i.position==="popper"?a.jsx(Ua,{...s,...n,ref:e}):null});zT.displayName=rl;function ex(t){return t===""||t===void 0}var tx=l.forwardRef((t,e)=>{const{value:r,...n}=t,s=l.useRef(null),o=ne(e,s),i=nd(r);return l.useEffect(()=>{const c=s.current,d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==r&&f){const h=new Event("change",{bubbles:!0});f.call(c,r),c.dispatchEvent(h)}},[i,r]),a.jsx(vo,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});tx.displayName="BubbleSelect";function rx(t){const e=Re(t),r=l.useRef(""),n=l.useRef(0),s=l.useCallback(i=>{const c=r.current+i;e(c),function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),o=l.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function nx(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=KT(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const d=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function KT(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var GT=Tv,sx=Rv,qT=Ov,YT=Mv,XT=Iv,ox=$v,JT=Wv,ax=Hv,ix=Kv,QT=Gv,ZT=Yv,cx=Xv,lx=Jv,dx=Zv;const Hn=GT,zn=qT,on=l.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(sx,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(YT,{asChild:!0,children:a.jsx(cr,{className:"h-4 w-4 opacity-50"})})]}));on.displayName=sx.displayName;const ux=l.forwardRef(({className:t,...e},r)=>a.jsx(cx,{ref:r,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(pb,{className:"h-4 w-4"})}));ux.displayName=cx.displayName;const fx=l.forwardRef(({className:t,...e},r)=>a.jsx(lx,{ref:r,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(cr,{className:"h-4 w-4"})}));fx.displayName=lx.displayName;const an=l.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>a.jsx(XT,{children:a.jsxs(ox,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(ux,{}),a.jsx(JT,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(fx,{})]})}));an.displayName=ox.displayName;const eD=l.forwardRef(({className:t,...e},r)=>a.jsx(ax,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));eD.displayName=ax.displayName;const Ke=l.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(ix,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZT,{children:a.jsx(Ys,{className:"h-4 w-4"})})}),a.jsx(QT,{children:e})]}));Ke.displayName=ix.displayName;const tD=l.forwardRef(({className:t,...e},r)=>a.jsx(dx,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));tD.displayName=dx.displayName;var cf=1,rD=.9,nD=.8,sD=.17,ac=.1,ic=.999,oD=.9999,aD=.99,iD=/[\\\/_+.#"@\[\(\{&]/,cD=/[\\\/_+.#"@\[\(\{&]/g,lD=/[\s-]/,hx=/[\s-]/g;function nl(t,e,r,n,s,o,i){if(o===e.length)return s===t.length?cf:aD;var c=`${s},${o}`;if(i[c]!==void 0)return i[c];for(var d=n.charAt(o),u=r.indexOf(d,s),f=0,h,m,g,v;u>=0;)h=nl(t,e,r,n,u+1,o+1,i),h>f&&(u===s?h*=cf:iD.test(t.charAt(u-1))?(h*=nD,g=t.slice(s,u-1).match(cD),g&&s>0&&(h*=Math.pow(ic,g.length))):lD.test(t.charAt(u-1))?(h*=rD,v=t.slice(s,u-1).match(hx),v&&s>0&&(h*=Math.pow(ic,v.length))):(h*=sD,s>0&&(h*=Math.pow(ic,u-s))),t.charAt(u)!==e.charAt(o)&&(h*=oD)),(h<ac&&r.charAt(u-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(u-1)!==n.charAt(o))&&(m=nl(t,e,r,n,u+1,o+2,i),m*ac>h&&(h=m*ac)),h>f&&(f=h),u=r.indexOf(d,u+1);return i[c]=f,f}function lf(t){return t.toLowerCase().replace(hx," ")}function dD(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,nl(t,e,lf(t),lf(e),0,0,{})}function Kn(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function uD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function mx(...t){return e=>t.forEach(r=>uD(r,e))}function Mo(...t){return l.useCallback(mx(...t),t)}function fD(t,e=[]){let r=[];function n(o,i){const c=l.createContext(i),d=r.length;r=[...r,i];function u(h){const{scope:m,children:g,...v}=h,p=(m==null?void 0:m[t][d])||c,x=l.useMemo(()=>v,Object.values(v));return l.createElement(p.Provider,{value:x},g)}function f(h,m){const g=(m==null?void 0:m[t][d])||c,v=l.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>l.createContext(i));return function(c){const d=(c==null?void 0:c[t])||o;return l.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[n,hD(s,...e)]}function hD(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:d,scopeName:u})=>{const h=d(o)[`__scope${u}`];return{...c,...h}},{});return l.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}const sl=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},mD=Rf.useId||(()=>{});let pD=0;function cc(t){const[e,r]=l.useState(mD());return sl(()=>{t||r(n=>n??String(pD++))},[t]),t||(e?`radix-${e}`:"")}function gn(t){const e=l.useRef(t);return l.useEffect(()=>{e.current=t}),l.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function gD({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=vD({defaultProp:e,onChange:r}),o=t!==void 0,i=o?t:n,c=gn(r),d=l.useCallback(u=>{if(o){const h=typeof u=="function"?u(t):u;h!==t&&c(h)}else s(u)},[o,t,s,c]);return[i,d]}function vD({defaultProp:t,onChange:e}){const r=l.useState(t),[n]=r,s=l.useRef(n),o=gn(e);return l.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}const kd=l.forwardRef((t,e)=>{const{children:r,...n}=t,s=l.Children.toArray(r),o=s.find(yD);if(o){const i=o.props.children,c=s.map(d=>d===o?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:d);return l.createElement(ol,mt({},n,{ref:e}),l.isValidElement(i)?l.cloneElement(i,void 0,c):null)}return l.createElement(ol,mt({},n,{ref:e}),r)});kd.displayName="Slot";const ol=l.forwardRef((t,e)=>{const{children:r,...n}=t;return l.isValidElement(r)?l.cloneElement(r,{...bD(n,r.props),ref:e?mx(e,r.ref):r.ref}):l.Children.count(r)>1?l.Children.only(null):null});ol.displayName="SlotClone";const xD=({children:t})=>l.createElement(l.Fragment,null,t);function yD(t){return l.isValidElement(t)&&t.type===xD}function bD(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{o(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}const wD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jt=wD.reduce((t,e)=>{const r=l.forwardRef((n,s)=>{const{asChild:o,...i}=n,c=o?kd:e;return l.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),l.createElement(c,mt({},i,{ref:s}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _D(t,e){t&&ft.flushSync(()=>t.dispatchEvent(e))}function SD(t,e=globalThis==null?void 0:globalThis.document){const r=gn(t);l.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)},[r,e])}const al="dismissableLayer.update",CD="dismissableLayer.pointerDownOutside",jD="dismissableLayer.focusOutside";let df;const PD=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ED=l.forwardRef((t,e)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:c,onDismiss:d,...u}=t,f=l.useContext(PD),[h,m]=l.useState(null),g=(r=h==null?void 0:h.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,v]=l.useState({}),p=Mo(e,P=>m(P)),x=Array.from(f.layers),[y]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(y),w=h?x.indexOf(h):-1,_=f.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,C=ND(P=>{const R=P.target,A=[...f.branches].some(E=>E.contains(R));!S||A||(o==null||o(P),c==null||c(P),P.defaultPrevented||d==null||d())},g),j=kD(P=>{const R=P.target;[...f.branches].some(E=>E.contains(R))||(i==null||i(P),c==null||c(P),P.defaultPrevented||d==null||d())},g);return SD(P=>{w===f.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},g),l.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(df=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),uf(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=df)}},[h,g,n,f]),l.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),uf())},[h,f]),l.useEffect(()=>{const P=()=>v({});return document.addEventListener(al,P),()=>document.removeEventListener(al,P)},[]),l.createElement(jt.div,mt({},u,{ref:p,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:Kn(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Kn(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Kn(t.onPointerDownCapture,C.onPointerDownCapture)}))});function ND(t,e=globalThis==null?void 0:globalThis.document){const r=gn(t),n=l.useRef(!1),s=l.useRef(()=>{});return l.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let u=function(){px(CD,r,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function kD(t,e=globalThis==null?void 0:globalThis.document){const r=gn(t),n=l.useRef(!1);return l.useEffect(()=>{const s=o=>{o.target&&!n.current&&px(jD,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function uf(){const t=new CustomEvent(al);document.dispatchEvent(t)}function px(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?_D(s,o):s.dispatchEvent(o)}const lc="focusScope.autoFocusOnMount",dc="focusScope.autoFocusOnUnmount",ff={bubbles:!1,cancelable:!0},TD=l.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[c,d]=l.useState(null),u=gn(s),f=gn(o),h=l.useRef(null),m=Mo(e,p=>d(p)),g=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(n){let p=function(w){if(g.paused||!c)return;const _=w.target;c.contains(_)?h.current=_:Cr(h.current,{select:!0})},x=function(w){if(g.paused||!c)return;const _=w.relatedTarget;_!==null&&(c.contains(_)||Cr(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Cr(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const b=new MutationObserver(y);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),b.disconnect()}}},[n,c,g.paused]),l.useEffect(()=>{if(c){mf.add(g);const p=document.activeElement;if(!c.contains(p)){const y=new CustomEvent(lc,ff);c.addEventListener(lc,u),c.dispatchEvent(y),y.defaultPrevented||(DD(ID(gx(c)),{select:!0}),document.activeElement===p&&Cr(c))}return()=>{c.removeEventListener(lc,u),setTimeout(()=>{const y=new CustomEvent(dc,ff);c.addEventListener(dc,f),c.dispatchEvent(y),y.defaultPrevented||Cr(p??document.body,{select:!0}),c.removeEventListener(dc,f),mf.remove(g)},0)}}},[c,u,f,g]);const v=l.useCallback(p=>{if(!r&&!n||g.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const b=p.currentTarget,[w,_]=RD(b);w&&_?!p.shiftKey&&y===_?(p.preventDefault(),r&&Cr(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),r&&Cr(_,{select:!0})):y===b&&p.preventDefault()}},[r,n,g.paused]);return l.createElement(jt.div,mt({tabIndex:-1},i,{ref:m,onKeyDown:v}))});function DD(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Cr(n,{select:e}),document.activeElement!==r)return}function RD(t){const e=gx(t),r=hf(e,t),n=hf(e.reverse(),t);return[r,n]}function gx(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function hf(t,e){for(const r of t)if(!AD(r,{upTo:e}))return r}function AD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function OD(t){return t instanceof HTMLInputElement&&"select"in t}function Cr(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&OD(t)&&e&&t.select()}}const mf=MD();function MD(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=pf(t,e),t.unshift(e)},remove(e){var r;t=pf(t,e),(r=t[0])===null||r===void 0||r.resume()}}}function pf(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function ID(t){return t.filter(e=>e.tagName!=="A")}const $D=l.forwardRef((t,e)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=t;return n?ul.createPortal(l.createElement(jt.div,mt({},s,{ref:e})),n):null});function LD(t,e){return l.useReducer((r,n)=>{const s=e[r][n];return s??r},t)}const Pi=t=>{const{present:e,children:r}=t,n=FD(e),s=typeof r=="function"?r({present:n.isPresent}):l.Children.only(r),o=Mo(n.ref,s.ref);return typeof r=="function"||n.isPresent?l.cloneElement(s,{ref:o}):null};Pi.displayName="Presence";function FD(t){const[e,r]=l.useState(),n=l.useRef({}),s=l.useRef(t),o=l.useRef("none"),i=t?"mounted":"unmounted",[c,d]=LD(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=ta(n.current);o.current=c==="mounted"?u:"none"},[c]),sl(()=>{const u=n.current,f=s.current;if(f!==t){const m=o.current,g=ta(u);t?d("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),sl(()=>{if(e){const u=h=>{const g=ta(n.current).includes(h.animationName);h.target===e&&g&&ft.flushSync(()=>d("ANIMATION_END"))},f=h=>{h.target===e&&(o.current=ta(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function ta(t){return(t==null?void 0:t.animationName)||"none"}let uc=0;function BD(){l.useEffect(()=>{var t,e;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=r[0])!==null&&t!==void 0?t:gf()),document.body.insertAdjacentElement("beforeend",(e=r[1])!==null&&e!==void 0?e:gf()),uc++,()=>{uc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),uc--}},[])}function gf(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var vx=Km(),fc=function(){},Ei=l.forwardRef(function(t,e){var r=l.useRef(null),n=l.useState({onScrollCapture:fc,onWheelCapture:fc,onTouchMoveCapture:fc}),s=n[0],o=n[1],i=t.forwardProps,c=t.children,d=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,g=t.noIsolation,v=t.inert,p=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,b=Yl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=m,_=zm([r,e]),S=Je(Je({},b),s);return l.createElement(l.Fragment,null,f&&l.createElement(w,{sideCar:vx,removeScrollBar:u,shards:h,noIsolation:g,inert:v,setCallbacks:o,allowPinchZoom:!!p,lockRef:r}),i?l.cloneElement(l.Children.only(c),Je(Je({},S),{ref:_})):l.createElement(y,Je({},S,{className:d,ref:_}),c))});Ei.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ei.classNames={fullWidth:Vs,zeroRight:Ws};var il=!1;if(typeof window<"u")try{var ra=Object.defineProperty({},"passive",{get:function(){return il=!0,!0}});window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{il=!1}var Mn=il?{passive:!1}:!1,WD=function(t){return t.tagName==="TEXTAREA"},xx=function(t,e){var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!WD(t)&&r[e]==="visible")},VD=function(t){return xx(t,"overflowY")},UD=function(t){return xx(t,"overflowX")},vf=function(t,e){var r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=yx(t,r);if(n){var s=bx(t,r),o=s[1],i=s[2];if(o>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},HD=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},zD=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},yx=function(t,e){return t==="v"?VD(e):UD(e)},bx=function(t,e){return t==="v"?HD(e):zD(e)},KD=function(t,e){return t==="h"&&e==="rtl"?-1:1},GD=function(t,e,r,n,s){var o=KD(t,window.getComputedStyle(e).direction),i=o*n,c=r.target,d=e.contains(c),u=!1,f=i>0,h=0,m=0;do{var g=bx(t,c),v=g[0],p=g[1],x=g[2],y=p-x-o*v;(v||y)&&yx(t,c)&&(h+=y,m+=v),c=c.parentNode}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(f&&(h===0||!s)||!f&&(m===0||!s))&&(u=!0),u},na=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xf=function(t){return[t.deltaX,t.deltaY]},yf=function(t){return t&&"current"in t?t.current:t},qD=function(t,e){return t[0]===e[0]&&t[1]===e[1]},YD=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},XD=0,In=[];function JD(t){var e=l.useRef([]),r=l.useRef([0,0]),n=l.useRef(),s=l.useState(XD++)[0],o=l.useState(function(){return Xl()})[0],i=l.useRef(t);l.useEffect(function(){i.current=t},[t]),l.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Hm([t.lockRef.current],(t.shards||[]).map(yf),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=l.useCallback(function(p,x){if("touches"in p&&p.touches.length===2)return!i.current.allowPinchZoom;var y=na(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-y[0],_="deltaY"in p?p.deltaY:b[1]-y[1],S,C=p.target,j=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&j==="h"&&C.type==="range")return!1;var P=vf(j,C);if(!P)return!0;if(P?S=j:(S=j==="v"?"h":"v",P=vf(j,C)),!P)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var R=n.current||S;return GD(R,x,p,R==="h"?w:_,!0)},[]),d=l.useCallback(function(p){var x=p;if(!(!In.length||In[In.length-1]!==o)){var y="deltaY"in x?xf(x):na(x),b=e.current.filter(function(S){return S.name===x.type&&S.target===x.target&&qD(S.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(yf).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=w.length>0?c(x,w[0]):!i.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=l.useCallback(function(p,x,y,b){var w={name:p,delta:x,target:y,should:b};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),f=l.useCallback(function(p){r.current=na(p),n.current=void 0},[]),h=l.useCallback(function(p){u(p.type,xf(p),p.target,c(p,t.lockRef.current))},[]),m=l.useCallback(function(p){u(p.type,na(p),p.target,c(p,t.lockRef.current))},[]);l.useEffect(function(){return In.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",d,Mn),document.addEventListener("touchmove",d,Mn),document.addEventListener("touchstart",f,Mn),function(){In=In.filter(function(p){return p!==o}),document.removeEventListener("wheel",d,Mn),document.removeEventListener("touchmove",d,Mn),document.removeEventListener("touchstart",f,Mn)}},[]);var g=t.removeScrollBar,v=t.inert;return l.createElement(l.Fragment,null,v?l.createElement(o,{styles:YD(s)}):null,g?l.createElement(Xm,{gapMode:"margin"}):null)}const QD=qm(vx,JD);var wx=l.forwardRef(function(t,e){return l.createElement(Ei,Je({},t,{ref:e,sideCar:QD}))});wx.classNames=Ei.classNames;const _x="Dialog",[Sx,LA]=fD(_x),[ZD,Cn]=Sx(_x),eR=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,c=l.useRef(null),d=l.useRef(null),[u=!1,f]=gD({prop:n,defaultProp:s,onChange:o});return l.createElement(ZD,{scope:e,triggerRef:c,contentRef:d,contentId:cc(),titleId:cc(),descriptionId:cc(),open:u,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(h=>!h),[f]),modal:i},r)},Cx="DialogPortal",[tR,jx]=Sx(Cx,{forceMount:void 0}),rR=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Cn(Cx,e);return l.createElement(tR,{scope:e,forceMount:r},l.Children.map(n,i=>l.createElement(Pi,{present:r||o.open},l.createElement($D,{asChild:!0,container:s},i))))},cl="DialogOverlay",nR=l.forwardRef((t,e)=>{const r=jx(cl,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Cn(cl,t.__scopeDialog);return o.modal?l.createElement(Pi,{present:n||o.open},l.createElement(sR,mt({},s,{ref:e}))):null}),sR=l.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Cn(cl,r);return l.createElement(wx,{as:kd,allowPinchZoom:!0,shards:[s.contentRef]},l.createElement(jt.div,mt({"data-state":Ex(s.open)},n,{ref:e,style:{pointerEvents:"auto",...n.style}})))}),fo="DialogContent",oR=l.forwardRef((t,e)=>{const r=jx(fo,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Cn(fo,t.__scopeDialog);return l.createElement(Pi,{present:n||o.open},o.modal?l.createElement(aR,mt({},s,{ref:e})):l.createElement(iR,mt({},s,{ref:e})))}),aR=l.forwardRef((t,e)=>{const r=Cn(fo,t.__scopeDialog),n=l.useRef(null),s=Mo(e,r.contentRef,n);return l.useEffect(()=>{const o=n.current;if(o)return Eo(o)},[]),l.createElement(Px,mt({},t,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Kn(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:Kn(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&o.preventDefault()}),onFocusOutside:Kn(t.onFocusOutside,o=>o.preventDefault())}))}),iR=l.forwardRef((t,e)=>{const r=Cn(fo,t.__scopeDialog),n=l.useRef(!1),s=l.useRef(!1);return l.createElement(Px,mt({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=t.onCloseAutoFocus)===null||i===void 0||i.call(t,o),!o.defaultPrevented){var c;n.current||(c=r.triggerRef.current)===null||c===void 0||c.focus(),o.preventDefault()}n.current=!1,s.current=!1},onInteractOutside:o=>{var i,c;(i=t.onInteractOutside)===null||i===void 0||i.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=o.target;((c=r.triggerRef.current)===null||c===void 0?void 0:c.contains(d))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}}))}),Px=l.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,c=Cn(fo,r),d=l.useRef(null),u=Mo(e,d);return BD(),l.createElement(l.Fragment,null,l.createElement(TD,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o},l.createElement(ED,mt({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ex(c.open)},i,{ref:u,onDismiss:()=>c.onOpenChange(!1)}))),!1)});function Ex(t){return t?"open":"closed"}const cR=eR,lR=rR,dR=nR,uR=oR;var Rs='[cmdk-group=""]',hc='[cmdk-group-items=""]',fR='[cmdk-group-heading=""]',Td='[cmdk-item=""]',bf=`${Td}:not([aria-disabled="true"])`,ll="cmdk-item-select",Qr="data-value",hR=(t,e,r)=>dD(t,e,r),Nx=l.createContext(void 0),Io=()=>l.useContext(Nx),kx=l.createContext(void 0),Dd=()=>l.useContext(kx),Tx=l.createContext(void 0),Dx=l.forwardRef((t,e)=>{let r=Fn(()=>{var T,U;return{search:"",value:(U=(T=t.value)!=null?T:t.defaultValue)!=null?U:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=Fn(()=>new Set),s=Fn(()=>new Map),o=Fn(()=>new Map),i=Fn(()=>new Set),c=Rx(t),{label:d,children:u,value:f,onValueChange:h,filter:m,shouldFilter:g,loop:v,disablePointerSelection:p=!1,vimBindings:x=!0,...y}=t,b=l.useId(),w=l.useId(),_=l.useId(),S=l.useRef(null),C=CR();vn(()=>{if(f!==void 0){let T=f.trim();r.current.value=T,j.emit()}},[f]),vn(()=>{C(6,D)},[]);let j=l.useMemo(()=>({subscribe:T=>(i.current.add(T),()=>i.current.delete(T)),snapshot:()=>r.current,setState:(T,U,N)=>{var B,M,V;if(!Object.is(r.current[T],U)){if(r.current[T]=U,T==="search")k(),A(),C(1,E);else if(T==="value"&&(N||C(5,D),((B=c.current)==null?void 0:B.value)!==void 0)){let X=U??"";(V=(M=c.current).onValueChange)==null||V.call(M,X);return}j.emit()}},emit:()=>{i.current.forEach(T=>T())}}),[]),P=l.useMemo(()=>({value:(T,U,N)=>{var B;U!==((B=o.current.get(T))==null?void 0:B.value)&&(o.current.set(T,{value:U,keywords:N}),r.current.filtered.items.set(T,R(U,N)),C(2,()=>{A(),j.emit()}))},item:(T,U)=>(n.current.add(T),U&&(s.current.has(U)?s.current.get(U).add(T):s.current.set(U,new Set([T]))),C(3,()=>{k(),A(),r.current.value||E(),j.emit()}),()=>{o.current.delete(T),n.current.delete(T),r.current.filtered.items.delete(T);let N=O();C(4,()=>{k(),(N==null?void 0:N.getAttribute("id"))===T&&E(),j.emit()})}),group:T=>(s.current.has(T)||s.current.set(T,new Set),()=>{o.current.delete(T),s.current.delete(T)}),filter:()=>c.current.shouldFilter,label:d||t["aria-label"],disablePointerSelection:p,listId:b,inputId:_,labelId:w,listInnerRef:S}),[]);function R(T,U){var N,B;let M=(B=(N=c.current)==null?void 0:N.filter)!=null?B:hR;return T?M(T,r.current.search,U):0}function A(){if(!r.current.search||c.current.shouldFilter===!1)return;let T=r.current.filtered.items,U=[];r.current.filtered.groups.forEach(B=>{let M=s.current.get(B),V=0;M.forEach(X=>{let Z=T.get(X);V=Math.max(Z,V)}),U.push([B,V])});let N=S.current;G().sort((B,M)=>{var V,X;let Z=B.getAttribute("id"),q=M.getAttribute("id");return((V=T.get(q))!=null?V:0)-((X=T.get(Z))!=null?X:0)}).forEach(B=>{let M=B.closest(hc);M?M.appendChild(B.parentElement===M?B:B.closest(`${hc} > *`)):N.appendChild(B.parentElement===N?B:B.closest(`${hc} > *`))}),U.sort((B,M)=>M[1]-B[1]).forEach(B=>{let M=S.current.querySelector(`${Rs}[${Qr}="${encodeURIComponent(B[0])}"]`);M==null||M.parentElement.appendChild(M)})}function E(){let T=G().find(N=>N.getAttribute("aria-disabled")!=="true"),U=T==null?void 0:T.getAttribute(Qr);j.setState("value",U||void 0)}function k(){var T,U,N,B;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let M=0;for(let V of n.current){let X=(U=(T=o.current.get(V))==null?void 0:T.value)!=null?U:"",Z=(B=(N=o.current.get(V))==null?void 0:N.keywords)!=null?B:[],q=R(X,Z);r.current.filtered.items.set(V,q),q>0&&M++}for(let[V,X]of s.current)for(let Z of X)if(r.current.filtered.items.get(Z)>0){r.current.filtered.groups.add(V);break}r.current.filtered.count=M}function D(){var T,U,N;let B=O();B&&(((T=B.parentElement)==null?void 0:T.firstChild)===B&&((N=(U=B.closest(Rs))==null?void 0:U.querySelector(fR))==null||N.scrollIntoView({block:"nearest"})),B.scrollIntoView({block:"nearest"}))}function O(){var T;return(T=S.current)==null?void 0:T.querySelector(`${Td}[aria-selected="true"]`)}function G(){var T;return Array.from((T=S.current)==null?void 0:T.querySelectorAll(bf))}function L(T){let U=G()[T];U&&j.setState("value",U.getAttribute(Qr))}function W(T){var U;let N=O(),B=G(),M=B.findIndex(X=>X===N),V=B[M+T];(U=c.current)!=null&&U.loop&&(V=M+T<0?B[B.length-1]:M+T===B.length?B[0]:B[M+T]),V&&j.setState("value",V.getAttribute(Qr))}function $(T){let U=O(),N=U==null?void 0:U.closest(Rs),B;for(;N&&!B;)N=T>0?_R(N,Rs):SR(N,Rs),B=N==null?void 0:N.querySelector(bf);B?j.setState("value",B.getAttribute(Qr)):W(T)}let I=()=>L(G().length-1),te=T=>{T.preventDefault(),T.metaKey?I():T.altKey?$(1):W(1)},Y=T=>{T.preventDefault(),T.metaKey?L(0):T.altKey?$(-1):W(-1)};return l.createElement(jt.div,{ref:e,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:T=>{var U;if((U=y.onKeyDown)==null||U.call(y,T),!T.defaultPrevented)switch(T.key){case"n":case"j":{x&&T.ctrlKey&&te(T);break}case"ArrowDown":{te(T);break}case"p":case"k":{x&&T.ctrlKey&&Y(T);break}case"ArrowUp":{Y(T);break}case"Home":{T.preventDefault(),L(0);break}case"End":{T.preventDefault(),I();break}case"Enter":if(!T.nativeEvent.isComposing&&T.keyCode!==229){T.preventDefault();let N=O();if(N){let B=new Event(ll);N.dispatchEvent(B)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:PR},d),Ni(t,T=>l.createElement(kx.Provider,{value:j},l.createElement(Nx.Provider,{value:P},T))))}),mR=l.forwardRef((t,e)=>{var r,n;let s=l.useId(),o=l.useRef(null),i=l.useContext(Tx),c=Io(),d=Rx(t),u=(n=(r=d.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;vn(()=>{if(!u)return c.item(s,i==null?void 0:i.id)},[u]);let f=Ax(s,o,[t.value,t.children,o],t.keywords),h=Dd(),m=xn(C=>C.value&&C.value===f.current),g=xn(C=>u||c.filter()===!1?!0:C.search?C.filtered.items.get(s)>0:!0);l.useEffect(()=>{let C=o.current;if(!(!C||t.disabled))return C.addEventListener(ll,v),()=>C.removeEventListener(ll,v)},[g,t.onSelect,t.disabled]);function v(){var C,j;p(),(j=(C=d.current).onSelect)==null||j.call(C,f.current)}function p(){h.setState("value",f.current,!0)}if(!g)return null;let{disabled:x,value:y,onSelect:b,forceMount:w,keywords:_,...S}=t;return l.createElement(jt.div,{ref:ho([o,e]),...S,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||c.disablePointerSelection?void 0:p,onClick:x?void 0:v},t.children)}),pR=l.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...o}=t,i=l.useId(),c=l.useRef(null),d=l.useRef(null),u=l.useId(),f=Io(),h=xn(g=>s||f.filter()===!1?!0:g.search?g.filtered.groups.has(i):!0);vn(()=>f.group(i),[]),Ax(i,c,[t.value,t.heading,d]);let m=l.useMemo(()=>({id:i,forceMount:s}),[s]);return l.createElement(jt.div,{ref:ho([c,e]),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&l.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Ni(t,g=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},l.createElement(Tx.Provider,{value:m},g))))}),gR=l.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=l.useRef(null),o=xn(i=>!i.search);return!r&&!o?null:l.createElement(jt.div,{ref:ho([s,e]),...n,"cmdk-separator":"",role:"separator"})}),vR=l.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,o=Dd(),i=xn(f=>f.search),c=xn(f=>f.value),d=Io(),u=l.useMemo(()=>{var f;let h=(f=d.listInnerRef.current)==null?void 0:f.querySelector(`${Td}[${Qr}="${encodeURIComponent(c)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return l.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),l.createElement(jt.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:s?t.value:i,onChange:f=>{s||o.setState("search",f.target.value),r==null||r(f.target.value)}})}),xR=l.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,o=l.useRef(null),i=l.useRef(null),c=Io();return l.useEffect(()=>{if(i.current&&o.current){let d=i.current,u=o.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=d.offsetHeight;u.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(f),h.unobserve(d)}}},[]),l.createElement(jt.div,{ref:ho([o,e]),...s,"cmdk-list":"",role:"listbox","aria-label":n,id:c.listId},Ni(t,d=>l.createElement("div",{ref:ho([i,c.listInnerRef]),"cmdk-list-sizer":""},d)))}),yR=l.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:i,...c}=t;return l.createElement(cR,{open:r,onOpenChange:n},l.createElement(lR,{container:i},l.createElement(dR,{"cmdk-overlay":"",className:s}),l.createElement(uR,{"aria-label":t.label,"cmdk-dialog":"",className:o},l.createElement(Dx,{ref:e,...c}))))}),bR=l.forwardRef((t,e)=>xn(r=>r.filtered.count===0)?l.createElement(jt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),wR=l.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...o}=t;return l.createElement(jt.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Ni(t,i=>l.createElement("div",{"aria-hidden":!0},i)))}),it=Object.assign(Dx,{List:xR,Item:mR,Input:vR,Group:pR,Separator:gR,Dialog:yR,Empty:bR,Loading:wR});function _R(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function SR(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function Rx(t){let e=l.useRef(t);return vn(()=>{e.current=t}),e}var vn=typeof window>"u"?l.useEffect:l.useLayoutEffect;function Fn(t){let e=l.useRef();return e.current===void 0&&(e.current=t()),e}function ho(t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}function xn(t){let e=Dd(),r=()=>t(e.snapshot());return l.useSyncExternalStore(e.subscribe,r,r)}function Ax(t,e,r,n=[]){let s=l.useRef(),o=Io();return vn(()=>{var i;let c=(()=>{var u;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():s.current}})(),d=n.map(u=>u.trim());o.value(t,c,d),(i=e.current)==null||i.setAttribute(Qr,c),s.current=c}),s}var CR=()=>{let[t,e]=l.useState(),r=Fn(()=>new Map);return vn(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function jR(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Ni({asChild:t,children:e},r){return t&&l.isValidElement(e)?l.cloneElement(jR(e),{ref:e.ref},r(e.props.children)):r(e)}var PR={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ox=l.forwardRef(({className:t,...e},r)=>a.jsx(it,{ref:r,className:J("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));Ox.displayName=it.displayName;const Mx=l.forwardRef(({className:t,...e},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(Sb,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(it.Input,{ref:r,className:J("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));Mx.displayName=it.Input.displayName;const Ix=l.forwardRef(({className:t,...e},r)=>a.jsx(it.List,{ref:r,className:J("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));Ix.displayName=it.List.displayName;const $x=l.forwardRef((t,e)=>a.jsx(it.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));$x.displayName=it.Empty.displayName;const Lx=l.forwardRef(({className:t,...e},r)=>a.jsx(it.Group,{ref:r,className:J("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Lx.displayName=it.Group.displayName;const ER=l.forwardRef(({className:t,...e},r)=>a.jsx(it.Separator,{ref:r,className:J("-mx-1 h-px bg-border",t),...e}));ER.displayName=it.Separator.displayName;const dl=l.forwardRef(({className:t,...e},r)=>a.jsx(it.Item,{ref:r,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));dl.displayName=it.Item.displayName;var Rd="Popover",[Fx,FA]=It(Rd,[Br]),$o=Br(),[NR,Hr]=Fx(Rd),Bx=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=t,c=$o(e),d=l.useRef(null),[u,f]=l.useState(!1),[h=!1,m]=Rt({prop:n,defaultProp:s,onChange:o});return a.jsx(Wa,{...c,children:a.jsx(NR,{scope:e,contentId:wt(),triggerRef:d,open:h,onOpenChange:m,onOpenToggle:l.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:l.useCallback(()=>f(!0),[]),onCustomAnchorRemove:l.useCallback(()=>f(!1),[]),modal:i,children:r})})};Bx.displayName=Rd;var Wx="PopoverAnchor",kR=l.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Hr(Wx,r),o=$o(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=s;return l.useEffect(()=>(i(),()=>c()),[i,c]),a.jsx(yo,{...o,...n,ref:e})});kR.displayName=Wx;var Vx="PopoverTrigger",Ux=l.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Hr(Vx,r),o=$o(r),i=ne(e,s.triggerRef),c=a.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qx(s.open),...n,ref:i,onClick:H(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:a.jsx(yo,{asChild:!0,...o,children:c})});Ux.displayName=Vx;var Ad="PopoverPortal",[TR,DR]=Fx(Ad,{forceMount:void 0}),Hx=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,o=Hr(Ad,e);return a.jsx(TR,{scope:e,forceMount:r,children:a.jsx(He,{present:r||o.open,children:a.jsx(us,{asChild:!0,container:s,children:n})})})};Hx.displayName=Ad;var ds="PopoverContent",zx=l.forwardRef((t,e)=>{const r=DR(ds,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,o=Hr(ds,t.__scopePopover);return a.jsx(He,{present:n||o.open,children:o.modal?a.jsx(RR,{...s,ref:e}):a.jsx(AR,{...s,ref:e})})});zx.displayName=ds;var RR=l.forwardRef((t,e)=>{const r=Hr(ds,t.__scopePopover),n=l.useRef(null),s=ne(e,n),o=l.useRef(!1);return l.useEffect(()=>{const i=n.current;if(i)return Eo(i)},[]),a.jsx(Po,{as:dr,allowPinchZoom:!0,children:a.jsx(Kx,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(t.onCloseAutoFocus,i=>{var c;i.preventDefault(),o.current||(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:H(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:H(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),AR=l.forwardRef((t,e)=>{const r=Hr(ds,t.__scopePopover),n=l.useRef(!1),s=l.useRef(!1);return a.jsx(Kx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,c;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var d,u;(d=t.onInteractOutside)==null||d.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Kx=l.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,...h}=t,m=Hr(ds,r),g=$o(r);return ai(),a.jsx(jo,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(bn,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(Va,{"data-state":qx(m.open),role:"dialog",id:m.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Gx="PopoverClose",OR=l.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Hr(Gx,r);return a.jsx(Q.button,{type:"button",...n,ref:e,onClick:H(t.onClick,()=>s.onOpenChange(!1))})});OR.displayName=Gx;var MR="PopoverArrow",IR=l.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=$o(r);return a.jsx(Ua,{...s,...n,ref:e})});IR.displayName=MR;function qx(t){return t?"open":"closed"}var $R=Bx,LR=Ux,FR=Hx,Yx=zx;const BR=$R,WR=LR,Xx=l.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>a.jsx(FR,{children:a.jsx(Yx,{ref:s,align:e,sideOffset:r,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Xx.displayName=Yx.displayName;const VR=()=>{const[t,e]=l.useState([]),[r,n]=l.useState([]),[s,o]=l.useState(!0),[i,c]=l.useState(null),d=async()=>{try{o(!0),c(null),console.log("🔍 Attempting to load monthly stock data...");const h=["https://raw.githubusercontent.com/datamilo/put-options-se/main/data/Stocks_Monthly_Data.csv","/data/Stocks_Monthly_Data.csv"];let m="",g="";for(const y of h)try{console.log(`🌐 Trying to fetch from: ${y}`);const b=y.includes("github")?`${y}?${Date.now()}`:y,w=await fetch(b);if(console.log(`📨 Response status: ${w.status} for ${y}`),w.ok){m=await w.text(),g=y,console.log(`✅ Successfully loaded from: ${y}`),console.log(`📄 CSV length: ${m.length} characters`),console.log(`📄 First 200 chars: ${m.substring(0,200)}`);break}else console.log(`❌ Failed to load from ${y}: ${w.status} ${w.statusText}`)}catch(b){console.warn(`❌ Failed to fetch from ${y}:`,b)}if(!m)throw new Error("Could not load monthly stock data from GitHub or local source. Please check if the file exists and is accessible.");const v=ns.parse(m,{header:!0,skipEmptyLines:!0,delimiter:"|",transform:(y,b)=>b==="month"?{Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12}[y]||parseInt(y)||0:["year","day_low_day_of_month","day_high_day_of_month"].includes(b)?parseInt(y)||0:["open","high","low","close","close_previous_month","low_previous_month","pct_return_month","pct_open_to_low","pct_low_to_high","pct_low_previous_month_to_low_current_month"].includes(b)?parseFloat(y)||0:y});v.errors.length>0&&console.warn("📝 CSV parsing warnings:",v.errors);const p=v.data.filter(y=>y.name&&y.month&&y.year);console.log(`📊 Parsed ${p.length} monthly records`),console.log("📊 Sample records:",p.slice(0,3)),e(p);const x=u(p);console.log(`📈 Calculated stats for ${x.length} stock-month combinations`),n(x)}catch(h){console.error("❌ Error loading monthly data:",h),c(h instanceof Error?h.message:"Unknown error occurred")}finally{o(!1)}},u=h=>{const m=new Map,g=h.reduce((p,x)=>{const y=`${x.name}-${x.month}`;return p[y]||(p[y]=[]),p[y].push(x),p},{});for(const[p,x]of Object.entries(g)){const[y,b]=p.split("-"),w=parseInt(b),_=x.filter(A=>A.pct_return_month>=0).length,S=x.length,C=x.reduce((A,E)=>A+E.pct_return_month,0)/S,j=x.reduce((A,E)=>A+E.pct_open_to_low,0)/S,P=Math.min(...x.map(A=>A.pct_open_to_low)),R=Math.max(...x.map(A=>A.pct_open_to_low));m.set(p,{name:y,month:w,number_of_months_available:S,number_of_months_positive_return:_,pct_pos_return_months:_/S*100,return_month_mean_pct_return_month:C,open_to_low_mean_pct_return_month:j,open_to_low_min_pct_return_month:P,open_to_low_max_pct_return_month:R,top_5_accumulated_score:0})}const v=Array.from(m.values());return f(v),v},f=h=>{for(let m=1;m<=12;m++){const g=h.filter(p=>p.month===m&&p.number_of_months_available>=3);["pct_pos_return_months","return_month_mean_pct_return_month","open_to_low_mean_pct_return_month"].forEach(p=>{[...g].sort((y,b)=>b[p]-y[p]).slice(0,5).forEach((y,b)=>{y.top_5_accumulated_score+=5-b})})}};return l.useEffect(()=>{d()},[]),{monthlyData:t,monthlyStats:r,isLoading:s,error:i,loadMonthlyData:d}},wf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],UR=({data:t})=>{const[e,r]=l.useState("pct_pos_return_months"),[n,s]=l.useState("top_5_accumulated_score"),[o,i]=l.useState(20),c=l.useMemo(()=>{const m=new Map;return t.forEach(v=>{m.has(v.name)||m.set(v.name,{name:v.name,score:0,avgReturn:0,monthlyData:new Map});const p=m.get(v.name);p.monthlyData.set(v.month,v),p.score=Math.max(p.score,v.top_5_accumulated_score)}),m.forEach((v,p)=>{const x=Array.from(v.monthlyData.values()).map(y=>y.return_month_mean_pct_return_month);v.avgReturn=x.reduce((y,b)=>y+b,0)/x.length}),Array.from(m.values()).sort((v,p)=>{switch(n){case"top_5_accumulated_score":return p.score-v.score;case"avg_return":return p.avgReturn-v.avgReturn;case"alphabetical":return v.name.localeCompare(p.name);default:return p.score-v.score}}).slice(0,o)},[t,n,o]),d=(m,g)=>m===null?"bg-muted":g==="pct_pos_return_months"?m>=80?"bg-green-600":m>=70?"bg-green-500":m>=60?"bg-green-400":m>=50?"bg-yellow-400":m>=40?"bg-orange-400":m>=30?"bg-red-400":"bg-red-500":m>=5?"bg-green-600":m>=2?"bg-green-500":m>=0?"bg-green-400":m>=-2?"bg-yellow-400":m>=-5?"bg-orange-400":m>=-10?"bg-red-400":"bg-red-500",u=m=>m<5?"opacity-50":m<10?"opacity-75":"opacity-100",f=(m,g)=>m===null?"-":g==="pct_pos_return_months"?m.toFixed(0):m>0?`+${m.toFixed(1)}`:m.toFixed(1),h=(m,g,v)=>v?`${m} - ${wf[g-1]}
${v.pct_pos_return_months.toFixed(1)}% positive months
Avg return: ${v.return_month_mean_pct_return_month.toFixed(2)}%
Data points: ${v.number_of_months_available} months`:"No data available";return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ce,{htmlFor:"metric-select",children:"Metric:"}),a.jsxs(Hn,{value:e,onValueChange:m=>r(m),children:[a.jsx(on,{id:"metric-select",className:"w-48",children:a.jsx(zn,{})}),a.jsxs(an,{children:[a.jsx(Ke,{value:"pct_pos_return_months",children:"% Positive Months"}),a.jsx(Ke,{value:"return_month_mean_pct_return_month",children:"Average Return"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ce,{htmlFor:"sort-select",children:"Sort by:"}),a.jsxs(Hn,{value:n,onValueChange:m=>s(m),children:[a.jsx(on,{id:"sort-select",className:"w-40",children:a.jsx(zn,{})}),a.jsxs(an,{children:[a.jsx(Ke,{value:"top_5_accumulated_score",children:"Score"}),a.jsx(Ke,{value:"avg_return",children:"Avg Return"}),a.jsx(Ke,{value:"alphabetical",children:"Alphabetical"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ce,{htmlFor:"stocks-select",children:"Show:"}),a.jsxs(Hn,{value:o.toString(),onValueChange:m=>i(parseInt(m)),children:[a.jsx(on,{id:"stocks-select",className:"w-32",children:a.jsx(zn,{})}),a.jsxs(an,{children:[a.jsx(Ke,{value:"20",children:"Top 20"}),a.jsx(Ke,{value:"30",children:"Top 30"}),a.jsx(Ke,{value:"50",children:"Top 50"})]})]})]})]}),a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("div",{className:"min-w-[900px]",children:[a.jsxs("div",{className:"grid grid-cols-13 gap-1 mb-2",children:[a.jsx("div",{className:"text-xs font-medium text-muted-foreground p-2 min-w-[120px]",children:"Stock"}),wf.map(m=>a.jsx("div",{className:"text-xs font-medium text-muted-foreground text-center p-1 min-w-[60px]",children:m},m))]}),a.jsx("div",{className:"space-y-1",children:c.map(m=>a.jsxs("div",{className:"grid grid-cols-13 gap-1",children:[a.jsxs("div",{className:"text-xs font-medium p-2 truncate bg-muted rounded min-w-[120px] flex items-center justify-between",children:[a.jsx("span",{className:"truncate",title:m.name,children:m.name}),a.jsx(ls,{variant:"outline",className:"text-xs ml-1",children:m.score.toFixed(0)})]}),Array.from({length:12},(g,v)=>{const p=v+1,x=m.monthlyData.get(p),y=x?x[e]:null,b=(x==null?void 0:x.number_of_months_available)||0;return a.jsxs("div",{className:`h-8 rounded flex items-center justify-center text-xs font-medium text-white cursor-help transition-all hover:scale-105 hover:z-10 relative min-w-[60px] ${d(y,e)} ${u(b)}`,title:h(m.name,p,x),children:[f(y,e),b<5&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-gray-600 opacity-30 rounded"})]},v)})]},m.name))}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e==="pct_pos_return_months"?"% Positive Months:":"Average Return (%):"}),e==="pct_pos_return_months"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),a.jsx("span",{className:"text-xs",children:"0-30%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-400 rounded"}),a.jsx("span",{className:"text-xs",children:"30-50%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded"}),a.jsx("span",{className:"text-xs",children:"50-60%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-green-400 rounded"}),a.jsx("span",{className:"text-xs",children:"60-70%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),a.jsx("span",{className:"text-xs",children:"70%+"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),a.jsx("span",{className:"text-xs",children:"≤-10%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-400 rounded"}),a.jsx("span",{className:"text-xs",children:"-5% to -10%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded"}),a.jsx("span",{className:"text-xs",children:"-2% to 0%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-green-400 rounded"}),a.jsx("span",{className:"text-xs",children:"0% to 2%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),a.jsx("span",{className:"text-xs",children:"5%+"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsx("span",{children:"Data reliability:"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-primary rounded opacity-50"}),a.jsx("span",{children:"<5 months"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-primary rounded opacity-75"}),a.jsx("span",{children:"5-10 months"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-primary rounded"}),a.jsx("span",{children:"10+ months"})]})]})]})]})})]})},HR=({data:t,metric:e,month:r})=>{const n={pct_pos_return_months:"Positive Months %",return_month_mean_pct_return_month:"Avg Return %",top_5_accumulated_score:"Score"},o=(()=>{let d=t;return r>0&&(d=t.filter(u=>u.month===r)),d.filter(u=>u.number_of_months_available>=3).sort((u,f)=>f[e]-u[e]).slice(0,10).map(u=>({name:u.name,value:u[e],months:u.number_of_months_available}))})(),i=(d,u)=>{const f=["#10b981","#06b6d4","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#ef4444"];return f[u%f.length]},c=d=>e==="top_5_accumulated_score"?d.toFixed(0):d.toFixed(1)+"%";return o.length===0?a.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No data available for the selected filters"}):a.jsx("div",{className:"h-64",children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(If,{data:o,layout:"horizontal",margin:{top:5,right:30,left:50,bottom:5},children:[a.jsx(cn,{type:"number"}),a.jsx(Or,{type:"category",dataKey:"name",width:40,tick:{fontSize:10},tickFormatter:d=>d.length>8?d.substring(0,8)+"...":d}),a.jsx(ln,{formatter:(d,u)=>[c(d),n[e]],labelFormatter:d=>`Stock: ${d}`,content:({active:d,payload:u,label:f})=>{if(d&&u&&u.length){const h=u[0].payload;return a.jsxs("div",{className:"bg-background border rounded-lg p-3 shadow-lg",children:[a.jsx("p",{className:"font-medium",children:f}),a.jsxs("p",{className:"text-primary",children:[n[e],": ",c(u[0].value)]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["History: ",h.months," months"]})]})}return null}}),a.jsx(fl,{dataKey:"value",radius:[0,2,2,0],children:o.map((d,u)=>a.jsx($f,{fill:i(d.value,u)},`cell-${u}`))})]})})})},zR=({data:t})=>{const e=t.filter(s=>s.number_of_months_available>=3).slice(0,50).map(s=>({x:s.return_month_mean_pct_return_month,y:Math.abs(s.open_to_low_mean_pct_return_month),z:s.number_of_months_available,name:s.name,score:s.top_5_accumulated_score,posMonths:s.pct_pos_return_months})),r=s=>s>=10?"#10b981":s>=5?"#3b82f6":s>=2?"#f59e0b":"#ef4444",n=s=>20+80*Math.min(s/24,1);return e.length===0?a.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No data available for scatter plot"}):a.jsxs("div",{className:"h-64",children:[a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(Of,{data:e,margin:{top:20,right:20,bottom:20,left:20},children:[a.jsx(cn,{type:"number",dataKey:"x",name:"Avg Return",unit:"%",domain:["dataMin - 1","dataMax + 1"]}),a.jsx(Or,{type:"number",dataKey:"y",name:"Avg Drawdown",unit:"%",domain:[0,"dataMax + 1"]}),a.jsx(ln,{cursor:{strokeDasharray:"3 3"},content:({active:s,payload:o})=>{if(s&&o&&o.length){const i=o[0].payload;return a.jsxs("div",{className:"bg-background border rounded-lg p-3 shadow-lg",children:[a.jsx("p",{className:"font-medium",children:i.name}),a.jsxs("p",{className:"text-primary",children:["Avg Return: ",i.x.toFixed(2),"%"]}),a.jsxs("p",{className:"text-orange-500",children:["Avg Drawdown: ",i.y.toFixed(2),"%"]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["History: ",i.z," months"]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["Score: ",i.score]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["Positive Months: ",i.posMonths.toFixed(1),"%"]})]})}return null}}),a.jsx(Mf,{dataKey:"y",fill:"#8884d8",children:e.map((s,o)=>a.jsx($f,{fill:r(s.score),r:Math.sqrt(n(s.z))/3},`cell-${o}`))})]})}),a.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{children:"High Score (10+)"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsx("span",{children:"Medium Score (5-9)"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),a.jsx("span",{children:"Low Score (2-4)"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsx("span",{children:"Very Low (0-1)"})]}),a.jsx("span",{className:"text-muted-foreground",children:"• Bubble size = History depth"})]})]})},KR=({data:t})=>{const[e,r]=l.useState("top_5_accumulated_score"),[n,s]=l.useState("desc"),[o,i]=l.useState(""),[c,d]=l.useState(1),u=20,f=y=>{e===y?s(n==="asc"?"desc":"asc"):(r(y),s("desc")),d(1)},h=l.useMemo(()=>{let y=t;return o&&(y=t.filter(b=>b.name.toLowerCase().includes(o.toLowerCase()))),y.sort((b,w)=>{const _=b[e],S=w[e];return n==="asc"?_-S:S-_})},[t,o,e,n]),m=l.useMemo(()=>{const y=(c-1)*u;return h.slice(y,y+u)},[h,c]),g=Math.ceil(h.length/u),v=y=>e!==y?a.jsx(da,{className:"h-4 w-4"}):n==="asc"?a.jsx(ub,{className:"h-4 w-4"}):a.jsx(db,{className:"h-4 w-4"}),p=(y,b=2)=>y.toFixed(b),x=y=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][y-1]||"All";return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Qe,{placeholder:"Search stocks...",value:o,onChange:y=>{i(y.target.value),d(1)},className:"max-w-sm"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.length," results"]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Wl,{children:[a.jsx(Vl,{children:a.jsxs(ro,{children:[a.jsx(Wt,{className:"w-20",children:a.jsxs(ee,{variant:"ghost",onClick:()=>f("name"),className:"h-auto p-0 font-medium",children:["Stock ",v("name")]})}),a.jsx(Wt,{className:"w-16",children:a.jsxs(ee,{variant:"ghost",onClick:()=>f("month"),className:"h-auto p-0 font-medium",children:["Month ",v("month")]})}),a.jsx(Wt,{className:"w-20",children:a.jsxs(ee,{variant:"ghost",onClick:()=>f("number_of_months_available"),className:"h-auto p-0 font-medium text-xs",children:["History ",v("number_of_months_available")]})}),a.jsx(Wt,{className:"w-20",children:a.jsxs(ee,{variant:"ghost",onClick:()=>f("pct_pos_return_months"),className:"h-auto p-0 font-medium text-xs",children:["Pos % ",v("pct_pos_return_months")]})}),a.jsx(Wt,{className:"w-20",children:a.jsxs(ee,{variant:"ghost",onClick:()=>f("return_month_mean_pct_return_month"),className:"h-auto p-0 font-medium text-xs",children:["Avg Ret % ",v("return_month_mean_pct_return_month")]})}),a.jsx(Wt,{className:"w-20",children:a.jsxs(ee,{variant:"ghost",onClick:()=>f("open_to_low_mean_pct_return_month"),className:"h-auto p-0 font-medium text-xs",children:["Avg DD % ",v("open_to_low_mean_pct_return_month")]})}),a.jsx(Wt,{className:"w-20",children:a.jsxs(ee,{variant:"ghost",onClick:()=>f("open_to_low_min_pct_return_month"),className:"h-auto p-0 font-medium text-xs",children:["Worst DD % ",v("open_to_low_min_pct_return_month")]})}),a.jsx(Wt,{className:"w-16",children:a.jsxs(ee,{variant:"ghost",onClick:()=>f("top_5_accumulated_score"),className:"h-auto p-0 font-medium",children:["Score ",v("top_5_accumulated_score")]})})]})}),a.jsx(Ul,{children:m.map((y,b)=>a.jsxs(ro,{children:[a.jsx(Vt,{className:"font-medium",children:y.name}),a.jsx(Vt,{children:x(y.month)}),a.jsx(Vt,{children:y.number_of_months_available}),a.jsx(Vt,{children:a.jsxs("span",{className:y.pct_pos_return_months>=70?"text-green-600":y.pct_pos_return_months>=50?"text-yellow-600":"text-red-600",children:[p(y.pct_pos_return_months,1),"%"]})}),a.jsx(Vt,{children:a.jsxs("span",{className:y.return_month_mean_pct_return_month>=0?"text-green-600":"text-red-600",children:[p(y.return_month_mean_pct_return_month),"%"]})}),a.jsx(Vt,{children:a.jsxs("span",{className:y.open_to_low_mean_pct_return_month>=-5?"text-green-600":"text-red-600",children:[p(y.open_to_low_mean_pct_return_month),"%"]})}),a.jsx(Vt,{children:a.jsxs("span",{className:"text-red-600",children:[p(y.open_to_low_min_pct_return_month),"%"]})}),a.jsx(Vt,{children:a.jsx("span",{className:y.top_5_accumulated_score>=10?"text-green-600 font-medium":y.top_5_accumulated_score>=5?"text-blue-600":"text-muted-foreground",children:p(y.top_5_accumulated_score,0)})})]},`${y.name}-${y.month}-${b}`))})]})})}),g>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>d(Math.max(1,c-1)),disabled:c===1,children:"Previous"}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,g)},(y,b)=>{let w;return g<=5||c<=3?w=b+1:c>=g-2?w=g-4+b:w=c-2+b,a.jsx(ee,{variant:c===w?"default":"outline",size:"sm",onClick:()=>d(w),className:"w-8 h-8 p-0",children:w},w)})}),a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>d(Math.min(g,c+1)),disabled:c===g,children:"Next"})]})]})},_f=["All Months","January","February","March","April","May","June","July","August","September","October","November","December"],GR=()=>{const t=yn(),{monthlyData:e,monthlyStats:r,isLoading:n,error:s}=VR(),[o,i]=l.useState(0),[c,d]=l.useState(""),[u,f]=l.useState(!1),[h,m]=l.useState([3]),[g,v]=l.useState(50),[p,x]=l.useState("pct_pos_return_months"),y=l.useMemo(()=>Array.from(new Set(r.map(S=>S.name))).sort(),[r]),b=l.useMemo(()=>{let _=r;return o>0&&(_=_.filter(S=>S.month===o)),c&&(_=_.filter(S=>S.name===c)),_=_.filter(S=>S.number_of_months_available>=h[0]),_.slice(0,g)},[r,o,c,h,g]),w=l.useMemo(()=>{var P;if(b.length===0)return null;const _=b.reduce((R,A)=>R+A.pct_pos_return_months,0)/b.length,S=((P=[...b].sort((R,A)=>R.return_month_mean_pct_return_month-A.return_month_mean_pct_return_month)[Math.floor(b.length/2)])==null?void 0:P.return_month_mean_pct_return_month)||0,C=b.length,j=b.reduce((R,A)=>R+A.top_5_accumulated_score,0)/b.length;return{avgPosReturnMonths:_,medianReturn:S,stockCount:C,avgScore:j}},[b]);return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading monthly analysis data..."})]})}):s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs(me,{className:"max-w-md",children:[a.jsx(we,{children:a.jsx(_e,{className:"text-destructive",children:"Error Loading Data"})}),a.jsxs(pe,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:s}),a.jsxs(ee,{onClick:()=>t("/"),variant:"outline",children:[a.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Back to Main Page"]})]})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ee,{onClick:()=>t("/"),variant:"ghost",size:"sm",children:[a.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Back to Options"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Monthly Stock Analysis"}),a.jsx("p",{className:"text-muted-foreground",children:"Historical seasonal patterns and performance metrics"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fb,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:o===0?"All Months":_f[o]})]})]})})}),a.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Filters & Controls"})}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{children:"Month"}),a.jsxs(Hn,{value:o.toString(),onValueChange:_=>i(parseInt(_)),children:[a.jsx(on,{children:a.jsx(zn,{})}),a.jsx(an,{children:_f.map((_,S)=>a.jsx(Ke,{value:S.toString(),children:_},S))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{children:"Select Stock"}),a.jsxs(BR,{open:u,onOpenChange:f,children:[a.jsx(WR,{asChild:!0,children:a.jsxs(ee,{variant:"outline",role:"combobox","aria-expanded":u,className:"w-full justify-between",children:[c||"All stocks...",a.jsx(gb,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(Xx,{className:"w-full p-0",align:"start",children:a.jsxs(Ox,{children:[a.jsx(Mx,{placeholder:"Search stocks..."}),a.jsxs(Ix,{children:[a.jsx($x,{children:"No stock found."}),a.jsxs(Lx,{children:[a.jsxs(dl,{value:"",onSelect:()=>{d(""),f(!1)},children:[a.jsx(Ys,{className:`mr-2 h-4 w-4 ${c===""?"opacity-100":"opacity-0"}`}),"All stocks"]}),y.map(_=>a.jsxs(dl,{value:_,onSelect:S=>{d(S===c?"":S),f(!1)},children:[a.jsx(Ys,{className:`mr-2 h-4 w-4 ${c===_?"opacity-100":"opacity-0"}`}),_]},_))]})]})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ce,{children:["Min History (months): ",h[0]]}),a.jsx(yd,{value:h,onValueChange:m,min:1,max:50,step:1,className:"w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{children:"Show Top N Stocks"}),a.jsxs(Hn,{value:g.toString(),onValueChange:_=>v(parseInt(_)),children:[a.jsx(on,{children:a.jsx(zn,{})}),a.jsxs(an,{children:[a.jsx(Ke,{value:"25",children:"Top 25"}),a.jsx(Ke,{value:"50",children:"Top 50"}),a.jsx(Ke,{value:"100",children:"Top 100"}),a.jsx(Ke,{value:"200",children:"Top 200"})]})]})]})]})})]}),w&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(me,{children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Positive Months"}),a.jsxs("p",{className:"text-2xl font-bold",children:[w.avgPosReturnMonths.toFixed(1),"%"]})]}),a.jsx(ss,{className:"h-8 w-8 text-green-500"})]})})}),a.jsx(me,{children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Median Return"}),a.jsxs("p",{className:"text-2xl font-bold",children:[w.medianReturn.toFixed(2),"%"]})]}),a.jsx(qs,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(me,{children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stocks in View"}),a.jsx("p",{className:"text-2xl font-bold",children:w.stockCount})]}),a.jsx(ls,{variant:"secondary",className:"text-lg px-3 py-1",children:w.stockCount})]})})}),a.jsx(me,{children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Score"}),a.jsx("p",{className:"text-2xl font-bold",children:w.avgScore.toFixed(1)})]}),a.jsx(ss,{className:"h-8 w-8 text-purple-500"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(me,{className:"lg:col-span-2",children:[a.jsxs(we,{children:[a.jsx(_e,{children:"Monthly Seasonality Heatmap"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Percentage of positive return months by stock and calendar month"})]}),a.jsx(pe,{children:a.jsx(UR,{data:b})})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_e,{children:"Top Performers"}),a.jsxs(Hn,{value:p,onValueChange:_=>x(_),children:[a.jsx(on,{className:"w-48",children:a.jsx(zn,{})}),a.jsxs(an,{children:[a.jsx(Ke,{value:"pct_pos_return_months",children:"Positive Months %"}),a.jsx(Ke,{value:"return_month_mean_pct_return_month",children:"Avg Return"}),a.jsx(Ke,{value:"top_5_accumulated_score",children:"Score"})]})]})]})}),a.jsx(pe,{children:a.jsx(HR,{data:b,metric:p,month:o})})]}),a.jsxs(me,{children:[a.jsxs(we,{children:[a.jsx(_e,{children:"Risk vs Return Analysis"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Average monthly return vs typical drawdown"})]}),a.jsx(pe,{children:a.jsx(zR,{data:b})})]})]}),a.jsxs(me,{children:[a.jsxs(we,{children:[a.jsx(_e,{children:"Detailed Statistics Table"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete monthly performance metrics for all filtered stocks"})]}),a.jsx(pe,{children:a.jsx(KR,{data:b})})]})]})]})};var qR="Separator",Sf="horizontal",YR=["horizontal","vertical"],Jx=l.forwardRef((t,e)=>{const{decorative:r,orientation:n=Sf,...s}=t,o=XR(n)?n:Sf,c=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(Q.div,{"data-orientation":o,...c,...s,ref:e})});Jx.displayName=qR;function XR(t){return YR.includes(t)}var Qx=Jx;const de=l.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>a.jsx(Qx,{ref:s,decorative:r,orientation:e,className:J("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));de.displayName=Qx.displayName;const JR=t=>{const[e,r]=l.useState([]),[n,s]=l.useState(!0),[o,i]=l.useState(null);l.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0),i(null);const f=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/probability_history.csv?${Date.now()}`,`${window.location.origin}/put-options-sedata/probability_history.csv?${Date.now()}`];let h=null,m=null;for(const v of f)try{if(console.log("🔗 Trying probability history URL:",v),m=await fetch(v),m.ok){console.log("✅ Successfully loaded CSV from:",v);break}}catch(p){console.warn("❌ Failed to load from:",v,p),h=p}if(!m||!m.ok)throw h||new Error("Failed to load probability history from any URL");const g=await m.text();ns.parse(g,{header:!0,delimiter:"|",skipEmptyLines:!0,transform:(v,p)=>typeof p=="string"&&["1_2_3_ProbOfWorthless_Weighted","ProbWorthless_Bayesian_IsoCal","1_ProbOfWorthless_Original","2_ProbOfWorthless_Calibrated","3_ProbOfWorthless_Historical_IV"].includes(p)?v===""||v===null||v===void 0?null:parseFloat(v):v,complete:v=>{console.log("Probability history data loaded:",v.data.length,"rows"),r(v.data),s(!1)},error:v=>{console.error("Error parsing probability history CSV:",v),i("Failed to parse probability history data"),s(!1)}})}catch(f){console.error("Error loading probability history data:",f),i("Failed to load probability history data"),s(!1)}},d=f=>e.filter(h=>String(h.OptionName)===f).sort((h,m)=>new Date(h.Update_date).getTime()-new Date(m.Update_date).getTime()),u=t?d(t):[];return{allData:e,optionData:u,isLoading:n,error:o,getProbabilityHistoryForOption:d}},sa=[{key:"1_2_3_ProbOfWorthless_Weighted",name:"Weighted Average",color:"#2563eb"},{key:"ProbWorthless_Bayesian_IsoCal",name:"Bayesian IsoCal",color:"#dc2626"},{key:"1_ProbOfWorthless_Original",name:"Original",color:"#16a34a"},{key:"2_ProbOfWorthless_Calibrated",name:"Calibrated",color:"#ca8a04"},{key:"3_ProbOfWorthless_Historical_IV",name:"Historical IV",color:"#9333ea"}],QR=({optionName:t})=>{const{optionData:e,isLoading:r,error:n}=JR(t),[s,o]=l.useState(new Set(sa.map(h=>h.key)));if(r)return a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Probability History Chart"})}),a.jsx(pe,{children:a.jsx("div",{className:"h-96 flex items-center justify-center",children:"Loading probability history..."})})]});if(n)return a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Probability History Chart"})}),a.jsx(pe,{children:a.jsxs("div",{className:"h-96 flex items-center justify-center text-muted-foreground",children:["Error loading probability history: ",n]})})]});if(e.length===0)return a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Probability History Chart"})}),a.jsx(pe,{children:a.jsx("div",{className:"h-96 flex items-center justify-center text-muted-foreground",children:"No probability history data available for this option"})})]});const i=()=>{const h=e.flatMap(y=>sa.filter(b=>s.has(b.key)).map(b=>y[b.key]).filter(b=>b!=null));if(h.length===0)return[0,1];const m=Math.min(...h),g=Math.max(...h),v=(g-m)*.1,p=Math.max(0,m-v),x=Math.min(1,g+v);return[p,x]},c=(h,m)=>h==null?["N/A",m]:[`${(h*100).toFixed(2)}%`,m],d=h=>`${(h*100).toFixed(0)}%`,u=h=>new Date(h).toISOString().split("T")[0],f=h=>{const m=new Set(s);m.has(h)?m.delete(h):m.add(h),o(m)};return a.jsxs(me,{children:[a.jsxs(we,{className:"space-y-4",children:[a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(la,{className:"h-5 w-5"}),"Probability of Worthless History"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select probability types to display:"}),a.jsx("div",{className:"flex flex-wrap gap-4",children:sa.map(h=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kt,{id:h.key,checked:s.has(h.key),onCheckedChange:()=>f(h.key)}),a.jsxs("label",{htmlFor:h.key,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:[a.jsx("span",{className:"inline-block w-3 h-3 mr-2 rounded-full",style:{backgroundColor:h.color}}),h.name]})]},h.key))})]})]}),a.jsx(pe,{children:a.jsx("div",{className:"h-[480px]",children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(Lf,{data:e,children:[a.jsx(Ks,{strokeDasharray:"3 3",className:"opacity-30"}),a.jsx(cn,{dataKey:"Update_date",tickFormatter:u,className:"text-muted-foreground",angle:-45,textAnchor:"end",height:80}),a.jsx(Or,{className:"text-muted-foreground",domain:i(),tickFormatter:d}),a.jsx(ln,{formatter:c,labelFormatter:h=>new Date(h).toISOString().split("T")[0],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),sa.map(h=>s.has(h.key)&&a.jsx(pc,{dataKey:h.key,stroke:h.color,strokeWidth:2,dot:!1,name:h.name,connectNulls:!1},h.key))]})})})})]})},ZR=({option:t})=>{const{underlyingValue:e}=Co(),r=(u,f)=>ua(u,f),n="originalPremium"in t,s=({content:u})=>a.jsx("div",{className:"md:hidden",children:a.jsxs(ci,{children:[a.jsx(li,{asChild:!0,children:a.jsx(lr,{className:"h-3 w-3 text-muted-foreground cursor-pointer"})}),a.jsx(No,{className:"max-w-sm",children:a.jsx("p",{className:"text-sm",children:u})})]})}),o=({content:u,children:f})=>a.jsx("div",{className:"hidden md:block",children:a.jsxs(va,{delayDuration:300,children:[a.jsx(xa,{asChild:!0,children:f}),a.jsx(Qs,{children:a.jsx("p",{children:u})})]})}),i=u=>u<=.6?{level:"High Risk",color:"bg-destructive"}:u<.8?{level:"Medium Risk",color:"bg-accent"}:{level:"Low Risk",color:"bg-secondary"},c=t.ProbWorthless_Bayesian_IsoCal??t["1_2_3_ProbOfWorthless_Weighted"],d=i(c);return a.jsx(qa,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center justify-between",children:[a.jsxs("span",{children:[t.StockName," - ",t.OptionName]}),a.jsx(ls,{className:d.color,children:d.level})]})}),a.jsx(pe,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Premium"}),a.jsx("p",{className:"text-lg font-semibold",children:r(t.Premium,"Premium")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Strike Price"}),a.jsx("p",{className:"text-lg font-semibold",children:r(t.StrikePrice,"StrikePrice")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Days to Expiry"}),a.jsx("p",{className:"text-lg font-semibold",children:t.DaysToExpiry})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Stock Price"}),a.jsx("p",{className:"text-lg font-semibold",children:r(t.StockPrice,"StockPrice")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Strike vs Stock %"}),a.jsx("p",{className:"text-lg font-semibold",children:r((t.StrikePrice-t.StockPrice)/t.StockPrice,"Pct")})]})]})})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:["Pricing",n&&a.jsxs(ls,{variant:"secondary",className:"text-xs",children:["Recalculated for ",e.toLocaleString()]})]})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Underlying Value (Investment)"}),a.jsx("span",{className:"font-medium",children:e.toLocaleString()})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Strike Price"}),a.jsx("span",{className:"font-medium",children:r(t.StrikePrice,"StrikePrice")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Number of Contracts Based on Limit"}),a.jsx("span",{className:"font-medium",children:r(t.NumberOfContractsBasedOnLimit,"NumberOfContractsBasedOnLimit")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Bid Price"}),a.jsx("span",{className:"font-medium",children:r(t.Bid,"Bid")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ask Price"}),a.jsx("span",{className:"font-medium",children:r(t.Ask,"Ask")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Bid-Ask Mid Price"}),a.jsx("span",{className:"font-medium",children:r(t.Bid_Ask_Mid_Price,"Bid_Ask_Mid_Price")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Option Price Min"}),a.jsx("span",{className:"font-medium",children:r(t.Option_Price_Min,"Option_Price_Min")})]}),n&&a.jsxs(a.Fragment,{children:[a.jsx(de,{}),a.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg space-y-2",children:[a.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Original vs Recalculated Values"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Original Premium:"}),a.jsx("span",{children:r(t.originalPremium,"Premium")})]}),a.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[a.jsx("span",{children:"Current Premium:"}),a.jsx("span",{children:r(t.Premium,"Premium")})]})]})]})]})]}),a.jsx(QR,{optionName:t.OptionName}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Events Before Expiry Day"})}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Financial Report"}),a.jsx("p",{className:"font-medium",children:r(t.FinancialReport,"FinancialReport")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"X-Day"}),a.jsx("p",{className:"font-medium",children:r(t["X-Day"],"X-Day")})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Risk Metrics"})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Historical 100Days Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.Historical100DaysWorstDecline,"Historical100DaysWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Historical 50Days Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.Historical50DaysWorstDecline,"Historical50DaysWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"2008 100Days Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t["2008_100DaysWorstDecline"],"2008_100DaysWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"2008 50Days Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t["2008_50DaysWorstDecline"],"2008_50DaysWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Worst Historical Decline"}),a.jsx("span",{className:"font-medium",children:r(t.WorstHistoricalDecline,"WorstHistoricalDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Bad Historical Decline"}),a.jsx("span",{className:"font-medium",children:r(t.BadHistoricalDecline,"BadHistoricalDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stock Price After 100Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.StockPrice_After_100DayWorstDecline,"StockPrice_After_100DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stock Price After 50Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.StockPrice_After_50DayWorstDecline,"StockPrice_After_50DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stock Price After 2008 50Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.StockPrice_After_2008_50DayWorstDecline,"StockPrice_After_2008_50DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stock Price After 2008 100Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.StockPrice_After_2008_100DayWorstDecline,"StockPrice_After_2008_100DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"100Day Max Price"}),a.jsx("span",{className:"font-medium",children:r(t["100DayMaxPrice"],"100DayMaxPrice")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"100Day Max Price Date"}),a.jsx("span",{className:"font-medium",children:r(t["100DayMaxPriceDate"],"100DayMaxPriceDate")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"50Day Max Price"}),a.jsx("span",{className:"font-medium",children:r(t["50DayMaxPrice"],"50DayMaxPrice")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"50Day Max Price Date"}),a.jsx("span",{className:"font-medium",children:r(t["50DayMaxPriceDate"],"50DayMaxPriceDate")})]})]})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Risk Metrics (Absolute Values)"})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Figures Assume Underlying Value"}),a.jsx("span",{className:"font-medium",children:r(t.Underlying_Value,"Underlying_Value")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"100k Invested Loss Mean"}),a.jsx("span",{className:"font-medium",children:r(t["100k_Invested_Loss_Mean"],"100k_Invested_Loss_Mean")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss Least Bad"}),a.jsx("span",{className:"font-medium",children:r(t.Loss_Least_Bad,"Loss_Least_Bad")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss At 2008 100Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.LossAt_2008_100DayWorstDecline,"LossAt_2008_100DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss At 2008 50Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.LossAt_2008_50DayWorstDecline,"LossAt_2008_50DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss At 100Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.LossAt100DayWorstDecline,"LossAt100DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss At 50Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.LossAt50DayWorstDecline,"LossAt50DayWorstDecline")})]})]})]})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Volatility"})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Implied Volatility (Current)"}),a.jsx(o,{content:"Current Option",children:a.jsx(lr,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(s,{content:"Current Option"})]}),a.jsx("span",{className:"font-medium",children:r(t.ImpliedVolatility,"ImpliedVolatility")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Implied Volatility (Market Median)"}),a.jsx(o,{content:"Median All Stock Options Nearest Strike, ≤ 100 Days to Expiry",children:a.jsx(lr,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(s,{content:"Median All Stock Options Nearest Strike, ≤ 100 Days to Expiry"})]}),a.jsx("span",{className:"font-medium",children:r(t.AllMedianIV_Maximum100DaysToExp,"AllMedianIV_Maximum100DaysToExp")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Implied Volatility (Stock Median)"}),a.jsx(o,{content:"Median All Stock Options, ≤ 100 Days to Expiry",children:a.jsx(lr,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(s,{content:"Median All Stock Options, ≤ 100 Days to Expiry"})]}),a.jsx("span",{className:"font-medium",children:r(t.TodayStockMedianIV_Maximum100DaysToExp,"TodayStockMedianIV_Maximum100DaysToExp")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Lower Bound"}),a.jsx("span",{className:"font-medium",children:r(t.Lower_Bound,"Lower_Bound")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Lower Bound at Accuracy"}),a.jsx("span",{className:"font-medium",children:r(t.Lower_Bound_at_Accuracy,"Lower_Bound_at_Accuracy")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Lower Bound Hist Median IV"}),a.jsx("span",{className:"font-medium",children:r(t.Lower_Bound_HistMedianIV,"Lower_Bound_HistMedianIV")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Lower Bound Hist Median IV at Accuracy"}),a.jsx("span",{className:"font-medium",children:r(t.Lower_Bound_HistMedianIV_at_Accuracy,"Lower_Bound_HistMedianIV_at_Accuracy")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Implied Volatility Until Expiry"}),a.jsx("span",{className:"font-medium",children:r(t.ImpliedVolatilityUntilExpiry,"ImpliedVolatilityUntilExpiry")})]})]})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Probability of Worthless Bayesian IsoCal Monte Carlo Simulation"})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Mean Earnings"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Simulation_Mean_Earnings,"PoW_Simulation_Mean_Earnings")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stats Median Loss"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Stats_MedianLoss,"PoW_Stats_MedianLoss")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stats Median Loss Pct"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Stats_MedianLossPct,"PoW_Stats_MedianLossPct")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stats Worst Loss"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Stats_WorstLoss,"PoW_Stats_WorstLoss")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stats Worst Loss Pct"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Stats_WorstLossPct,"PoW_Stats_WorstLossPct")})]})]})]})]})]})})},eA=()=>{const{optionId:t}=Ff(),e=yn();hl();const{data:r}=vd(),n=vi(r),s=()=>{e(-1)},o=n.find(i=>encodeURIComponent(i.OptionName)===t);return o?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Option Details"}),a.jsxs(ee,{variant:"outline",onClick:s,className:"flex items-center gap-2",children:[a.jsx(Gt,{className:"h-4 w-4"}),"Back to Overview"]})]}),a.jsx(ZR,{option:o})]}):a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(ee,{variant:"outline",onClick:s,className:"flex items-center gap-2",children:[a.jsx(Gt,{className:"h-4 w-4"}),"Back to Overview"]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Option Not Found"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"The requested option could not be found."})]})]})},tA=({data:t,stockName:e})=>{const[r,n]=l.useState("6M"),[s,o]=l.useState("price"),c=(()=>{if(r==="ALL")return t;const v=new Date,p=r==="1M"?1:r==="3M"?3:r==="6M"?6:12,x=new Date(v.getFullYear(),v.getMonth()-p,v.getDate());return t.filter(y=>new Date(y.date)>=x)})(),d=()=>{if(s==="volume")return["auto","auto"];const v=c.map(b=>b.close);if(v.length===0)return["auto","auto"];const p=Math.min(...v),x=Math.max(...v),y=(x-p)*.1;return[Math.max(0,p-y),x+y]},u=()=>{if(c.length===0)return[];const v=[...c].sort((b,w)=>new Date(b.date).getTime()-new Date(w.date).getTime()),x=new Date(v[v.length-1].date).getDate();let y=[];if(r==="1M")y=v.filter((b,w)=>w%5===0);else if(r==="3M")y=v.filter((b,w)=>w%14===0);else if(r==="6M")y=v.filter(b=>{const w=new Date(b.date);return w.getDate()===x||Math.abs(w.getDate()-x)<=2});else if(r==="1Y")y=v.filter(b=>{const w=new Date(b.date);return w.getDate()===x||Math.abs(w.getDate()-x)<=2});else{const b=v.length,w=Math.max(1,Math.floor(b/8));y=v.filter((_,S)=>S%w===0)}return y.map(b=>b.date)},f=(v,p)=>p==="close"?[`${v.toFixed(2)}`,"Price"]:p==="volume"?[v.toLocaleString(),"Volume"]:[v,p],h=v=>v.toFixed(2),m=v=>v>=1e6?`${(v/1e6).toFixed(1)}M`:v>=1e3?`${(v/1e3).toFixed(0)}K`:v.toString(),g=v=>{const p=new Date(v);return r==="1Y"||r==="ALL"?p.toLocaleDateString("en-US",{month:"short",year:"2-digit"}):p.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return a.jsxs(me,{children:[a.jsxs(we,{className:"space-y-4",children:[a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(la,{className:"h-5 w-5"}),e," Stock Price Chart"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("div",{className:"flex gap-1",children:["1M","3M","6M","1Y","ALL"].map(v=>a.jsx(ee,{variant:r===v?"default":"outline",size:"sm",onClick:()=>n(v),children:v},v))}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs(ee,{variant:s==="price"?"default":"outline",size:"sm",onClick:()=>o("price"),children:[a.jsx(ss,{className:"h-4 w-4 mr-1"}),"Price"]}),a.jsxs(ee,{variant:s==="volume"?"default":"outline",size:"sm",onClick:()=>o("volume"),children:[a.jsx(qs,{className:"h-4 w-4 mr-1"}),"Volume"]}),a.jsx(ee,{variant:s==="both"?"default":"outline",size:"sm",onClick:()=>o("both"),children:"Both"})]})]})]}),a.jsx(pe,{children:a.jsx("div",{className:"h-96",children:a.jsx(rs,{width:"100%",height:"100%",children:s==="both"?a.jsxs(ry,{data:c,children:[a.jsx(Ks,{strokeDasharray:"3 3",className:"opacity-30"}),a.jsx(cn,{dataKey:"date",tickFormatter:g,className:"text-muted-foreground",ticks:u()}),a.jsx(Or,{yAxisId:"price",orientation:"left",className:"text-muted-foreground",domain:d(),tickFormatter:h}),a.jsx(Or,{yAxisId:"volume",orientation:"right",className:"text-muted-foreground",tickFormatter:m}),a.jsx(ln,{formatter:f,labelFormatter:v=>new Date(v).toISOString().split("T")[0],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(mc,{}),a.jsx(pc,{yAxisId:"price",dataKey:"close",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1,name:"Price"}),a.jsx(fl,{yAxisId:"volume",dataKey:"volume",fill:"hsl(var(--muted-foreground))",fillOpacity:.3,name:"Volume"})]}):a.jsxs(Lf,{data:c,children:[a.jsx(Ks,{strokeDasharray:"3 3",className:"opacity-30"}),a.jsx(cn,{dataKey:"date",tickFormatter:g,className:"text-muted-foreground",ticks:u()}),a.jsx(Or,{className:"text-muted-foreground",domain:s==="price"?d():["auto","auto"],tickFormatter:s==="price"?h:m}),a.jsx(ln,{formatter:f,labelFormatter:v=>new Date(v).toISOString().split("T")[0],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(mc,{}),a.jsx(pc,{dataKey:s==="price"?"close":"volume",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1,name:s==="price"?"Price":"Volume"})]})})})})]})},rA=({stockData:t,stockSummary:e})=>{const r=e.priceChange>=0,{getPriceRangeForPeriod:n}=xi(),s=[{label:"1 Week",days:7},{label:"1 Month",days:30},{label:"3 Months",days:90},{label:"6 Months",days:180},{label:"9 Months",days:270},{label:"1 Year",days:365}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(qs,{className:"h-6 w-6"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:e.name}),a.jsx("p",{className:"text-muted-foreground",children:"Stock Analysis"})]})]}),a.jsxs(ls,{variant:r?"default":"destructive",className:"text-lg px-3 py-1",children:[r?a.jsx(ss,{className:"h-4 w-4 mr-1"}):a.jsx(Pb,{className:"h-4 w-4 mr-1"}),r?"+":"",e.priceChangePercent.toFixed(2),"%"]})]})}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Price"}),a.jsx("p",{className:"text-2xl font-bold",children:e.currentPrice.toFixed(2)}),a.jsxs("p",{className:`text-sm ${r?"text-green-600":"text-red-600"}`,children:[r?"+":"",e.priceChange.toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(hb,{className:"h-4 w-4"}),"Median Daily Volume"]}),a.jsx("p",{className:"text-xl font-semibold",children:ua(e.medianVolume,"volume")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(da,{className:"h-4 w-4"}),"1 Year Range"]}),a.jsxs("p",{className:"text-lg font-medium",children:[e.lowPrice52Week.toFixed(2)," - ",e.highPrice52Week.toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(la,{className:"h-4 w-4"}),"Volatility"]}),a.jsxs("p",{className:"text-xl font-semibold",children:[e.volatility.toFixed(1),"%"]})]})]})})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(da,{className:"h-5 w-5"}),"Price Ranges"]})}),a.jsx(pe,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:s.map(o=>{const i=n(e.name,o.days);return a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:o.label}),i?a.jsxs("p",{className:"text-sm font-semibold",children:[i.low.toFixed(2)," - ",i.high.toFixed(2)]}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"No data"})]},o.days)})})})]}),a.jsx(tA,{data:t,stockName:e.name}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(ss,{className:"h-5 w-5"}),"Performance Metrics"]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"1-Day Change"}),a.jsxs("span",{className:r?"text-green-600":"text-red-600",children:[r?"+":"",e.priceChangePercent.toFixed(2),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"1-Year High"}),a.jsx("span",{className:"font-medium",children:e.highPrice52Week.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"1-Year Low"}),a.jsx("span",{className:"font-medium",children:e.lowPrice52Week.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Distance from 1-Year High"}),a.jsxs("span",{className:"font-medium",children:[((e.currentPrice-e.highPrice52Week)/e.highPrice52Week*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Distance from 1-Year Low"}),a.jsxs("span",{className:"font-medium",children:[((e.currentPrice-e.lowPrice52Week)/e.lowPrice52Week*100).toFixed(1),"%"]})]})]})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(la,{className:"h-5 w-5"}),"Risk Metrics"]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Annualized Volatility"}),a.jsxs("span",{className:"font-medium",children:[e.volatility.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Median Volume"}),a.jsx("span",{className:"font-medium",children:ua(e.medianVolume,"volume")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Price Range (1Y)"}),a.jsx("span",{className:"font-medium",children:(e.highPrice52Week-e.lowPrice52Week).toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Range Ratio"}),a.jsxs("span",{className:"font-medium",children:[(e.highPrice52Week/e.lowPrice52Week).toFixed(2),"x"]})]})]})]})]})]})},nA=()=>{const{stockName:t}=Ff(),e=yn();hl();const{getStockData:r,getStockSummary:n,isLoading:s,error:o}=xi(),i=()=>{e(-1)};if(!t)return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(ee,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Gt,{className:"h-4 w-4"}),"Back to Options"]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Invalid Stock"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"No stock name provided."})]})]});const c=decodeURIComponent(t),d=r(c),u=n(c);return s?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(ee,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Gt,{className:"h-4 w-4"}),"Back to Options"]})}),a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(bb,{className:"h-8 w-8 animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading stock data..."})]})})]}):o?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(ee,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Gt,{className:"h-4 w-4"}),"Back to Options"]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Error Loading Stock Data"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:o})]})]}):!u||d.length===0?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(ee,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Gt,{className:"h-4 w-4"}),"Back to Options"]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Stock Not Found"}),a.jsxs("p",{className:"text-muted-foreground mt-2",children:['No data available for "',c,'".']})]})]}):a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Stock Analysis"}),a.jsxs(ee,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Gt,{className:"h-4 w-4"}),"Back to Options"]})]}),a.jsx(rA,{stockData:d,stockSummary:u})]})},sA=()=>{const t=ml(),{session:e,loading:r}=So();return l.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname,"Session:",!!e,"Loading:",r)},[t.pathname,e,r]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsx(Gs,{to:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"}),a.jsx(Gs,{to:"/auth",className:"text-blue-500 hover:text-blue-700 underline",children:"Go to Login"})]})]})})},oA=()=>{const{signIn:t,signUp:e,session:r}=So(),n=yn(),s=ml(),[o,i]=l.useState(""),[c,d]=l.useState(""),[u,f]=l.useState(null),[h,m]=l.useState(null),g=l.useMemo(()=>{var x,y;return((y=(x=s.state)==null?void 0:x.from)==null?void 0:y.pathname)||"/"},[s.state]);l.useEffect(()=>{document.title="Sign in | Put Options SE"},[]),l.useEffect(()=>{r&&n(g,{replace:!0})},[r,n,g]);const v=async x=>{x.preventDefault(),f(null),m(null);const{error:y}=await t(o,c);if(y){console.error("Supabase sign-in error:",y);const b=y.message==="Failed to fetch"?"Network/CORS error. Please check your connection and try again.":y.message??"Failed to sign in";f(b)}},p=async x=>{x.preventDefault(),f(null),m(null);const{error:y}=await e(o,c);if(y){console.error("Supabase sign-up error:",y);const b=y.message==="Failed to fetch"?"Network/CORS error. Please check your connection and try again.":y.message??"Failed to sign up";f(b)}else m("Check your email to confirm your account, then return here.")};return a.jsx("main",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsx(we,{children:a.jsx(_e,{className:"text-center",children:"Sign in to Put Options SE"})}),a.jsx(pe,{children:a.jsxs(gd,{defaultValue:"signin",children:[a.jsxs(gi,{className:"grid grid-cols-2 w-full",children:[a.jsx(fn,{value:"signin",children:"Sign In"}),a.jsx(fn,{value:"signup",children:"Sign Up"})]}),a.jsx(hn,{value:"signin",children:a.jsxs("form",{onSubmit:v,className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"email",children:"Email"}),a.jsx(Qe,{id:"email",type:"email",value:o,onChange:x=>i(x.target.value),required:!0,placeholder:"you@example.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"password",children:"Password"}),a.jsx(Qe,{id:"password",type:"password",value:c,onChange:x=>d(x.target.value),required:!0,placeholder:"Your password"})]}),u&&a.jsx("p",{className:"text-sm",children:u}),a.jsx(ee,{type:"submit",className:"w-full",children:"Sign In"})]})}),a.jsx(hn,{value:"signup",children:a.jsxs("form",{onSubmit:p,className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"email2",children:"Email"}),a.jsx(Qe,{id:"email2",type:"email",value:o,onChange:x=>i(x.target.value),required:!0,placeholder:"you@example.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{htmlFor:"password2",children:"Password"}),a.jsx(Qe,{id:"password2",type:"password",value:c,onChange:x=>d(x.target.value),required:!0,placeholder:"Create a strong password"})]}),u&&a.jsx("p",{className:"text-sm",children:u}),h&&a.jsx("p",{className:"text-sm",children:h}),a.jsx(ee,{type:"submit",className:"w-full",children:"Create Account"})]})})]})})]})})},aA=()=>{const t=yn();return l.useEffect(()=>{const e=setTimeout(async()=>{const{data:{session:r}}=await ir.auth.getSession();t(r?"/":"/auth",{replace:!0})},800);return()=>clearTimeout(e)},[t]),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{children:"Finishing sign in…"}),a.jsxs("p",{className:"mt-2",children:["If you are not redirected, ",a.jsx(Gs,{to:"/auth",className:"underline",children:"go to login"}),"."]})]})},As=({children:t})=>{const{session:e,loading:r}=So(),n=ml();return console.log("ProtectedRoute - session:",!!e,"loading:",r,"location:",n.pathname),r?a.jsx("div",{className:"p-6",children:"Loading..."}):e?a.jsx(a.Fragment,{children:t}):a.jsx(ny,{to:"/auth",replace:!0,state:{from:n}})};class iA extends l.Component{constructor(){super(...arguments);Md(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r,n;return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"The application encountered an error and couldn't render properly."}),a.jsxs("details",{className:"text-left text-sm bg-muted p-4 rounded mb-4",children:[a.jsx("summary",{className:"cursor-pointer font-medium",children:"Error details"}),a.jsxs("pre",{className:"mt-2 text-xs overflow-auto",children:[(r=this.state.error)==null?void 0:r.message,`
`,(n=this.state.error)==null?void 0:n.stack]})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Reload Page"})]})}):this.props.children}}const cA=new M_,lA=()=>{const{session:t,signOut:e}=So();return a.jsxs("header",{className:"w-full flex items-center justify-between px-4 py-2",children:[a.jsx(Gs,{to:"/",className:"font-semibold",children:"Put Options SE"}),a.jsx("div",{children:t?a.jsx(ee,{variant:"outline",onClick:e,children:"Sign out"}):a.jsx(ee,{asChild:!0,children:a.jsx(Gs,{to:"/auth",children:"Sign in"})})})]})},dA=()=>{const t=window.location.hostname==="datamilo.github.io",e=t?"/put-options-se":"";return console.log("App component rendering",{location:window.location.href,pathname:window.location.pathname,hash:window.location.hash,hostname:window.location.hostname,isGitHubPages:t,basename:e}),a.jsx($_,{client:cA,children:a.jsx(uw,{attribute:"class",defaultTheme:"light",storageKey:"vite-ui-theme",children:a.jsx(rj,{children:a.jsx(nj,{children:a.jsx(qa,{children:a.jsxs(iA,{children:[a.jsx(cw,{}),a.jsx(Bw,{}),a.jsxs(sy,{basename:e,children:[a.jsx(lA,{}),a.jsxs(oy,{children:[a.jsx(gr,{path:"/auth",element:a.jsx(oA,{})}),a.jsx(gr,{path:"/auth/callback",element:a.jsx(aA,{})}),a.jsx(gr,{path:"/",element:a.jsx(As,{children:a.jsx(PT,{})})}),a.jsx(gr,{path:"/portfolio-generator",element:a.jsx(As,{children:a.jsx(ET,{})})}),a.jsx(gr,{path:"/monthly-analysis",element:a.jsx(As,{children:a.jsx(GR,{})})}),a.jsx(gr,{path:"/option/:optionId",element:a.jsx(As,{children:a.jsx(eA,{})})}),a.jsx(gr,{path:"/stock/:stockName",element:a.jsx(As,{children:a.jsx(nA,{})})}),a.jsx(gr,{path:"*",element:a.jsx(sA,{})})]})]})]})})})})})})};console.log("Main.tsx loading...",{env:"production",base:"/put-options-se",location:window.location.href,origin:window.location.origin});try{console.log("DOM ready, attempting to render React app...");const t=document.getElementById("root");if(!t)throw new Error("Root element not found in DOM");Vf(t).render(a.jsx(dA,{})),console.log("✅ App rendered successfully on GitHub Pages")}catch(t){console.error("❌ Failed to render app:",t);const e=t instanceof Error?t.message:String(t);document.body.innerHTML=`
    <div style="padding: 20px; font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; background: #f5f5f5; border-radius: 8px;">
      <h1 style="color: #d32f2f;">Application Error</h1>
      <p>Failed to load the Put Options SE application.</p>
      <details style="margin: 20px 0; padding: 10px; background: white; border-radius: 4px;">
        <summary style="cursor: pointer; font-weight: bold;">Error Details</summary>
        <pre style="margin-top: 10px; font-size: 12px; overflow: auto;">${e}</pre>
      </details>
      <div style="margin-top: 20px;">
        <button onclick="window.location.reload()" style="padding: 10px 20px; background: #1976d2; color: white; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;">
          Reload Page
        </button>
        <button onclick="window.location.href='https://put-options-se.lovable.app/'" style="padding: 10px 20px; background: #2e7d32; color: white; border: none; border-radius: 4px; cursor: pointer;">
          Go to Staging
        </button>
      </div>
      <p style="margin-top: 20px; font-size: 12px; color: #666;">
        Base URL: /put-options-se<br>
        Mode: production<br>
        Location: ${window.location.href}
      </p>
    </div>
  `}
