import{k,j as e,L as c,I as o,B as y}from"./index-m-D8N6ZR.js";import{h as E,u as F,r as t}from"./router-C0wDHNfv.js";import{u as I}from"./usePageTitle-CpPgFbZv.js";import{C as T,a as P,b as A,c as L}from"./card-CFv4AOJA.js";import{T as q,a as R,b as w,c as N}from"./tabs-BAV5jQe8.js";import"./charts-B8eVsusH.js";const M=()=>{I("Login");const{signIn:v,signUp:b,session:u}=k(),x=E(),p=F(),[r,h]=t.useState(""),[l,f]=t.useState(""),[n,i]=t.useState(null),[g,m]=t.useState(null),j=t.useMemo(()=>{var s,a;return((a=(s=p.state)==null?void 0:s.from)==null?void 0:a.pathname)||"/"},[p.state]);t.useEffect(()=>{u&&x(j,{replace:!0})},[u,x,j]);const S=async s=>{s.preventDefault(),i(null),m(null);const{error:a}=await v(r,l);if(a){console.error("Supabase sign-in error:",a);const d=a.message==="Failed to fetch"?"Network/CORS error. Please check your connection and try again.":a.message??"Failed to sign in";i(d)}},C=async s=>{s.preventDefault(),i(null),m(null);const{error:a}=await b(r,l);if(a){console.error("Supabase sign-up error:",a);const d=a.message==="Failed to fetch"?"Network/CORS error. Please check your connection and try again.":a.message??"Failed to sign up";i(d)}else m("Check your email to confirm your account, then return here.")};return e.jsx("main",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl flex flex-col md:flex-row gap-8 items-center",children:[e.jsxs("div",{className:"flex-1 max-w-md space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Put Options SE"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Analytics platform for Swedish put options"})]}),e.jsxs("ul",{className:"space-y-3 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-0.5 h-5 w-5 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-bold shrink-0",children:"1"}),e.jsx("span",{children:"Real-time options data with 67+ fields per contract"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-0.5 h-5 w-5 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-bold shrink-0",children:"2"}),e.jsx("span",{children:"Dual-model scoring combining probability and technical analysis"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-0.5 h-5 w-5 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-bold shrink-0",children:"3"}),e.jsx("span",{children:"Automated portfolio generation with margin estimates"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-0.5 h-5 w-5 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-bold shrink-0",children:"4"}),e.jsx("span",{children:"Historical performance, support levels, and IV analysis"})]})]})]}),e.jsxs(T,{className:"w-full max-w-md",children:[e.jsx(P,{children:e.jsx(A,{className:"text-center",children:"Sign in"})}),e.jsx(L,{children:e.jsxs(q,{defaultValue:"signin",children:[e.jsxs(R,{className:"grid grid-cols-2 w-full",children:[e.jsx(w,{value:"signin",children:"Sign In"}),e.jsx(w,{value:"signup",children:"Sign Up"})]}),e.jsx(N,{value:"signin",children:e.jsxs("form",{onSubmit:S,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",value:r,onChange:s=>h(s.target.value),required:!0,placeholder:"you@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password",children:"Password"}),e.jsx(o,{id:"password",type:"password",value:l,onChange:s=>f(s.target.value),required:!0,placeholder:"Your password"})]}),n&&e.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n}),e.jsx(y,{type:"submit",className:"w-full",children:"Sign In"})]})}),e.jsx(N,{value:"signup",children:e.jsxs("form",{onSubmit:C,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email2",children:"Email"}),e.jsx(o,{id:"email2",type:"email",value:r,onChange:s=>h(s.target.value),required:!0,placeholder:"you@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password2",children:"Password"}),e.jsx(o,{id:"password2",type:"password",value:l,onChange:s=>f(s.target.value),required:!0,placeholder:"Create a strong password"})]}),n&&e.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n}),g&&e.jsx("p",{className:"text-sm text-success",role:"status",children:g}),e.jsx(y,{type:"submit",className:"w-full",children:"Create Account"})]})})]})})]})]})})};export{M as default};
