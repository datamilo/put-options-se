const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Index-93VtzDu3.js","assets/router-C0wDHNfv.js","assets/usePageTitle-CpPgFbZv.js","assets/data-timestamp-CMUnQ5nQ.js","assets/table-HqYCl6OD.js","assets/scroll-area-DrcYSP2b.js","assets/checkbox-DoLqnuTW.js","assets/badge-CHzMNEoj.js","assets/excelExport-Cs-ALxfi.js","assets/xlsx-CFAW_Hl2.js","assets/info-DTjHuAI_.js","assets/arrow-up-down-BIre76zI.js","assets/card-CFv4AOJA.js","assets/tabs-BAV5jQe8.js","assets/charts-B8eVsusH.js","assets/useEnrichedOptionsData-CGjGgNf5.js","assets/csv-B1Pu-2A6.js","assets/useStockData-BWzV3G2_.js","assets/file-text-Crd3rh1b.js","assets/rotate-ccw-DPye7aKO.js","assets/chart-column-CsWshXwX.js","assets/PortfolioGenerator-D7kOUDv2.js","assets/numberFormatting-BNPfGtWN.js","assets/useScoredOptionsData-CBTYEUqF.js","assets/info-icon-tooltip-C8Op9q7s.js","assets/arrow-left-BK2xRd6H.js","assets/MonthlyAnalysis-CgabMRe_.js","assets/select-BQ6yrQU9.js","assets/popover-De4Q49RE.js","assets/useMonthlyStockData-CuShNDzV.js","assets/arrow-up-MVoUlZXt.js","assets/trending-down-CTavU2yR.js","assets/VolatilityAnalysis-Dy-7FWKd.js","assets/useVolatilityData-C2pxXklU.js","assets/ConsecutiveBreaksAnalysis-DY74ui8R.js","assets/plotly-BwgeWk54.js","assets/plotly-CuCRB34y.css","assets/SupportBasedOptionFinder-DqnjabSa.js","assets/useSupportLevelMetrics-DrzEGGKY.js","assets/OptionDetailsPage-DogxtJEU.js","assets/useProbabilityHistory-CJabXNgn.js","assets/StockDetailsPage-DxtrXVIQ.js","assets/breadcrumb-C1snBrEC.js","assets/ProbabilityAnalysis-BW7w-2yH.js","assets/useProbabilityRecoveryData-5JhFCbWq.js","assets/LowerBoundAnalysis-0Ff4WwUq.js","assets/circle-alert-DOox_Rm3.js","assets/alert-B4H-4WeZ.js","assets/AutomatedRecommendations-U84AcvS2.js","assets/circle-x-aIwZ_57S.js","assets/ScoredOptions-D0TkSVG6.js","assets/IVAnalysis-DGc7tAtx.js","assets/NotFound-N0T-g8kQ.js","assets/Auth-iF4Rr6II.js","assets/AuthCallback-EcekdPkt.js"])))=>i.map(i=>d[i]);
var vh=Object.defineProperty;var Ii=t=>{throw TypeError(t)};var yh=(t,e,r)=>e in t?vh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ni=(t,e,r)=>yh(t,typeof e!="symbol"?e+"":e,r),$s=(t,e,r)=>e.has(t)||Ii("Cannot "+r);var T=(t,e,r)=>($s(t,e,"read from private field"),r?r.call(t):e.get(t)),Y=(t,e,r)=>e.has(t)?Ii("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),V=(t,e,r,n)=>($s(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),we=(t,e,r)=>($s(t,e,"access private method"),r);var Tn=(t,e,r,n)=>({set _(s){V(t,e,s,r)},get _(){return T(t,e,n)}});import{r as h,a as cs,R as P,b as vc,d as zo,u as qo,N as wh,L as Se,B as bh,e as _h,f as ge}from"./router-C0wDHNfv.js";import{c as yc}from"./charts-B8eVsusH.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var wc={exports:{}},ls={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=h,Sh=Symbol.for("react.element"),Eh=Symbol.for("react.fragment"),Ch=Object.prototype.hasOwnProperty,Th=xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rh={key:!0,ref:!0,__self:!0,__source:!0};function bc(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Ch.call(e,n)&&!Rh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Sh,type:t,key:o,ref:i,props:s,_owner:Th.current}}ls.Fragment=Eh;ls.jsx=bc;ls.jsxs=bc;wc.exports=ls;var p=wc.exports,_c,Di=cs;_c=Di.createRoot,Di.hydrateRoot;const kh="modulepreload",Ah=function(t){return"/put-options-se/"+t},Mi={},xe=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Ah(c),c in Mi)return;Mi[c]=!0;const l=c.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":kh,l||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((m,u)=>{f.addEventListener("load",m),f.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},Ph=1,Oh=1e6;let Ls=0;function jh(){return Ls=(Ls+1)%Number.MAX_SAFE_INTEGER,Ls.toString()}const Us=new Map,$i=t=>{if(Us.has(t))return;const e=setTimeout(()=>{Us.delete(t),Yr({type:"REMOVE_TOAST",toastId:t})},Oh);Us.set(t,e)},Ih=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Ph)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?$i(r):t.toasts.forEach(n=>{$i(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Wn=[];let zn={toasts:[]};function Yr(t){zn=Ih(zn,t),Wn.forEach(e=>{e(zn)})}function Nh({...t}){const e=jh(),r=s=>Yr({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Yr({type:"DISMISS_TOAST",toastId:e});return Yr({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function Dh(){const[t,e]=h.useState(zn);return h.useEffect(()=>(Wn.push(e),()=>{const r=Wn.indexOf(e);r>-1&&Wn.splice(r,1)}),[t]),{...t,toast:Nh,dismiss:r=>Yr({type:"DISMISS_TOAST",toastId:r})}}function M(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Li(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mt(...t){return e=>{let r=!1;const n=t.map(s=>{const o=Li(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Li(t[s],null)}}}}function re(...t){return h.useCallback(Mt(...t),t)}function Mh(t,e){const r=h.createContext(e),n=o=>{const{children:i,...a}=o,c=h.useMemo(()=>a,Object.values(a));return p.jsx(r.Provider,{value:c,children:i})};n.displayName=t+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function mt(t,e=[]){let r=[];function n(o,i){const a=h.createContext(i),c=r.length;r=[...r,i];const l=f=>{var w;const{scope:m,children:u,...v}=f,g=((w=m==null?void 0:m[t])==null?void 0:w[c])||a,y=h.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:u})};l.displayName=o+"Provider";function d(f,m){var g;const u=((g=m==null?void 0:m[t])==null?void 0:g[c])||a,v=h.useContext(u);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[l,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[n,$h(s,...e)]}function $h(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:l})=>{const f=c(o)[`__scope${l}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function Ui(t){const e=Lh(t),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),c=a.find(Fh);if(c){const l=c.props.children,d=a.map(f=>f===c?h.Children.count(l)>1?h.Children.only(null):h.isValidElement(l)?l.props.children:null:f);return p.jsx(e,{...i,ref:s,children:h.isValidElement(l)?h.cloneElement(l,void 0,d):null})}return p.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function Lh(t){const e=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=Vh(s),a=Bh(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Mt(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Uh=Symbol("radix.slottable");function Fh(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Uh}function Bh(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function Vh(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function us(t){const e=t+"CollectionProvider",[r,n]=mt(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:y,children:w}=g,x=P.useRef(null),b=P.useRef(new Map).current;return p.jsx(s,{scope:y,itemMap:b,collectionRef:x,children:w})};i.displayName=e;const a=t+"CollectionSlot",c=Ui(a),l=P.forwardRef((g,y)=>{const{scope:w,children:x}=g,b=o(a,w),_=re(y,b.collectionRef);return p.jsx(c,{ref:_,children:x})});l.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=Ui(d),u=P.forwardRef((g,y)=>{const{scope:w,children:x,...b}=g,_=P.useRef(null),S=re(y,_),E=o(d,w);return P.useEffect(()=>(E.itemMap.set(_,{ref:_,...b}),()=>void E.itemMap.delete(_))),p.jsx(m,{[f]:"",ref:S,children:x})});u.displayName=d;function v(g){const y=o(t+"CollectionConsumer",g);return P.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((E,R)=>b.indexOf(E.ref.current)-b.indexOf(R.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:l,ItemSlot:u},v,n]}function Wh(t){const e=zh(t),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),c=a.find(Kh);if(c){const l=c.props.children,d=a.map(f=>f===c?h.Children.count(l)>1?h.Children.only(null):h.isValidElement(l)?l.props.children:null:f);return p.jsx(e,{...i,ref:s,children:h.isValidElement(l)?h.cloneElement(l,void 0,d):null})}return p.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function zh(t){const e=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=Gh(s),a=Hh(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Mt(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qh=Symbol("radix.slottable");function Kh(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qh}function Hh(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function Gh(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Jh=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Q=Jh.reduce((t,e)=>{const r=Wh(`Primitive.${e}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ko(t,e){t&&cs.flushSync(()=>t.dispatchEvent(e))}function Ie(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Yh(t,e=globalThis==null?void 0:globalThis.document){const r=Ie(t);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Qh="DismissableLayer",co="dismissableLayer.update",Xh="dismissableLayer.pointerDownOutside",Zh="dismissableLayer.focusOutside",Fi,xc=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gn=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=t,l=h.useContext(xc),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,u]=h.useState({}),v=re(e,R=>f(R)),g=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),x=d?g.indexOf(d):-1,b=l.layersWithOutsidePointerEventsDisabled.size>0,_=x>=w,S=tf(R=>{const C=R.target,k=[...l.branches].some(I=>I.contains(C));!_||k||(s==null||s(R),i==null||i(R),R.defaultPrevented||a==null||a())},m),E=rf(R=>{const C=R.target;[...l.branches].some(I=>I.contains(C))||(o==null||o(R),i==null||i(R),R.defaultPrevented||a==null||a())},m);return Yh(R=>{x===l.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},m),h.useEffect(()=>{if(d)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Fi=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),Bi(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Fi)}},[d,m,r,l]),h.useEffect(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),Bi())},[d,l]),h.useEffect(()=>{const R=()=>u({});return document.addEventListener(co,R),()=>document.removeEventListener(co,R)},[]),p.jsx(Q.div,{...c,ref:v,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:M(t.onFocusCapture,E.onFocusCapture),onBlurCapture:M(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:M(t.onPointerDownCapture,S.onPointerDownCapture)})});gn.displayName=Qh;var ef="DismissableLayerBranch",Sc=h.forwardRef((t,e)=>{const r=h.useContext(xc),n=h.useRef(null),s=re(e,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),p.jsx(Q.div,{...t,ref:s})});Sc.displayName=ef;function tf(t,e=globalThis==null?void 0:globalThis.document){const r=Ie(t),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){Ec(Xh,r,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function rf(t,e=globalThis==null?void 0:globalThis.document){const r=Ie(t),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&Ec(Zh,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Bi(){const t=new CustomEvent(co);document.dispatchEvent(t)}function Ec(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Ko(s,o):s.dispatchEvent(o)}var nf=gn,sf=Sc,ht=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},of="Portal",ds=h.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,o]=h.useState(!1);ht(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?vc.createPortal(p.jsx(Q.div,{...n,ref:e}),i):null});ds.displayName=of;function af(t,e){return h.useReducer((r,n)=>e[r][n]??r,t)}var ot=t=>{const{present:e,children:r}=t,n=cf(e),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=re(n.ref,lf(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};ot.displayName="Presence";function cf(t){const[e,r]=h.useState(),n=h.useRef(null),s=h.useRef(t),o=h.useRef("none"),i=t?"mounted":"unmounted",[a,c]=af(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const l=Rn(n.current);o.current=a==="mounted"?l:"none"},[a]),ht(()=>{const l=n.current,d=s.current;if(d!==t){const m=o.current,u=Rn(l);t?c("MOUNT"):u==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(d&&m!==u?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),ht(()=>{if(e){let l;const d=e.ownerDocument.defaultView??window,f=u=>{const g=Rn(n.current).includes(CSS.escape(u.animationName));if(u.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",l=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=u=>{u.target===e&&(o.current=Rn(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(l),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(l=>{n.current=l?getComputedStyle(l):null,r(l)},[])}}function Rn(t){return(t==null?void 0:t.animationName)||"none"}function lf(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var uf=zo[" useInsertionEffect ".trim().toString()]||ht;function Dr({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,i]=df({defaultProp:e,onChange:r}),a=t!==void 0,c=a?t:s;{const d=h.useRef(t!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const l=h.useCallback(d=>{var f;if(a){const m=hf(d)?d(t):d;m!==t&&((f=i.current)==null||f.call(i,m))}else o(d)},[a,t,o,i]);return[c,l]}function df({defaultProp:t,onChange:e}){const[r,n]=h.useState(t),s=h.useRef(r),o=h.useRef(e);return uf(()=>{o.current=e},[e]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function hf(t){return typeof t=="function"}var ff=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pf="VisuallyHidden",hs=h.forwardRef((t,e)=>p.jsx(Q.span,{...t,ref:e,style:{...ff,...t.style}}));hs.displayName=pf;var mf=hs,Ho="ToastProvider",[Go,gf,vf]=us("Toast"),[Cc]=mt("Toast",[vf]),[yf,fs]=Cc(Ho),Tc=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,c]=h.useState(null),[l,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ho}\`. Expected non-empty \`string\`.`),p.jsx(Go.Provider,{scope:e,children:p.jsx(yf,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:l,viewport:a,onViewportChange:c,onToastAdd:h.useCallback(()=>d(u=>u+1),[]),onToastRemove:h.useCallback(()=>d(u=>u-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};Tc.displayName=Ho;var Rc="ToastViewport",wf=["F8"],lo="toast.viewportPause",uo="toast.viewportResume",kc=h.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=wf,label:s="Notifications ({hotkey})",...o}=t,i=fs(Rc,r),a=gf(r),c=h.useRef(null),l=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=re(e,f,i.onViewportChange),u=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;h.useEffect(()=>{const y=w=>{var b;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),h.useEffect(()=>{const y=c.current,w=f.current;if(v&&y&&w){const x=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(lo);w.dispatchEvent(E),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(uo);w.dispatchEvent(E),i.isClosePausedRef.current=!1}},_=E=>{!y.contains(E.relatedTarget)&&b()},S=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",x),y.addEventListener("focusout",_),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[v,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:y})=>{const x=a().map(b=>{const _=b.ref.current,S=[_,...jf(_)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?x.reverse():x).flat()},[a]);return h.useEffect(()=>{const y=f.current;if(y){const w=x=>{var S,E,R;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const C=document.activeElement,k=x.shiftKey;if(x.target===y&&k){(S=l.current)==null||S.focus();return}const j=g({tabbingDirection:k?"backwards":"forwards"}),W=j.findIndex(O=>O===C);Fs(j.slice(W+1))?x.preventDefault():k?(E=l.current)==null||E.focus():(R=d.current)==null||R.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[a,g]),p.jsxs(sf,{ref:c,role:"region","aria-label":s.replace("{hotkey}",u),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&p.jsx(ho,{ref:l,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Fs(y)}}),p.jsx(Go.Slot,{scope:r,children:p.jsx(Q.ol,{tabIndex:-1,...o,ref:m})}),v&&p.jsx(ho,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Fs(y)}})]})});kc.displayName=Rc;var Ac="ToastFocusProxy",ho=h.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=fs(Ac,r);return p.jsx(hs,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var l;const a=i.relatedTarget;!((l=o.viewport)!=null&&l.contains(a))&&n()}})});ho.displayName=Ac;var vn="Toast",bf="toast.swipeStart",_f="toast.swipeMove",xf="toast.swipeCancel",Sf="toast.swipeEnd",Pc=h.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=t,[a,c]=Dr({prop:n,defaultProp:s??!0,onChange:o,caller:vn});return p.jsx(ot,{present:r||a,children:p.jsx(Tf,{open:a,...i,ref:e,onClose:()=>c(!1),onPause:Ie(t.onPause),onResume:Ie(t.onResume),onSwipeStart:M(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:M(t.onSwipeMove,l=>{const{x:d,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:M(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:M(t.onSwipeEnd,l=>{const{x:d,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Pc.displayName=vn;var[Ef,Cf]=Cc(vn,{onClose(){}}),Tf=h.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:l,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:u,...v}=t,g=fs(vn,r),[y,w]=h.useState(null),x=re(e,O=>w(O)),b=h.useRef(null),_=h.useRef(null),S=s||g.duration,E=h.useRef(0),R=h.useRef(S),C=h.useRef(0),{onToastAdd:k,onToastRemove:I}=g,N=Ie(()=>{var q;(y==null?void 0:y.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),i()}),j=h.useCallback(O=>{!O||O===1/0||(window.clearTimeout(C.current),E.current=new Date().getTime(),C.current=window.setTimeout(N,O))},[N]);h.useEffect(()=>{const O=g.viewport;if(O){const q=()=>{j(R.current),l==null||l()},L=()=>{const B=new Date().getTime()-E.current;R.current=R.current-B,window.clearTimeout(C.current),c==null||c()};return O.addEventListener(lo,L),O.addEventListener(uo,q),()=>{O.removeEventListener(lo,L),O.removeEventListener(uo,q)}}},[g.viewport,S,c,l,j]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&j(S)},[o,S,g.isClosePausedRef,j]),h.useEffect(()=>(k(),()=>I()),[k,I]);const W=h.useMemo(()=>y?$c(y):null,[y]);return g.viewport?p.jsxs(p.Fragment,{children:[W&&p.jsx(Rf,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:W}),p.jsx(Ef,{scope:r,onClose:N,children:cs.createPortal(p.jsx(Go.ItemSlot,{scope:r,children:p.jsx(nf,{asChild:!0,onEscapeKeyDown:M(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Q.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:M(t.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:M(t.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:M(t.onPointerMove,O=>{if(!b.current)return;const q=O.clientX-b.current.x,L=O.clientY-b.current.y,B=!!_.current,D=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,K=D?A(0,q):0,ee=D?0:A(0,L),H=O.pointerType==="touch"?10:2,J={x:K,y:ee},X={originalEvent:O,delta:J};B?(_.current=J,kn(_f,f,X,{discrete:!1})):Vi(J,g.swipeDirection,H)?(_.current=J,kn(bf,d,X,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(q)>H||Math.abs(L)>H)&&(b.current=null)}),onPointerUp:M(t.onPointerUp,O=>{const q=_.current,L=O.target;if(L.hasPointerCapture(O.pointerId)&&L.releasePointerCapture(O.pointerId),_.current=null,b.current=null,q){const B=O.currentTarget,D={originalEvent:O,delta:q};Vi(q,g.swipeDirection,g.swipeThreshold)?kn(Sf,u,D,{discrete:!0}):kn(xf,m,D,{discrete:!0}),B.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Rf=t=>{const{__scopeToast:e,children:r,...n}=t,s=fs(vn,e),[o,i]=h.useState(!1),[a,c]=h.useState(!1);return Pf(()=>i(!0)),h.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),a?null:p.jsx(ds,{asChild:!0,children:p.jsx(hs,{...n,children:o&&p.jsxs(p.Fragment,{children:[s.label," ",r]})})})},kf="ToastTitle",Oc=h.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(Q.div,{...n,ref:e})});Oc.displayName=kf;var Af="ToastDescription",jc=h.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(Q.div,{...n,ref:e})});jc.displayName=Af;var Ic="ToastAction",Nc=h.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?p.jsx(Mc,{altText:r,asChild:!0,children:p.jsx(Jo,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ic}\`. Expected non-empty \`string\`.`),null)});Nc.displayName=Ic;var Dc="ToastClose",Jo=h.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Cf(Dc,r);return p.jsx(Mc,{asChild:!0,children:p.jsx(Q.button,{type:"button",...n,ref:e,onClick:M(t.onClick,s.onClose)})})});Jo.displayName=Dc;var Mc=h.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return p.jsx(Q.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function $c(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Of(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...$c(n))}}),e}function kn(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Ko(s,o):s.dispatchEvent(o)}var Vi=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function Pf(t=()=>{}){const e=Ie(t);ht(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Of(t){return t.nodeType===t.ELEMENT_NODE}function jf(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Fs(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var If=Tc,Lc=kc,Uc=Pc,Fc=Oc,Bc=jc,Vc=Nc,Wc=Jo;const Wi=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zi=yc,Yo=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return zi(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(l=>{const d=r==null?void 0:r[l],f=o==null?void 0:o[l];if(d===null)return null;const m=Wi(d)||Wi(f);return s[l][m]}),a=r&&Object.entries(r).reduce((l,d)=>{let[f,m]=d;return m===void 0||(l[f]=m),l},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((l,d)=>{let{class:f,className:m,...u}=d;return Object.entries(u).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...o,...a}[g]):{...o,...a}[g]===y})?[...l,f,m]:l},[]);return zi(t,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zc=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Df={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=h.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>h.createElement("svg",{ref:c,...Df,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:zc("lucide",s),...a},[...i.map(([l,d])=>h.createElement(l,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(t,e)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(Mf,{ref:o,iconNode:e,className:zc(`lucide-${Nf(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ue("ArrowDown10",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M17 10V4h-2",key:"zcsr5x"}],["path",{d:"M15 10h4",key:"id2lce"}],["rect",{x:"15",y:"14",width:"4",height:"6",ry:"2",key:"33xykx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ue("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ue("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=ue("ChartNetwork",[["path",{d:"m13.11 7.664 1.78 2.672",key:"go2gg9"}],["path",{d:"m14.162 12.788-3.324 1.424",key:"11x848"}],["path",{d:"m20 4-6.06 1.515",key:"1wxxh7"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["circle",{cx:"12",cy:"6",r:"2",key:"1jj5th"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}],["circle",{cx:"9",cy:"15",r:"2",key:"lf2ghp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ue("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ue("TrendingUpDown",[["path",{d:"M14.828 14.828 21 21",key:"ar5fw7"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"m21 3-9 9-4-4-6 6",key:"1h02xo"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Qo="-",zf=t=>{const e=Kf(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const a=i.split(Qo);return a[0]===""&&a.length!==1&&a.shift(),Kc(a,e)||qf(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},Kc=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Kc(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Qo);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},ea=/^\[(.+)\]$/,qf=t=>{if(ea.test(t)){const e=ea.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Kf=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Gf(Object.entries(t.classGroups),r).forEach(([o,i])=>{po(i,n,o,e)}),n},po=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:ta(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(Hf(s)){po(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{po(i,ta(e,o),r,n)})})},ta=(t,e)=>{let r=t;return e.split(Qo).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Hf=t=>t.isThemeGetter,Gf=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[r,s]}):t,Jf=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Hc="!",Yf=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,i=a=>{const c=[];let l=0,d=0,f;for(let y=0;y<a.length;y++){let w=a[y];if(l===0){if(w===s&&(n||a.slice(y,y+o)===e)){c.push(a.slice(d,y)),d=y+o;continue}if(w==="/"){f=y;continue}}w==="["?l++:w==="]"&&l--}const m=c.length===0?a:a.substring(d),u=m.startsWith(Hc),v=u?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:u,baseClassName:v,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},Qf=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Xf=t=>({cache:Jf(t.cacheSize),parseClassName:Yf(t),...zf(t)}),Zf=/\s+/,ep=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(Zf);let a="";for(let c=i.length-1;c>=0;c-=1){const l=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:u}=r(l);let v=!!u,g=n(v?m.substring(0,u):m);if(!g){if(!v){a=l+(a.length>0?" "+a:a);continue}if(g=n(m),!g){a=l+(a.length>0?" "+a:a);continue}v=!1}const y=Qf(d).join(":"),w=f?y+Hc:y,x=w+g;if(o.includes(x))continue;o.push(x);const b=s(g,v);for(let _=0;_<b.length;++_){const S=b[_];o.push(w+S)}a=l+(a.length>0?" "+a:a)}return a};function tp(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Gc(e))&&(n&&(n+=" "),n+=r);return n}const Gc=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Gc(t[n]))&&(r&&(r+=" "),r+=e);return r};function rp(t,...e){let r,n,s,o=i;function i(c){const l=e.reduce((d,f)=>f(d),t());return r=Xf(l),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const l=n(c);if(l)return l;const d=ep(c,r);return s(c,d),d}return function(){return o(tp.apply(null,arguments))}}const se=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Jc=/^\[(?:([a-z-]+):)?(.+)\]$/i,np=/^\d+\/\d+$/,sp=new Set(["px","full","screen"]),op=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ip=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ap=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cp=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ct=t=>_r(t)||sp.has(t)||np.test(t),xt=t=>Mr(t,"length",vp),_r=t=>!!t&&!Number.isNaN(Number(t)),zs=t=>Mr(t,"number",_r),qr=t=>!!t&&Number.isInteger(Number(t)),up=t=>t.endsWith("%")&&_r(t.slice(0,-1)),G=t=>Jc.test(t),St=t=>op.test(t),dp=new Set(["length","size","percentage"]),hp=t=>Mr(t,dp,Yc),fp=t=>Mr(t,"position",Yc),pp=new Set(["image","url"]),mp=t=>Mr(t,pp,wp),gp=t=>Mr(t,"",yp),Kr=()=>!0,Mr=(t,e,r)=>{const n=Jc.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},vp=t=>ip.test(t)&&!ap.test(t),Yc=()=>!1,yp=t=>cp.test(t),wp=t=>lp.test(t),bp=()=>{const t=se("colors"),e=se("spacing"),r=se("blur"),n=se("brightness"),s=se("borderColor"),o=se("borderRadius"),i=se("borderSpacing"),a=se("borderWidth"),c=se("contrast"),l=se("grayscale"),d=se("hueRotate"),f=se("invert"),m=se("gap"),u=se("gradientColorStops"),v=se("gradientColorStopPositions"),g=se("inset"),y=se("margin"),w=se("opacity"),x=se("padding"),b=se("saturate"),_=se("scale"),S=se("sepia"),E=se("skew"),R=se("space"),C=se("translate"),k=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",G,e],j=()=>[G,e],W=()=>["",ct,xt],O=()=>["auto",_r,G],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",G],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[_r,G];return{cacheSize:500,separator:":",theme:{colors:[Kr],spacing:[ct,xt],blur:["none","",St,G],brightness:ee(),borderColor:[t],borderRadius:["none","","full",St,G],borderSpacing:j(),borderWidth:W(),contrast:ee(),grayscale:A(),hueRotate:ee(),invert:A(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[up,xt],inset:N(),margin:N(),opacity:ee(),padding:j(),saturate:ee(),scale:ee(),sepia:A(),skew:ee(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[St]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),G]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qr,G]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",qr,G]}],"grid-cols":[{"grid-cols":[Kr]}],"col-start-end":[{col:["auto",{span:["full",qr,G]},G]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Kr]}],"row-start-end":[{row:["auto",{span:[qr,G]},G]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,e]}],"min-w":[{"min-w":[G,e,"min","max","fit"]}],"max-w":[{"max-w":[G,e,"none","full","min","max","fit","prose",{screen:[St]},St]}],h:[{h:[G,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,e,"auto","min","max","fit"]}],"font-size":[{text:["base",St,xt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zs]}],"font-family":[{font:[Kr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",_r,zs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ct,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ct,xt]}],"underline-offset":[{"underline-offset":["auto",ct,G]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),fp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mp]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[u]}],"gradient-via":[{via:[u]}],"gradient-to":[{to:[u]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[ct,G]}],"outline-w":[{outline:[ct,xt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ct,xt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",St,gp]}],"shadow-color":[{shadow:[Kr]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",St,G]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[qr,G]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ct,xt,zs]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_p=rp(bp);function ae(...t){return _p(yc(t))}function lS(t){if(t.length===0)return null;const e=new Date,r=new Date(e.getFullYear(),e.getMonth()+1,1),n=new Date(r),o=(5-n.getDay()+7)%7;n.setDate(n.getDate()+o);const i=new Date(n);i.setDate(i.getDate()+14);let a=t[0],c=1/0;return t.forEach(l=>{const d=new Date(l),f=Math.abs(d.getTime()-i.getTime());f<c&&(c=f,a=l)}),a}function uS(t,e=""){return t==null||t==="NaN"||t===""?"-":typeof t=="number"?e.includes("Pct")||e.includes("Prob")||e==="ImpliedVolatility"||e==="Mean_Accuracy"||e==="AllMedianIV_Maximum100DaysToExp"||e==="TodayStockMedianIV_Maximum100DaysToExp"||e==="WorstHistoricalDecline"||e==="BadHistoricalDecline"||e==="ImpliedVolatilityUntilExpiry"||e==="Historical100DaysWorstDecline"||e==="Historical50DaysWorstDecline"||e==="2008_100DaysWorstDecline"||e==="2008_50DaysWorstDecline"||e==="Annualized_ROM_Pct"||e==="Event_Buffer"||e==="Final_SRI"||e==="SRI_Base"?`${(t*100).toLocaleString("sv-SE",{minimumFractionDigits:2,maximumFractionDigits:2})}%`:e==="Premium"||e==="Underlying_Value"||e==="PotentialLossAtLowerBound"||e==="EstTotalMargin"||e==="Est_Margin_SEK"||e==="Net_Premium_After_Costs"||e==="Margin_A_Broker_Proxy"||e==="Margin_B_Historical_Floor"||e==="Margin_Floor_15pct"||e==="OTM_Amount"||e==="DaysToExpiry"||e==="X-Day"||e.includes("Number")||Math.abs(t)>=1e3?Math.round(t).toLocaleString("sv-SE"):e.includes("Loss")||e.includes("Price")||e.includes("Bid")||e.includes("Value")?t.toLocaleString("sv-SE",{minimumFractionDigits:2,maximumFractionDigits:2}):t.toLocaleString("sv-SE",{minimumFractionDigits:2,maximumFractionDigits:2}):String(t)}const xp=If,Qc=h.forwardRef(({className:t,...e},r)=>p.jsx(Lc,{ref:r,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Qc.displayName=Lc.displayName;const Sp=Yo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Xc=h.forwardRef(({className:t,variant:e,...r},n)=>p.jsx(Uc,{ref:n,className:ae(Sp({variant:e}),t),...r}));Xc.displayName=Uc.displayName;const Ep=h.forwardRef(({className:t,...e},r)=>p.jsx(Vc,{ref:r,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Ep.displayName=Vc.displayName;const Zc=h.forwardRef(({className:t,...e},r)=>p.jsx(Wc,{ref:r,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(qc,{className:"h-4 w-4"})}));Zc.displayName=Wc.displayName;const el=h.forwardRef(({className:t,...e},r)=>p.jsx(Fc,{ref:r,className:ae("text-sm font-semibold",t),...e}));el.displayName=Fc.displayName;const tl=h.forwardRef(({className:t,...e},r)=>p.jsx(Bc,{ref:r,className:ae("text-sm opacity-90",t),...e}));tl.displayName=Bc.displayName;function Cp(){const{toasts:t}=Dh();return p.jsxs(xp,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return p.jsxs(Xc,{...o,children:[p.jsxs("div",{className:"grid gap-1",children:[r&&p.jsx(el,{children:r}),n&&p.jsx(tl,{children:n})]}),s,p.jsx(Zc,{})]},e)}),p.jsx(Qc,{})]})}var Jn=["light","dark"],Xo="(prefers-color-scheme: dark)",Tp=typeof window>"u",Zo=h.createContext(void 0),Rp={setTheme:t=>{},themes:[]},rl=()=>{var t;return(t=h.useContext(Zo))!=null?t:Rp},kp=t=>h.useContext(Zo)?t.children:h.createElement(Pp,{...t}),Ap=["light","dark"],Pp=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:o=Ap,defaultTheme:i=r?"system":"light",attribute:a="data-theme",value:c,children:l,nonce:d})=>{let[f,m]=h.useState(()=>ra(s,i)),[u,v]=h.useState(()=>ra(s)),g=c?Object.values(c):o,y=h.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=na());let E=c?c[S]:S,R=e?jp():null,C=document.documentElement;if(a==="class"?(C.classList.remove(...g),E&&C.classList.add(E)):E?C.setAttribute(a,E):C.removeAttribute(a),n){let k=Jn.includes(i)?i:null,I=Jn.includes(S)?S:k;C.style.colorScheme=I}R==null||R()},[]),w=h.useCallback(_=>{let S=typeof _=="function"?_(_):_;m(S);try{localStorage.setItem(s,S)}catch{}},[t]),x=h.useCallback(_=>{let S=na(_);v(S),f==="system"&&r&&!t&&y("system")},[f,t]);h.useEffect(()=>{let _=window.matchMedia(Xo);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),h.useEffect(()=>{let _=S=>{if(S.key!==s)return;let E=S.newValue||i;w(E)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[w]),h.useEffect(()=>{y(t??f)},[t,f]);let b=h.useMemo(()=>({theme:f,setTheme:w,forcedTheme:t,resolvedTheme:f==="system"?u:f,themes:r?[...o,"system"]:o,systemTheme:r?u:void 0}),[f,w,t,u,r,o]);return h.createElement(Zo.Provider,{value:b},h.createElement(Op,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:o,defaultTheme:i,attribute:a,value:c,children:l,attrs:g,nonce:d}),l)},Op=h.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let l=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Jn.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,g=!1,y=!0)=>{let w=i?i[v]:v,x=g?v+"|| ''":`'${w}'`,b="";return s&&y&&!g&&Jn.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),r==="class"?g||w?b+=`c.add(${x})`:b+="null":w&&(b+=`d[s](n,${x})`),b},u=t?`!function(){${d}${m(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${l})){var t='${Xo}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${l?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:u}})}),ra=(t,e)=>{if(Tp)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},jp=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},na=t=>(t||(t=window.matchMedia(Xo)),t.matches?"dark":"light"),Ip=t=>{switch(t){case"success":return Mp;case"info":return Lp;case"warning":return $p;case"error":return Up;default:return null}},Np=Array(12).fill(0),Dp=({visible:t,className:e})=>P.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},P.createElement("div",{className:"sonner-spinner"},Np.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Mp=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$p=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Lp=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Up=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Fp=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Bp=()=>{let[t,e]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},mo=1,Vp=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:mo++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],P.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(zp(c)&&!c.ok){s=!1;let l=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:l,description:d})}else if(e.success!==void 0){s=!1;let l=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:l,description:d})}}).catch(async c=>{if(o=["reject",c],e.error!==void 0){s=!1;let l=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:l,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,l)=>i.then(()=>o[0]==="reject"?l(o[1]):c(o[1])).catch(l));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||mo++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ae=new Vp,Wp=(t,e)=>{let r=(e==null?void 0:e.id)||mo++;return Ae.addToast({title:t,...e,id:r}),r},zp=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",qp=Wp,Kp=()=>Ae.toasts,Hp=()=>Ae.getActiveToasts(),We=Object.assign(qp,{success:Ae.success,info:Ae.info,warning:Ae.warning,error:Ae.error,custom:Ae.custom,message:Ae.message,promise:Ae.promise,dismiss:Ae.dismiss,loading:Ae.loading},{getHistory:Kp,getToasts:Hp});function Gp(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Gp(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Pn(t){return t.label!==void 0}var Jp=3,Yp="32px",Qp="16px",sa=4e3,Xp=356,Zp=14,em=20,tm=200;function Be(...t){return t.filter(Boolean).join(" ")}function rm(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var nm=t=>{var e,r,n,s,o,i,a,c,l,d,f;let{invert:m,toast:u,unstyled:v,interacting:g,setHeights:y,visibleToasts:w,heights:x,index:b,toasts:_,expanded:S,removeToast:E,defaultRichColors:R,closeButton:C,style:k,cancelButtonStyle:I,actionButtonStyle:N,className:j="",descriptionClassName:W="",duration:O,position:q,gap:L,loadingIcon:B,expandByDefault:D,classNames:A,icons:K,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:H}=t,[J,X]=P.useState(null),[he,Re]=P.useState(null),[Z,at]=P.useState(!1),[pe,Qe]=P.useState(!1),[vt,nr]=P.useState(!1),[yt,Sn]=P.useState(!1),[Is,En]=P.useState(!1),[Ns,Wr]=P.useState(0),[sr,Ri]=P.useState(0),zr=P.useRef(u.duration||O||sa),ki=P.useRef(null),$t=P.useRef(null),ch=b===0,lh=b+1<=w,Ne=u.type,or=u.dismissible!==!1,uh=u.className||"",dh=u.descriptionClassName||"",Cn=P.useMemo(()=>x.findIndex(z=>z.toastId===u.id)||0,[x,u.id]),hh=P.useMemo(()=>{var z;return(z=u.closeButton)!=null?z:C},[u.closeButton,C]),Ai=P.useMemo(()=>u.duration||O||sa,[u.duration,O]),Ds=P.useRef(0),ir=P.useRef(0),Pi=P.useRef(0),ar=P.useRef(null),[fh,ph]=q.split("-"),Oi=P.useMemo(()=>x.reduce((z,te,oe)=>oe>=Cn?z:z+te.height,0),[x,Cn]),ji=Bp(),mh=u.invert||m,Ms=Ne==="loading";ir.current=P.useMemo(()=>Cn*L+Oi,[Cn,Oi]),P.useEffect(()=>{zr.current=Ai},[Ai]),P.useEffect(()=>{at(!0)},[]),P.useEffect(()=>{let z=$t.current;if(z){let te=z.getBoundingClientRect().height;return Ri(te),y(oe=>[{toastId:u.id,height:te,position:u.position},...oe]),()=>y(oe=>oe.filter(Le=>Le.toastId!==u.id))}},[y,u.id]),P.useLayoutEffect(()=>{if(!Z)return;let z=$t.current,te=z.style.height;z.style.height="auto";let oe=z.getBoundingClientRect().height;z.style.height=te,Ri(oe),y(Le=>Le.find(Ue=>Ue.toastId===u.id)?Le.map(Ue=>Ue.toastId===u.id?{...Ue,height:oe}:Ue):[{toastId:u.id,height:oe,position:u.position},...Le])},[Z,u.title,u.description,y,u.id]);let wt=P.useCallback(()=>{Qe(!0),Wr(ir.current),y(z=>z.filter(te=>te.toastId!==u.id)),setTimeout(()=>{E(u)},tm)},[u,E,y,ir]);P.useEffect(()=>{if(u.promise&&Ne==="loading"||u.duration===1/0||u.type==="loading")return;let z;return S||g||H&&ji?(()=>{if(Pi.current<Ds.current){let te=new Date().getTime()-Ds.current;zr.current=zr.current-te}Pi.current=new Date().getTime()})():zr.current!==1/0&&(Ds.current=new Date().getTime(),z=setTimeout(()=>{var te;(te=u.onAutoClose)==null||te.call(u,u),wt()},zr.current)),()=>clearTimeout(z)},[S,g,u,Ne,H,ji,wt]),P.useEffect(()=>{u.delete&&wt()},[wt,u.delete]);function gh(){var z,te,oe;return K!=null&&K.loading?P.createElement("div",{className:Be(A==null?void 0:A.loader,(z=u==null?void 0:u.classNames)==null?void 0:z.loader,"sonner-loader"),"data-visible":Ne==="loading"},K.loading):B?P.createElement("div",{className:Be(A==null?void 0:A.loader,(te=u==null?void 0:u.classNames)==null?void 0:te.loader,"sonner-loader"),"data-visible":Ne==="loading"},B):P.createElement(Dp,{className:Be(A==null?void 0:A.loader,(oe=u==null?void 0:u.classNames)==null?void 0:oe.loader),visible:Ne==="loading"})}return P.createElement("li",{tabIndex:0,ref:$t,className:Be(j,uh,A==null?void 0:A.toast,(e=u==null?void 0:u.classNames)==null?void 0:e.toast,A==null?void 0:A.default,A==null?void 0:A[Ne],(r=u==null?void 0:u.classNames)==null?void 0:r[Ne]),"data-sonner-toast":"","data-rich-colors":(n=u.richColors)!=null?n:R,"data-styled":!(u.jsx||u.unstyled||v),"data-mounted":Z,"data-promise":!!u.promise,"data-swiped":Is,"data-removed":pe,"data-visible":lh,"data-y-position":fh,"data-x-position":ph,"data-index":b,"data-front":ch,"data-swiping":vt,"data-dismissible":or,"data-type":Ne,"data-invert":mh,"data-swipe-out":yt,"data-swipe-direction":he,"data-expanded":!!(S||D&&Z),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${pe?Ns:ir.current}px`,"--initial-height":D?"auto":`${sr}px`,...k,...u.style},onDragEnd:()=>{nr(!1),X(null),ar.current=null},onPointerDown:z=>{Ms||!or||(ki.current=new Date,Wr(ir.current),z.target.setPointerCapture(z.pointerId),z.target.tagName!=="BUTTON"&&(nr(!0),ar.current={x:z.clientX,y:z.clientY}))},onPointerUp:()=>{var z,te,oe,Le;if(yt||!or)return;ar.current=null;let Ue=Number(((z=$t.current)==null?void 0:z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bt=Number(((te=$t.current)==null?void 0:te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Lt=new Date().getTime()-((oe=ki.current)==null?void 0:oe.getTime()),Fe=J==="x"?Ue:bt,_t=Math.abs(Fe)/Lt;if(Math.abs(Fe)>=em||_t>.11){Wr(ir.current),(Le=u.onDismiss)==null||Le.call(u,u),Re(J==="x"?Ue>0?"right":"left":bt>0?"down":"up"),wt(),Sn(!0),En(!1);return}nr(!1),X(null)},onPointerMove:z=>{var te,oe,Le,Ue;if(!ar.current||!or||((te=window.getSelection())==null?void 0:te.toString().length)>0)return;let bt=z.clientY-ar.current.y,Lt=z.clientX-ar.current.x,Fe=(oe=t.swipeDirections)!=null?oe:rm(q);!J&&(Math.abs(Lt)>1||Math.abs(bt)>1)&&X(Math.abs(Lt)>Math.abs(bt)?"x":"y");let _t={x:0,y:0};J==="y"?(Fe.includes("top")||Fe.includes("bottom"))&&(Fe.includes("top")&&bt<0||Fe.includes("bottom")&&bt>0)&&(_t.y=bt):J==="x"&&(Fe.includes("left")||Fe.includes("right"))&&(Fe.includes("left")&&Lt<0||Fe.includes("right")&&Lt>0)&&(_t.x=Lt),(Math.abs(_t.x)>0||Math.abs(_t.y)>0)&&En(!0),(Le=$t.current)==null||Le.style.setProperty("--swipe-amount-x",`${_t.x}px`),(Ue=$t.current)==null||Ue.style.setProperty("--swipe-amount-y",`${_t.y}px`)}},hh&&!u.jsx?P.createElement("button",{"aria-label":ee,"data-disabled":Ms,"data-close-button":!0,onClick:Ms||!or?()=>{}:()=>{var z;wt(),(z=u.onDismiss)==null||z.call(u,u)},className:Be(A==null?void 0:A.closeButton,(s=u==null?void 0:u.classNames)==null?void 0:s.closeButton)},(o=K==null?void 0:K.close)!=null?o:Fp):null,u.jsx||h.isValidElement(u.title)?u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title:P.createElement(P.Fragment,null,Ne||u.icon||u.promise?P.createElement("div",{"data-icon":"",className:Be(A==null?void 0:A.icon,(i=u==null?void 0:u.classNames)==null?void 0:i.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||gh():null,u.type!=="loading"?u.icon||(K==null?void 0:K[Ne])||Ip(Ne):null):null,P.createElement("div",{"data-content":"",className:Be(A==null?void 0:A.content,(a=u==null?void 0:u.classNames)==null?void 0:a.content)},P.createElement("div",{"data-title":"",className:Be(A==null?void 0:A.title,(c=u==null?void 0:u.classNames)==null?void 0:c.title)},typeof u.title=="function"?u.title():u.title),u.description?P.createElement("div",{"data-description":"",className:Be(W,dh,A==null?void 0:A.description,(l=u==null?void 0:u.classNames)==null?void 0:l.description)},typeof u.description=="function"?u.description():u.description):null),h.isValidElement(u.cancel)?u.cancel:u.cancel&&Pn(u.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||I,onClick:z=>{var te,oe;Pn(u.cancel)&&or&&((oe=(te=u.cancel).onClick)==null||oe.call(te,z),wt())},className:Be(A==null?void 0:A.cancelButton,(d=u==null?void 0:u.classNames)==null?void 0:d.cancelButton)},u.cancel.label):null,h.isValidElement(u.action)?u.action:u.action&&Pn(u.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||N,onClick:z=>{var te,oe;Pn(u.action)&&((oe=(te=u.action).onClick)==null||oe.call(te,z),!z.defaultPrevented&&wt())},className:Be(A==null?void 0:A.actionButton,(f=u==null?void 0:u.classNames)==null?void 0:f.actionButton)},u.action.label):null))};function oa(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function sm(t,e){let r={};return[t,e].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?Qp:Yp;function c(l){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof l=="number"?`${l}px`:l})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(l=>{n[l]===void 0?r[`${i}-${l}`]=a:r[`${i}-${l}`]=typeof n[l]=="number"?`${n[l]}px`:n[l]}):c(a)}),r}var om=h.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:l,theme:d="light",richColors:f,duration:m,style:u,visibleToasts:v=Jp,toastOptions:g,dir:y=oa(),gap:w=Zp,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[E,R]=P.useState([]),C=P.useMemo(()=>Array.from(new Set([n].concat(E.filter(H=>H.position).map(H=>H.position)))),[E,n]),[k,I]=P.useState([]),[N,j]=P.useState(!1),[W,O]=P.useState(!1),[q,L]=P.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=P.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=P.useRef(null),K=P.useRef(!1),ee=P.useCallback(H=>{R(J=>{var X;return(X=J.find(he=>he.id===H.id))!=null&&X.delete||Ae.dismiss(H.id),J.filter(({id:he})=>he!==H.id)})},[]);return P.useEffect(()=>Ae.subscribe(H=>{if(H.dismiss){R(J=>J.map(X=>X.id===H.id?{...X,delete:!0}:X));return}setTimeout(()=>{vc.flushSync(()=>{R(J=>{let X=J.findIndex(he=>he.id===H.id);return X!==-1?[...J.slice(0,X),{...J[X],...H},...J.slice(X+1)]:[H,...J]})})})}),[]),P.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:J})=>{L(J?"dark":"light")})}catch{H.addListener(({matches:X})=>{try{L(X?"dark":"light")}catch(he){console.error(he)}})}},[d]),P.useEffect(()=>{E.length<=1&&j(!1)},[E]),P.useEffect(()=>{let H=J=>{var X,he;s.every(Re=>J[Re]||J.code===Re)&&(j(!0),(X=B.current)==null||X.focus()),J.code==="Escape"&&(document.activeElement===B.current||(he=B.current)!=null&&he.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),P.useEffect(()=>{if(B.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,K.current=!1)}},[B.current]),P.createElement("section",{ref:e,"aria-label":`${_} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((H,J)=>{var X;let[he,Re]=H.split("-");return E.length?P.createElement("ol",{key:H,dir:y==="auto"?oa():y,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":he,"data-lifted":N&&E.length>1&&!o,"data-x-position":Re,style:{"--front-toast-height":`${((X=k[0])==null?void 0:X.height)||0}px`,"--width":`${Xp}px`,"--gap":`${w}px`,...u,...sm(c,l)},onBlur:Z=>{K.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(K.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||K.current||(K.current=!0,A.current=Z.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{W||j(!1)},onDragEnd:()=>j(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},E.filter(Z=>!Z.position&&J===0||Z.position===H).map((Z,at)=>{var pe,Qe;return P.createElement(nm,{key:Z.id,icons:b,index:at,toast:Z,defaultRichColors:f,duration:(pe=g==null?void 0:g.duration)!=null?pe:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(Qe=g==null?void 0:g.closeButton)!=null?Qe:i,interacting:W,position:H,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ee,toasts:E.filter(vt=>vt.position==Z.position),heights:k.filter(vt=>vt.position==Z.position),setHeights:I,expandByDefault:o,gap:w,loadingIcon:x,expanded:N,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const im=({...t})=>{const{theme:e="system"}=rl();return p.jsx(om,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var am=zo[" useId ".trim().toString()]||(()=>{}),cm=0;function Xt(t){const[e,r]=h.useState(am());return ht(()=>{r(n=>n??String(cm++))},[t]),e?`radix-${e}`:""}const lm=["top","right","bottom","left"],Nt=Math.min,Oe=Math.max,Yn=Math.round,On=Math.floor,nt=t=>({x:t,y:t}),um={left:"right",right:"left",bottom:"top",top:"bottom"},dm={start:"end",end:"start"};function go(t,e,r){return Oe(t,Nt(e,r))}function ft(t,e){return typeof t=="function"?t(e):t}function pt(t){return t.split("-")[0]}function $r(t){return t.split("-")[1]}function ei(t){return t==="x"?"y":"x"}function ti(t){return t==="y"?"height":"width"}const hm=new Set(["top","bottom"]);function rt(t){return hm.has(pt(t))?"y":"x"}function ri(t){return ei(rt(t))}function fm(t,e,r){r===void 0&&(r=!1);const n=$r(t),s=ri(t),o=ti(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Qn(i)),[i,Qn(i)]}function pm(t){const e=Qn(t);return[vo(t),e,vo(e)]}function vo(t){return t.replace(/start|end/g,e=>dm[e])}const ia=["left","right"],aa=["right","left"],mm=["top","bottom"],gm=["bottom","top"];function vm(t,e,r){switch(t){case"top":case"bottom":return r?e?aa:ia:e?ia:aa;case"left":case"right":return e?mm:gm;default:return[]}}function ym(t,e,r,n){const s=$r(t);let o=vm(pt(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(vo)))),o}function Qn(t){return t.replace(/left|right|bottom|top/g,e=>um[e])}function wm(t){return{top:0,right:0,bottom:0,left:0,...t}}function nl(t){return typeof t!="number"?wm(t):{top:t,right:t,bottom:t,left:t}}function Xn(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function ca(t,e,r){let{reference:n,floating:s}=t;const o=rt(e),i=ri(e),a=ti(i),c=pt(e),l=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let u;switch(c){case"top":u={x:d,y:n.y-s.height};break;case"bottom":u={x:d,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:f};break;case"left":u={x:n.x-s.width,y:f};break;default:u={x:n.x,y:n.y}}switch($r(e)){case"start":u[i]-=m*(r&&l?-1:1);break;case"end":u[i]+=m*(r&&l?-1:1);break}return u}const bm=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let l=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=ca(l,n,c),m=n,u={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:w}=a[g],{x,y:b,data:_,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:u,rects:l,platform:i,elements:{reference:t,floating:e}});d=x??d,f=b??f,u={...u,[y]:{...u[y],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(l=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:f}=ca(l,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:u}};async function Zr(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:u=0}=ft(e,t),v=nl(u),y=a[m?f==="floating"?"reference":"floating":f],w=Xn(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Xn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:c}):x);return{top:(w.top-S.top+v.top)/_.y,bottom:(S.bottom-w.bottom+v.bottom)/_.y,left:(w.left-S.left+v.left)/_.x,right:(S.right-w.right+v.right)/_.x}}const _m=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=e,{element:l,padding:d=0}=ft(t,e)||{};if(l==null)return{};const f=nl(d),m={x:r,y:n},u=ri(s),v=ti(u),g=await i.getDimensions(l),y=u==="y",w=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[u]-m[u]-o.floating[v],S=m[u]-o.reference[u],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l));let R=E?E[b]:0;(!R||!await(i.isElement==null?void 0:i.isElement(E)))&&(R=a.floating[b]||o.floating[v]);const C=_/2-S/2,k=R/2-g[v]/2-1,I=Nt(f[w],k),N=Nt(f[x],k),j=I,W=R-g[v]-N,O=R/2-g[v]/2+C,q=go(j,O,W),L=!c.arrow&&$r(s)!=null&&O!==q&&o.reference[v]/2-(O<j?I:N)-g[v]/2<0,B=L?O<j?O-j:O-W:0;return{[u]:m[u]+B,data:{[u]:q,centerOffset:O-q-B,...L&&{alignmentOffset:B}},reset:L}}}),xm=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=ft(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=pt(s),x=rt(a),b=pt(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(l.floating)),S=m||(b||!g?[Qn(a)]:pm(a)),E=v!=="none";!m&&E&&S.push(...ym(a,g,v,_));const R=[a,...S],C=await Zr(e,y),k=[];let I=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&k.push(C[w]),f){const O=fm(s,i,_);k.push(C[O[0]],C[O[1]])}if(I=[...I,{placement:s,overflows:k}],!k.every(O=>O<=0)){var N,j;const O=(((N=o.flip)==null?void 0:N.index)||0)+1,q=R[O];if(q&&(!(f==="alignment"?x!==rt(q):!1)||I.every(D=>rt(D.placement)===x?D.overflows[0]>0:!0)))return{data:{index:O,overflows:I},reset:{placement:q}};let L=(j=I.filter(B=>B.overflows[0]<=0).sort((B,D)=>B.overflows[1]-D.overflows[1])[0])==null?void 0:j.placement;if(!L)switch(u){case"bestFit":{var W;const B=(W=I.filter(D=>{if(E){const A=rt(D.placement);return A===x||A==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(A=>A>0).reduce((A,K)=>A+K,0)]).sort((D,A)=>D[1]-A[1])[0])==null?void 0:W[0];B&&(L=B);break}case"initialPlacement":L=a;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function la(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ua(t){return lm.some(e=>t[e]>=0)}const Sm=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=ft(t,e);switch(n){case"referenceHidden":{const o=await Zr(e,{...s,elementContext:"reference"}),i=la(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ua(i)}}}case"escaped":{const o=await Zr(e,{...s,altBoundary:!0}),i=la(o,r.floating);return{data:{escapedOffsets:i,escaped:ua(i)}}}default:return{}}}}},sl=new Set(["left","top"]);async function Em(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=pt(r),a=$r(r),c=rt(r)==="y",l=sl.has(i)?-1:1,d=o&&c?-1:1,f=ft(e,t);let{mainAxis:m,crossAxis:u,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(u=a==="end"?v*-1:v),c?{x:u*d,y:m*l}:{x:m*l,y:u*d}}const Cm=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=e,c=await Em(e,t);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},Tm=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:y=>{let{x:w,y:x}=y;return{x:w,y:x}}},...c}=ft(t,e),l={x:r,y:n},d=await Zr(e,c),f=rt(pt(s)),m=ei(f);let u=l[m],v=l[f];if(o){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=u+d[y],b=u-d[w];u=go(x,u,b)}if(i){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=v+d[y],b=v-d[w];v=go(x,v,b)}const g=a.fn({...e,[m]:u,[f]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[f]:i}}}}}},Rm=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=ft(t,e),d={x:r,y:n},f=rt(s),m=ei(f);let u=d[m],v=d[f];const g=ft(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",_=o.reference[m]-o.floating[b]+y.mainAxis,S=o.reference[m]+o.reference[b]-y.mainAxis;u<_?u=_:u>S&&(u=S)}if(l){var w,x;const b=m==="y"?"width":"height",_=sl.has(pt(s)),S=o.reference[f]-o.floating[b]+(_&&((w=i.offset)==null?void 0:w[f])||0)+(_?0:y.crossAxis),E=o.reference[f]+o.reference[b]+(_?0:((x=i.offset)==null?void 0:x[f])||0)-(_?y.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[m]:u,[f]:v}}}},km=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:c=()=>{},...l}=ft(t,e),d=await Zr(e,l),f=pt(s),m=$r(s),u=rt(s)==="y",{width:v,height:g}=o.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,y=m==="end"?"top":"bottom");const x=g-d.top-d.bottom,b=v-d.left-d.right,_=Nt(g-d[y],x),S=Nt(v-d[w],b),E=!e.middlewareData.shift;let R=_,C=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(C=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(R=x),E&&!m){const I=Oe(d.left,0),N=Oe(d.right,0),j=Oe(d.top,0),W=Oe(d.bottom,0);u?C=v-2*(I!==0||N!==0?I+N:Oe(d.left,d.right)):R=g-2*(j!==0||W!==0?j+W:Oe(d.top,d.bottom))}await c({...e,availableWidth:C,availableHeight:R});const k=await i.getDimensions(a.floating);return v!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function ps(){return typeof window<"u"}function Lr(t){return ol(t)?(t.nodeName||"").toLowerCase():"#document"}function je(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function it(t){var e;return(e=(ol(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ol(t){return ps()?t instanceof Node||t instanceof je(t).Node:!1}function Ge(t){return ps()?t instanceof Element||t instanceof je(t).Element:!1}function st(t){return ps()?t instanceof HTMLElement||t instanceof je(t).HTMLElement:!1}function da(t){return!ps()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof je(t).ShadowRoot}const Am=new Set(["inline","contents"]);function yn(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Je(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Am.has(s)}const Pm=new Set(["table","td","th"]);function Om(t){return Pm.has(Lr(t))}const jm=[":popover-open",":modal"];function ms(t){return jm.some(e=>{try{return t.matches(e)}catch{return!1}})}const Im=["transform","translate","scale","rotate","perspective"],Nm=["transform","translate","scale","rotate","perspective","filter"],Dm=["paint","layout","strict","content"];function ni(t){const e=si(),r=Ge(t)?Je(t):t;return Im.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Nm.some(n=>(r.willChange||"").includes(n))||Dm.some(n=>(r.contain||"").includes(n))}function Mm(t){let e=Dt(t);for(;st(e)&&!Ir(e);){if(ni(e))return e;if(ms(e))return null;e=Dt(e)}return null}function si(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $m=new Set(["html","body","#document"]);function Ir(t){return $m.has(Lr(t))}function Je(t){return je(t).getComputedStyle(t)}function gs(t){return Ge(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Dt(t){if(Lr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||da(t)&&t.host||it(t);return da(e)?e.host:e}function il(t){const e=Dt(t);return Ir(e)?t.ownerDocument?t.ownerDocument.body:t.body:st(e)&&yn(e)?e:il(e)}function en(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=il(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=je(s);if(o){const a=yo(i);return e.concat(i,i.visualViewport||[],yn(s)?s:[],a&&r?en(a):[])}return e.concat(s,en(s,[],r))}function yo(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function al(t){const e=Je(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=st(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,a=Yn(r)!==o||Yn(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function oi(t){return Ge(t)?t:t.contextElement}function xr(t){const e=oi(t);if(!st(e))return nt(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=al(e);let i=(o?Yn(r.width):r.width)/n,a=(o?Yn(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const Lm=nt(0);function cl(t){const e=je(t);return!si()||!e.visualViewport?Lm:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Um(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==je(t)?!1:e}function Zt(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=oi(t);let i=nt(1);e&&(n?Ge(n)&&(i=xr(n)):i=xr(t));const a=Um(o,r,n)?cl(o):nt(0);let c=(s.left+a.x)/i.x,l=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=je(o),u=n&&Ge(n)?je(n):n;let v=m,g=yo(v);for(;g&&n&&u!==v;){const y=xr(g),w=g.getBoundingClientRect(),x=Je(g),b=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,_=w.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,l*=y.y,d*=y.x,f*=y.y,c+=b,l+=_,v=je(g),g=yo(v)}}return Xn({width:d,height:f,x:c,y:l})}function vs(t,e){const r=gs(t).scrollLeft;return e?e.left+r:Zt(it(t)).left+r}function ll(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-vs(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function Fm(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=it(n),a=e?ms(e.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},l=nt(1);const d=nt(0),f=st(n);if((f||!f&&!o)&&((Lr(n)!=="body"||yn(i))&&(c=gs(n)),st(n))){const u=Zt(n);l=xr(n),d.x=u.x+n.clientLeft,d.y=u.y+n.clientTop}const m=i&&!f&&!o?ll(i,c):nt(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+d.x+m.x,y:r.y*l.y-c.scrollTop*l.y+d.y+m.y}}function Bm(t){return Array.from(t.getClientRects())}function Vm(t){const e=it(t),r=gs(t),n=t.ownerDocument.body,s=Oe(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Oe(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+vs(t);const a=-r.scrollTop;return Je(n).direction==="rtl"&&(i+=Oe(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}const ha=25;function Wm(t,e){const r=je(t),n=it(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const d=si();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const l=vs(n);if(l<=0){const d=n.ownerDocument,f=d.body,m=getComputedStyle(f),u=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-u);v<=ha&&(o-=v)}else l<=ha&&(o+=l);return{width:o,height:i,x:a,y:c}}const zm=new Set(["absolute","fixed"]);function qm(t,e){const r=Zt(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=st(t)?xr(t):nt(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,c=s*o.x,l=n*o.y;return{width:i,height:a,x:c,y:l}}function fa(t,e,r){let n;if(e==="viewport")n=Wm(t,r);else if(e==="document")n=Vm(it(t));else if(Ge(e))n=qm(e,r);else{const s=cl(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Xn(n)}function ul(t,e){const r=Dt(t);return r===e||!Ge(r)||Ir(r)?!1:Je(r).position==="fixed"||ul(r,e)}function Km(t,e){const r=e.get(t);if(r)return r;let n=en(t,[],!1).filter(a=>Ge(a)&&Lr(a)!=="body"),s=null;const o=Je(t).position==="fixed";let i=o?Dt(t):t;for(;Ge(i)&&!Ir(i);){const a=Je(i),c=ni(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&zm.has(s.position)||yn(i)&&!c&&ul(t,i))?n=n.filter(d=>d!==i):s=a,i=Dt(i)}return e.set(t,n),n}function Hm(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?ms(e)?[]:Km(e,this._c):[].concat(r),n],a=i[0],c=i.reduce((l,d)=>{const f=fa(e,d,s);return l.top=Oe(f.top,l.top),l.right=Nt(f.right,l.right),l.bottom=Nt(f.bottom,l.bottom),l.left=Oe(f.left,l.left),l},fa(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Gm(t){const{width:e,height:r}=al(t);return{width:e,height:r}}function Jm(t,e,r){const n=st(e),s=it(e),o=r==="fixed",i=Zt(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=nt(0);function l(){c.x=vs(s)}if(n||!n&&!o)if((Lr(e)!=="body"||yn(s))&&(a=gs(e)),n){const u=Zt(e,!0,o,e);c.x=u.x+e.clientLeft,c.y=u.y+e.clientTop}else s&&l();o&&!n&&s&&l();const d=s&&!n&&!o?ll(s,a):nt(0),f=i.left+a.scrollLeft-c.x-d.x,m=i.top+a.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function qs(t){return Je(t).position==="static"}function pa(t,e){if(!st(t)||Je(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return it(t)===r&&(r=r.ownerDocument.body),r}function dl(t,e){const r=je(t);if(ms(t))return r;if(!st(t)){let s=Dt(t);for(;s&&!Ir(s);){if(Ge(s)&&!qs(s))return s;s=Dt(s)}return r}let n=pa(t,e);for(;n&&Om(n)&&qs(n);)n=pa(n,e);return n&&Ir(n)&&qs(n)&&!ni(n)?r:n||Mm(t)||r}const Ym=async function(t){const e=this.getOffsetParent||dl,r=this.getDimensions,n=await r(t.floating);return{reference:Jm(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Qm(t){return Je(t).direction==="rtl"}const Xm={convertOffsetParentRelativeRectToViewportRelativeRect:Fm,getDocumentElement:it,getClippingRect:Hm,getOffsetParent:dl,getElementRects:Ym,getClientRects:Bm,getDimensions:Gm,getScale:xr,isElement:Ge,isRTL:Qm};function hl(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Zm(t,e){let r=null,n;const s=it(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const l=t.getBoundingClientRect(),{left:d,top:f,width:m,height:u}=l;if(a||e(),!m||!u)return;const v=On(f),g=On(s.clientWidth-(d+m)),y=On(s.clientHeight-(f+u)),w=On(d),b={rootMargin:-v+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Oe(0,Nt(1,c))||1};let _=!0;function S(E){const R=E[0].intersectionRatio;if(R!==c){if(!_)return i();R?i(!1,R):n=setTimeout(()=>{i(!1,1e-7)},1e3)}R===1&&!hl(l,t.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(t)}return i(!0),o}function eg(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=oi(t),d=s||o?[...l?en(l):[],...en(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const f=l&&a?Zm(l,r):null;let m=-1,u=null;i&&(u=new ResizeObserver(w=>{let[x]=w;x&&x.target===l&&u&&(u.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=u)==null||b.observe(e)})),r()}),l&&!c&&u.observe(l),u.observe(e));let v,g=c?Zt(t):null;c&&y();function y(){const w=Zt(t);g&&!hl(g,w)&&r(),g=w,v=requestAnimationFrame(y)}return r(),()=>{var w;d.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),f==null||f(),(w=u)==null||w.disconnect(),u=null,c&&cancelAnimationFrame(v)}}const tg=Cm,rg=Tm,ng=xm,sg=km,og=Sm,ma=_m,ig=Rm,ag=(t,e,r)=>{const n=new Map,s={platform:Xm,...r},o={...s.platform,_c:n};return bm(t,e,{...s,platform:o})};var cg=typeof document<"u",lg=function(){},qn=cg?h.useLayoutEffect:lg;function Zn(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Zn(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!Zn(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function fl(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ga(t,e){const r=fl(t);return Math.round(e*r)/r}function Ks(t){const e=h.useRef(t);return qn(()=>{e.current=t}),e}function ug(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[d,f]=h.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,u]=h.useState(n);Zn(m,n)||u(n);const[v,g]=h.useState(null),[y,w]=h.useState(null),x=h.useCallback(D=>{D!==E.current&&(E.current=D,g(D))},[]),b=h.useCallback(D=>{D!==R.current&&(R.current=D,w(D))},[]),_=o||v,S=i||y,E=h.useRef(null),R=h.useRef(null),C=h.useRef(d),k=c!=null,I=Ks(c),N=Ks(s),j=Ks(l),W=h.useCallback(()=>{if(!E.current||!R.current)return;const D={placement:e,strategy:r,middleware:m};N.current&&(D.platform=N.current),ag(E.current,R.current,D).then(A=>{const K={...A,isPositioned:j.current!==!1};O.current&&!Zn(C.current,K)&&(C.current=K,cs.flushSync(()=>{f(K)}))})},[m,e,r,N,j]);qn(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[l]);const O=h.useRef(!1);qn(()=>(O.current=!0,()=>{O.current=!1}),[]),qn(()=>{if(_&&(E.current=_),S&&(R.current=S),_&&S){if(I.current)return I.current(_,S,W);W()}},[_,S,W,I,k]);const q=h.useMemo(()=>({reference:E,floating:R,setReference:x,setFloating:b}),[x,b]),L=h.useMemo(()=>({reference:_,floating:S}),[_,S]),B=h.useMemo(()=>{const D={position:r,left:0,top:0};if(!L.floating)return D;const A=ga(L.floating,d.x),K=ga(L.floating,d.y);return a?{...D,transform:"translate("+A+"px, "+K+"px)",...fl(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:K}},[r,a,L.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:W,refs:q,elements:L,floatingStyles:B}),[d,W,q,L,B])}const dg=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?ma({element:n.current,padding:s}).fn(r):{}:n?ma({element:n,padding:s}).fn(r):{}}}},hg=(t,e)=>({...tg(t),options:[t,e]}),fg=(t,e)=>({...rg(t),options:[t,e]}),pg=(t,e)=>({...ig(t),options:[t,e]}),mg=(t,e)=>({...ng(t),options:[t,e]}),gg=(t,e)=>({...sg(t),options:[t,e]}),vg=(t,e)=>({...og(t),options:[t,e]}),yg=(t,e)=>({...dg(t),options:[t,e]});var wg="Arrow",pl=h.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return p.jsx(Q.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});pl.displayName=wg;var bg=pl;function ml(t){const[e,r]=h.useState(void 0);return ht(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,l=Array.isArray(c)?c[0]:c;i=l.inlineSize,a=l.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var ii="Popper",[gl,ys]=mt(ii),[_g,vl]=gl(ii),yl=t=>{const{__scopePopper:e,children:r}=t,[n,s]=h.useState(null);return p.jsx(_g,{scope:e,anchor:n,onAnchorChange:s,children:r})};yl.displayName=ii;var wl="PopperAnchor",bl=h.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=vl(wl,r),i=h.useRef(null),a=re(e,i),c=h.useRef(null);return h.useEffect(()=>{const l=c.current;c.current=(n==null?void 0:n.current)||i.current,l!==c.current&&o.onAnchorChange(c.current)}),n?null:p.jsx(Q.div,{...s,ref:a})});bl.displayName=wl;var ai="PopperContent",[xg,Sg]=gl(ai),_l=h.forwardRef((t,e)=>{var Z,at,pe,Qe,vt,nr;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:u="optimized",onPlaced:v,...g}=t,y=vl(ai,r),[w,x]=h.useState(null),b=re(e,yt=>x(yt)),[_,S]=h.useState(null),E=ml(_),R=(E==null?void 0:E.width)??0,C=(E==null?void 0:E.height)??0,k=n+(o!=="center"?"-"+o:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(l)?l:[l],j=N.length>0,W={padding:I,boundary:N.filter(Cg),altBoundary:j},{refs:O,floatingStyles:q,placement:L,isPositioned:B,middlewareData:D}=ug({strategy:"fixed",placement:k,whileElementsMounted:(...yt)=>eg(...yt,{animationFrame:u==="always"}),elements:{reference:y.anchor},middleware:[hg({mainAxis:s+C,alignmentAxis:i}),c&&fg({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?pg():void 0,...W}),c&&mg({...W}),gg({...W,apply:({elements:yt,rects:Sn,availableWidth:Is,availableHeight:En})=>{const{width:Ns,height:Wr}=Sn.reference,sr=yt.floating.style;sr.setProperty("--radix-popper-available-width",`${Is}px`),sr.setProperty("--radix-popper-available-height",`${En}px`),sr.setProperty("--radix-popper-anchor-width",`${Ns}px`),sr.setProperty("--radix-popper-anchor-height",`${Wr}px`)}}),_&&yg({element:_,padding:a}),Tg({arrowWidth:R,arrowHeight:C}),m&&vg({strategy:"referenceHidden",...W})]}),[A,K]=El(L),ee=Ie(v);ht(()=>{B&&(ee==null||ee())},[B,ee]);const H=(Z=D.arrow)==null?void 0:Z.x,J=(at=D.arrow)==null?void 0:at.y,X=((pe=D.arrow)==null?void 0:pe.centerOffset)!==0,[he,Re]=h.useState();return ht(()=>{w&&Re(window.getComputedStyle(w).zIndex)},[w]),p.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:B?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Qe=D.transformOrigin)==null?void 0:Qe.x,(vt=D.transformOrigin)==null?void 0:vt.y].join(" "),...((nr=D.hide)==null?void 0:nr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(xg,{scope:r,placedSide:A,onArrowChange:S,arrowX:H,arrowY:J,shouldHideArrow:X,children:p.jsx(Q.div,{"data-side":A,"data-align":K,...g,ref:b,style:{...g.style,animation:B?void 0:"none"}})})})});_l.displayName=ai;var xl="PopperArrow",Eg={top:"bottom",right:"left",bottom:"top",left:"right"},Sl=h.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=Sg(xl,n),i=Eg[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(bg,{...s,ref:r,style:{...s.style,display:"block"}})})});Sl.displayName=xl;function Cg(t){return t!==null}var Tg=t=>({name:"transformOrigin",options:t,fn(e){var y,w,x;const{placement:r,rects:n,middlewareData:s}=e,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[l,d]=El(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,u=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",g="";return l==="bottom"?(v=i?f:`${m}px`,g=`${-c}px`):l==="top"?(v=i?f:`${m}px`,g=`${n.floating.height+c}px`):l==="right"?(v=`${-c}px`,g=i?f:`${u}px`):l==="left"&&(v=`${n.floating.width+c}px`,g=i?f:`${u}px`),{data:{x:v,y:g}}}});function El(t){const[e,r="center"]=t.split("-");return[e,r]}var Cl=yl,Tl=bl,Rl=_l,kl=Sl,Rg=Symbol("radix.slottable");function kg(t){const e=({children:r})=>p.jsx(p.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Rg,e}var[ws]=mt("Tooltip",[ys]),bs=ys(),Al="TooltipProvider",Ag=700,wo="tooltip.open",[Pg,ci]=ws(Al),Pl=t=>{const{__scopeTooltip:e,delayDuration:r=Ag,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,i=h.useRef(!0),a=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),p.jsx(Pg,{scope:e,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(l=>{a.current=l},[]),disableHoverableContent:s,children:o})};Pl.displayName=Al;var tn="Tooltip",[Og,_s]=ws(tn),Ol=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=t,c=ci(tn,t.__scopeTooltip),l=bs(e),[d,f]=h.useState(null),m=Xt(),u=h.useRef(0),v=i??c.disableHoverableContent,g=a??c.delayDuration,y=h.useRef(!1),[w,x]=Dr({prop:n,defaultProp:s??!1,onChange:R=>{R?(c.onOpen(),document.dispatchEvent(new CustomEvent(wo))):c.onClose(),o==null||o(R)},caller:tn}),b=h.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),_=h.useCallback(()=>{window.clearTimeout(u.current),u.current=0,y.current=!1,x(!0)},[x]),S=h.useCallback(()=>{window.clearTimeout(u.current),u.current=0,x(!1)},[x]),E=h.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>{y.current=!0,x(!0),u.current=0},g)},[g,x]);return h.useEffect(()=>()=>{u.current&&(window.clearTimeout(u.current),u.current=0)},[]),p.jsx(Cl,{...l,children:p.jsx(Og,{scope:e,contentId:m,open:w,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayedRef.current?E():_()},[c.isOpenDelayedRef,E,_]),onTriggerLeave:h.useCallback(()=>{v?S():(window.clearTimeout(u.current),u.current=0)},[S,v]),onOpen:_,onClose:S,disableHoverableContent:v,children:r})})};Ol.displayName=tn;var bo="TooltipTrigger",jl=h.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=_s(bo,r),o=ci(bo,r),i=bs(r),a=h.useRef(null),c=re(e,a,s.onTriggerChange),l=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>l.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(Tl,{asChild:!0,...i,children:p.jsx(Q.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:M(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:M(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:M(t.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:M(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:M(t.onBlur,s.onClose),onClick:M(t.onClick,s.onClose)})})});jl.displayName=bo;var jg="TooltipPortal",[dS,Ig]=ws(jg,{forceMount:void 0}),Nr="TooltipContent",Il=h.forwardRef((t,e)=>{const r=Ig(Nr,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,i=_s(Nr,t.__scopeTooltip);return p.jsx(ot,{present:n||i.open,children:i.disableHoverableContent?p.jsx(Nl,{side:s,...o,ref:e}):p.jsx(Ng,{side:s,...o,ref:e})})}),Ng=h.forwardRef((t,e)=>{const r=_s(Nr,t.__scopeTooltip),n=ci(Nr,t.__scopeTooltip),s=h.useRef(null),o=re(e,s),[i,a]=h.useState(null),{trigger:c,onClose:l}=r,d=s.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{a(null),f(!1)},[f]),u=h.useCallback((v,g)=>{const y=v.currentTarget,w={x:v.clientX,y:v.clientY},x=Ug(w,y.getBoundingClientRect()),b=Fg(w,x),_=Bg(g.getBoundingClientRect()),S=Wg([...b,..._]);a(S),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const v=y=>u(y,d),g=y=>u(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,u,m]),h.useEffect(()=>{if(i){const v=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!Vg(w,i);x?m():b&&(m(),l())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,l,m]),p.jsx(Nl,{...t,ref:o})}),[Dg,Mg]=ws(tn,{isInside:!1}),$g=kg("TooltipContent"),Nl=h.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,c=_s(Nr,r),l=bs(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(wo,d),()=>document.removeEventListener(wo,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const u=m.target;u!=null&&u.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),p.jsx(gn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:p.jsxs(Rl,{"data-state":c.stateAttribute,...l,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx($g,{children:n}),p.jsx(Dg,{scope:r,isInside:!0,children:p.jsx(mf,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Il.displayName=Nr;var Dl="TooltipArrow",Lg=h.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=bs(r);return Mg(Dl,r).isInside?null:p.jsx(kl,{...s,...n,ref:e})});Lg.displayName=Dl;function Ug(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Fg(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Bg(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function Vg(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],c=e[i],l=a.x,d=a.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-l)*(n-d)/(m-d)+l&&(s=!s)}return s}function Wg(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),zg(e)}function zg(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var qg=Pl,Kg=Ol,Hg=jl,Ml=Il;const Gg=qg,hS=Kg,fS=Hg,Jg=h.forwardRef(({className:t,sideOffset:e=4,...r},n)=>p.jsx(Ml,{ref:n,sideOffset:e,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Jg.displayName=Ml.displayName;var xs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yg={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},kt,Wo,cc,Qg=(cc=class{constructor(){Y(this,kt,Yg);Y(this,Wo,!1)}setTimeoutProvider(t){V(this,kt,t)}setTimeout(t,e){return T(this,kt).setTimeout(t,e)}clearTimeout(t){T(this,kt).clearTimeout(t)}setInterval(t,e){return T(this,kt).setInterval(t,e)}clearInterval(t){T(this,kt).clearInterval(t)}},kt=new WeakMap,Wo=new WeakMap,cc),_o=new Qg;function Xg(t){setTimeout(t,0)}var Ss=typeof window>"u"||"Deno"in globalThis;function ze(){}function Zg(t,e){return typeof t=="function"?t(e):t}function ev(t){return typeof t=="number"&&t>=0&&t!==1/0}function tv(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xo(t,e){return typeof t=="function"?t(e):t}function rv(t,e){return typeof t=="function"?t(e):t}function va(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(n){if(e.queryHash!==li(i,e.options))return!1}else if(!nn(e.queryKey,i))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function ya(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(rn(e.options.mutationKey)!==rn(o))return!1}else if(!nn(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function li(t,e){return((e==null?void 0:e.queryKeyHashFn)||rn)(t)}function rn(t){return JSON.stringify(t,(e,r)=>So(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function nn(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>nn(t[r],e[r])):!1}var nv=Object.prototype.hasOwnProperty;function $l(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=wa(t)&&wa(e);if(!n&&!(So(t)&&So(e)))return e;const o=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,c=n?new Array(a):{};let l=0;for(let d=0;d<a;d++){const f=n?d:i[d],m=t[f],u=e[f];if(m===u){c[f]=m,(n?d<o:nv.call(t,f))&&l++;continue}if(m===null||u===null||typeof m!="object"||typeof u!="object"){c[f]=u;continue}const v=$l(m,u,r+1);c[f]=v,v===m&&l++}return o===a&&l===o?t:c}function pS(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function wa(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function So(t){if(!ba(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ba(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ba(t){return Object.prototype.toString.call(t)==="[object Object]"}function sv(t){return new Promise(e=>{_o.setTimeout(e,t)})}function ov(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?$l(t,e):e}function iv(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function av(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ui=Symbol();function Ll(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ui?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function mS(t,e){return typeof t=="function"?t(...e):!!t}function cv(t,e,r){let n=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),t}var Kt,At,Cr,lc,lv=(lc=class extends xs{constructor(){super();Y(this,Kt);Y(this,At);Y(this,Cr);V(this,Cr,e=>{if(!Ss&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,At)||this.setEventListener(T(this,Cr))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,At))==null||e.call(this),V(this,At,void 0))}setEventListener(e){var r;V(this,Cr,e),(r=T(this,At))==null||r.call(this),V(this,At,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){T(this,Kt)!==e&&(V(this,Kt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof T(this,Kt)=="boolean"?T(this,Kt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Kt=new WeakMap,At=new WeakMap,Cr=new WeakMap,lc),Ul=new lv;function uv(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var dv=Xg;function hv(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=dv;const o=a=>{e?t.push(a):s(()=>{r(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Ee=hv(),Tr,Pt,Rr,uc,fv=(uc=class extends xs{constructor(){super();Y(this,Tr,!0);Y(this,Pt);Y(this,Rr);V(this,Rr,e=>{if(!Ss&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){T(this,Pt)||this.setEventListener(T(this,Rr))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Pt))==null||e.call(this),V(this,Pt,void 0))}setEventListener(e){var r;V(this,Rr,e),(r=T(this,Pt))==null||r.call(this),V(this,Pt,e(this.setOnline.bind(this)))}setOnline(e){T(this,Tr)!==e&&(V(this,Tr,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return T(this,Tr)}},Tr=new WeakMap,Pt=new WeakMap,Rr=new WeakMap,uc),es=new fv;function pv(t){return Math.min(1e3*2**t,3e4)}function Fl(t){return(t??"online")==="online"?es.isOnline():!0}var Eo=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Bl(t){let e=!1,r=0,n;const s=uv(),o=()=>s.status!=="pending",i=g=>{var y;if(!o()){const w=new Eo(g);m(w),(y=t.onCancel)==null||y.call(t,w)}},a=()=>{e=!0},c=()=>{e=!1},l=()=>Ul.isFocused()&&(t.networkMode==="always"||es.isOnline())&&t.canRun(),d=()=>Fl(t.networkMode)&&t.canRun(),f=g=>{o()||(n==null||n(),s.resolve(g))},m=g=>{o()||(n==null||n(),s.reject(g))},u=()=>new Promise(g=>{var y;n=w=>{(o()||l())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;n=void 0,o()||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(o())return;let g;const y=r===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var E;if(o())return;const x=t.retry??(Ss?0:3),b=t.retryDelay??pv,_=typeof b=="function"?b(r,w):b,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(e||!S){m(w);return}r++,(E=t.onFail)==null||E.call(t,r,w),sv(_).then(()=>l()?void 0:u()).then(()=>{e?m(w):v()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?v():u().then(v),s)}}var Ht,dc,Vl=(dc=class{constructor(){Y(this,Ht)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ev(this.gcTime)&&V(this,Ht,_o.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ss?1/0:5*60*1e3))}clearGcTimeout(){T(this,Ht)&&(_o.clearTimeout(T(this,Ht)),V(this,Ht,void 0))}},Ht=new WeakMap,dc),Gt,kr,De,Jt,me,fn,Yt,qe,lt,hc,mv=(hc=class extends Vl{constructor(e){super();Y(this,qe);Y(this,Gt);Y(this,kr);Y(this,De);Y(this,Jt);Y(this,me);Y(this,fn);Y(this,Yt);V(this,Yt,!1),V(this,fn,e.defaultOptions),this.setOptions(e.options),this.observers=[],V(this,Jt,e.client),V(this,De,T(this,Jt).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,V(this,Gt,xa(this.options)),this.state=e.state??T(this,Gt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=T(this,me))==null?void 0:e.promise}setOptions(e){if(this.options={...T(this,fn),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=xa(this.options);r.data!==void 0&&(this.setState(_a(r.data,r.dataUpdatedAt)),V(this,Gt,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,De).remove(this)}setData(e,r){const n=ov(this.state.data,e,this.options);return we(this,qe,lt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){we(this,qe,lt).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=T(this,me))==null?void 0:n.promise;return(s=T(this,me))==null||s.cancel(e),r?r.then(ze).catch(ze):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Gt))}isActive(){return this.observers.some(e=>rv(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ui||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!tv(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,me))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,me))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),T(this,De).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(T(this,me)&&(T(this,Yt)?T(this,me).cancel({revert:!0}):T(this,me).cancelRetry()),this.scheduleGc()),T(this,De).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,qe,lt).call(this,{type:"invalidate"})}async fetch(e,r){var c,l,d,f,m,u,v,g,y,w,x,b;if(this.state.fetchStatus!=="idle"&&((c=T(this,me))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,me))return T(this,me).continueRetry(),T(this,me).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(V(this,Yt,!0),n.signal)})},o=()=>{const _=Ll(this.options,r),E=(()=>{const R={client:T(this,Jt),queryKey:this.queryKey,meta:this.meta};return s(R),R})();return V(this,Yt,!1),this.options.persister?this.options.persister(_,E,this):_(E)},a=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:T(this,Jt),state:this.state,fetchFn:o};return s(_),_})();(l=this.options.behavior)==null||l.onFetch(a,this),V(this,kr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&we(this,qe,lt).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),V(this,me,Bl({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:_=>{_ instanceof Eo&&_.revert&&this.setState({...T(this,kr),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{we(this,qe,lt).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{we(this,qe,lt).call(this,{type:"pause"})},onContinue:()=>{we(this,qe,lt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const _=await T(this,me).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(u=(m=T(this,De).config).onSuccess)==null||u.call(m,_,this),(g=(v=T(this,De).config).onSettled)==null||g.call(v,_,this.state.error,this),_}catch(_){if(_ instanceof Eo){if(_.silent)return T(this,me).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw we(this,qe,lt).call(this,{type:"error",error:_}),(w=(y=T(this,De).config).onError)==null||w.call(y,_,this),(b=(x=T(this,De).config).onSettled)==null||b.call(x,this.state.data,_,this),_}finally{this.scheduleGc()}}},Gt=new WeakMap,kr=new WeakMap,De=new WeakMap,Jt=new WeakMap,me=new WeakMap,fn=new WeakMap,Yt=new WeakMap,qe=new WeakSet,lt=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...gv(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,..._a(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return V(this,kr,e.manual?s:void 0),s;case"error":const o=e.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ee.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),T(this,De).notify({query:this,type:"updated",action:e})})},hc);function gv(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fl(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _a(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xa(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Sa(t){return{onFetch:(e,r)=>{var d,f,m,u,v;const n=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((u=e.state.data)==null?void 0:u.pages)||[],i=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const y=b=>{cv(b,()=>e.signal,()=>g=!0)},w=Ll(e.options,e.fetchOptions),x=async(b,_,S)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const R=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return y(N),N})(),C=await w(R),{maxPages:k}=e.options,I=S?av:iv;return{pages:I(b.pages,C,k),pageParams:I(b.pageParams,_,k)}};if(s&&o.length){const b=s==="backward",_=b?vv:Ea,S={pages:o,pageParams:i},E=_(n,S);a=await x(S,E,b)}else{const b=t??o.length;do{const _=c===0?i[0]??n.initialPageParam:Ea(n,a);if(c>0&&_==null)break;a=await x(a,_),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=l}}}function Ea(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function vv(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var pn,Xe,_e,Qt,Ze,Et,fc,yv=(fc=class extends Vl{constructor(e){super();Y(this,Ze);Y(this,pn);Y(this,Xe);Y(this,_e);Y(this,Qt);V(this,pn,e.client),this.mutationId=e.mutationId,V(this,_e,e.mutationCache),V(this,Xe,[]),this.state=e.state||wv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){T(this,Xe).includes(e)||(T(this,Xe).push(e),this.clearGcTimeout(),T(this,_e).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){V(this,Xe,T(this,Xe).filter(r=>r!==e)),this.scheduleGc(),T(this,_e).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){T(this,Xe).length||(this.state.status==="pending"?this.scheduleGc():T(this,_e).remove(this))}continue(){var e;return((e=T(this,Qt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,c,l,d,f,m,u,v,g,y,w,x,b,_,S,E,R;const r=()=>{we(this,Ze,Et).call(this,{type:"continue"})},n={client:T(this,pn),meta:this.options.meta,mutationKey:this.options.mutationKey};V(this,Qt,Bl({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,k)=>{we(this,Ze,Et).call(this,{type:"failed",failureCount:C,error:k})},onPause:()=>{we(this,Ze,Et).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,_e).canRun(this)}));const s=this.state.status==="pending",o=!T(this,Qt).canStart();try{if(s)r();else{we(this,Ze,Et).call(this,{type:"pending",variables:e,isPaused:o}),T(this,_e).config.onMutate&&await T(this,_e).config.onMutate(e,this,n);const k=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,e,n));k!==this.state.context&&we(this,Ze,Et).call(this,{type:"pending",context:k,variables:e,isPaused:o})}const C=await T(this,Qt).start();return await((l=(c=T(this,_e).config).onSuccess)==null?void 0:l.call(c,C,e,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,e,this.state.context,n)),await((u=(m=T(this,_e).config).onSettled)==null?void 0:u.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,C,null,e,this.state.context,n)),we(this,Ze,Et).call(this,{type:"success",data:C}),C}catch(C){try{await((w=(y=T(this,_e).config).onError)==null?void 0:w.call(y,C,e,this.state.context,this,n))}catch(k){Promise.reject(k)}try{await((b=(x=this.options).onError)==null?void 0:b.call(x,C,e,this.state.context,n))}catch(k){Promise.reject(k)}try{await((S=(_=T(this,_e).config).onSettled)==null?void 0:S.call(_,void 0,C,this.state.variables,this.state.context,this,n))}catch(k){Promise.reject(k)}try{await((R=(E=this.options).onSettled)==null?void 0:R.call(E,void 0,C,e,this.state.context,n))}catch(k){Promise.reject(k)}throw we(this,Ze,Et).call(this,{type:"error",error:C}),C}finally{T(this,_e).runNext(this)}}},pn=new WeakMap,Xe=new WeakMap,_e=new WeakMap,Qt=new WeakMap,Ze=new WeakSet,Et=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ee.batch(()=>{T(this,Xe).forEach(n=>{n.onMutationUpdate(e)}),T(this,_e).notify({mutation:this,type:"updated",action:e})})},fc);function wv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dt,Ke,mn,pc,bv=(pc=class extends xs{constructor(e={}){super();Y(this,dt);Y(this,Ke);Y(this,mn);this.config=e,V(this,dt,new Set),V(this,Ke,new Map),V(this,mn,0)}build(e,r,n){const s=new yv({client:e,mutationCache:this,mutationId:++Tn(this,mn)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){T(this,dt).add(e);const r=jn(e);if(typeof r=="string"){const n=T(this,Ke).get(r);n?n.push(e):T(this,Ke).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(T(this,dt).delete(e)){const r=jn(e);if(typeof r=="string"){const n=T(this,Ke).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&T(this,Ke).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=jn(e);if(typeof r=="string"){const n=T(this,Ke).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=jn(e);if(typeof r=="string"){const s=(n=T(this,Ke).get(r))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ee.batch(()=>{T(this,dt).forEach(e=>{this.notify({type:"removed",mutation:e})}),T(this,dt).clear(),T(this,Ke).clear()})}getAll(){return Array.from(T(this,dt))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ya(r,n))}findAll(e={}){return this.getAll().filter(r=>ya(e,r))}notify(e){Ee.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Ee.batch(()=>Promise.all(e.map(r=>r.continue().catch(ze))))}},dt=new WeakMap,Ke=new WeakMap,mn=new WeakMap,pc);function jn(t){var e;return(e=t.options.scope)==null?void 0:e.id}var et,mc,_v=(mc=class extends xs{constructor(e={}){super();Y(this,et);this.config=e,V(this,et,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??li(s,r);let i=this.get(o);return i||(i=new mv({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){T(this,et).has(e.queryHash)||(T(this,et).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=T(this,et).get(e.queryHash);r&&(e.destroy(),r===e&&T(this,et).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ee.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return T(this,et).get(e)}getAll(){return[...T(this,et).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>va(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>va(e,n)):r}notify(e){Ee.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ee.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ee.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},et=new WeakMap,mc),ce,Ot,jt,Ar,Pr,It,Or,jr,gc,xv=(gc=class{constructor(t={}){Y(this,ce);Y(this,Ot);Y(this,jt);Y(this,Ar);Y(this,Pr);Y(this,It);Y(this,Or);Y(this,jr);V(this,ce,t.queryCache||new _v),V(this,Ot,t.mutationCache||new bv),V(this,jt,t.defaultOptions||{}),V(this,Ar,new Map),V(this,Pr,new Map),V(this,It,0)}mount(){Tn(this,It)._++,T(this,It)===1&&(V(this,Or,Ul.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,ce).onFocus())})),V(this,jr,es.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,ce).onOnline())})))}unmount(){var t,e;Tn(this,It)._--,T(this,It)===0&&((t=T(this,Or))==null||t.call(this),V(this,Or,void 0),(e=T(this,jr))==null||e.call(this),V(this,jr,void 0))}isFetching(t){return T(this,ce).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return T(this,Ot).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,ce).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=T(this,ce).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(xo(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return T(this,ce).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=T(this,ce).get(n.queryHash),o=s==null?void 0:s.state.data,i=Zg(e,o);if(i!==void 0)return T(this,ce).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return Ee.batch(()=>T(this,ce).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,ce).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=T(this,ce);Ee.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=T(this,ce);return Ee.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Ee.batch(()=>T(this,ce).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(ze).catch(ze)}invalidateQueries(t,e={}){return Ee.batch(()=>(T(this,ce).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Ee.batch(()=>T(this,ce).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(ze)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(ze)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=T(this,ce).build(this,e);return r.isStaleByTime(xo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ze).catch(ze)}fetchInfiniteQuery(t){return t.behavior=Sa(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ze).catch(ze)}ensureInfiniteQueryData(t){return t.behavior=Sa(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return es.isOnline()?T(this,Ot).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,ce)}getMutationCache(){return T(this,Ot)}getDefaultOptions(){return T(this,jt)}setDefaultOptions(t){V(this,jt,t)}setQueryDefaults(t,e){T(this,Ar).set(rn(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...T(this,Ar).values()],r={};return e.forEach(n=>{nn(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){T(this,Pr).set(rn(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...T(this,Pr).values()],r={};return e.forEach(n=>{nn(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...T(this,jt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=li(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ui&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...T(this,jt).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){T(this,ce).clear(),T(this,Ot).clear()}},ce=new WeakMap,Ot=new WeakMap,jt=new WeakMap,Ar=new WeakMap,Pr=new WeakMap,It=new WeakMap,Or=new WeakMap,jr=new WeakMap,gc),Wl=h.createContext(void 0),gS=t=>{const e=h.useContext(Wl);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Sv=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(Wl.Provider,{value:t,children:e})),tt=function(){return tt=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},tt.apply(this,arguments)};function Ur(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Ev(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{l(n.next(d))}catch(f){i(f)}}function c(d){try{l(n.throw(d))}catch(f){i(f)}}function l(d){d.done?o(d.value):s(d.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Cv(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}const Tv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class di extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Rv extends di{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ca extends di{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ta extends di{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Co;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Co||(Co={}));class kv{constructor(e,{headers:r={},customFetch:n,region:s=Co.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Tv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ev(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:c,body:l,signal:d,timeout:f}=n;let m={},{region:u}=n;u||(u=this.region);const v=new URL(`${this.url}/${r}`);u&&u!=="any"&&(m["x-region"]=u,v.searchParams.set("forceFunctionRegion",u));let g;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(m["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(m["Content-Type"]="application/json",g=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?g=JSON.stringify(l):g=l;let y=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(y=i.signal,d.addEventListener("abort",()=>i.abort())):y=i.signal);const w=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:g,signal:y}).catch(S=>{throw new Rv(S)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new Ca(w);if(!w.ok)throw new Ta(w);let b=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield w.json():b==="application/octet-stream"||b==="application/pdf"?_=yield w.blob():b==="text/event-stream"?_=w:b==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Ta||a instanceof Ca?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var Av=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Pv=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,c=null,l=o.status,d=o.statusText;if(o.ok){var f,m;if(r.method!=="HEAD"){var u;const w=await o.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((u=r.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");g&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const g=await o.text();try{i=JSON.parse(g),Array.isArray(i)&&o.status===404&&(a=[],i=null,l=200,d="OK")}catch{o.status===404&&g===""?(l=204,d="No Content"):i={message:g}}if(i&&r.isMaybeSingle&&(!(i==null||(v=i.details)===null||v===void 0)&&v.includes("0 rows"))&&(i=null,l=200,d="OK"),i&&r.shouldThrowOnError)throw new Av(i)}return{error:i,data:a,count:c,status:l,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="";const c=o==null?void 0:o.cause;if(c){var l,d,f,m;const v=(l=c==null?void 0:c.message)!==null&&l!==void 0?l:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";a=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"Error"}: ${v}`,g&&(a+=` (${g})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var u;a=(u=o==null?void 0:o.stack)!==null&&u!==void 0?u:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},Ov=class extends Pv{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Ra=new RegExp("[,()]");var vr=class extends Ov{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Ra.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Ra.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},jv=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",i),n&&c.append("Prefer",`count=${n}`),new vr({method:s,url:a,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:i}=this.cloneRequestState();if(e&&i.append("Prefer",`count=${e}`),r||i.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){const c=[...new Set(a)].map(l=>`"${l}"`);o.searchParams.set("columns",c.join(","))}}return new vr({method:s,url:o,headers:i,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(l.length>0){const d=[...new Set(l)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new vr({method:i,url:a,headers:c,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new vr({method:n,url:s,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new vr({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Iv=class zl{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new jv(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new zl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const c=new URL(`${this.url}/rpc/${e}`);let l;const d=u=>u!==null&&typeof u=="object"&&(!Array.isArray(u)||u.some(d)),f=n&&Object.values(r).some(d);f?(a="POST",l=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([u,v])=>v!==void 0).map(([u,v])=>[u,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([u,v])=>{c.searchParams.append(u,v)})):(a="POST",l=r);const m=new Headers(this.headers);return f?m.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&m.set("Prefer",`count=${o}`),new vr({method:a,url:c,headers:m,schema:this.schemaName,body:l,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class Nv{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Dv="2.93.1",Mv=`realtime-js/${Dv}`,$v="1.0.0",ql="2.0.0",ka=ql,To=1e4,Lv=1e3,Uv=100;var Tt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Tt||(Tt={}));var fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(fe||(fe={}));var He;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(He||(He={}));var Ro;(function(t){t.websocket="websocket"})(Ro||(Ro={}));var Wt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wt||(Wt={}));class Fv{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,r,n){var s,o;const i=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",l=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+i.length+l.length+f.length,u=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(u),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,a.length),v.setUint8(g++,i.length),v.setUint8(g++,l.length),v.setUint8(g++,f.length),v.setUint8(g++,r),Array.from(c,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(a,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(i,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(l,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(f,w=>v.setUint8(g++,w.charCodeAt(0)));var y=new Uint8Array(u.byteLength+n.byteLength);return y.set(new Uint8Array(u),0),y.set(new Uint8Array(n),u.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,o,i,a,c]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let c=this.HEADER_LENGTH+4;const l=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+o));c=c+o;const f=n.decode(e.slice(c,c+i));c=c+i;const m=e.slice(c,e.byteLength),u=a===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,v={type:this.BROADCAST_EVENT,event:d,payload:u};return i>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Kl{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ne||(ne={}));const Aa=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=Bv(i,t,e,s),o),{}):{}},Bv=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?Hl(o,i):ko(i)},Hl=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return qv(e,r)}switch(t){case ne.bool:return Vv(e);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return Wv(e);case ne.json:case ne.jsonb:return zv(e);case ne.timestamp:return Kv(e);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return ko(e);default:return ko(e)}},ko=t=>t,Vv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Wv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},zv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},qv=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Hl(e,a))}return t},Kv=t=>typeof t=="string"?t.replace(" ","T"):t,Gl=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hs{constructor(e,r,n={},s=To){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pa;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pa||(Pa={}));class Qr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qr.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Qr.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qr.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},c={};return this.map(o,(l,d)=>{i[l]||(c[l]=d)}),this.map(i,(l,d)=>{const f=o[l];if(f){const m=d.map(y=>y.presence_ref),u=f.map(y=>y.presence_ref),v=d.filter(y=>u.indexOf(y.presence_ref)<0),g=f.filter(y=>m.indexOf(y.presence_ref)<0);v.length>0&&(a[l]=v),g.length>0&&(c[l]=g)}else a[l]=d}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var l;const d=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),d.length>0){const f=e[a].map(u=>u.presence_ref),m=d.filter(u=>f.indexOf(u.presence_ref)<0);e[a].unshift(...m)}n(a,d,c)}),this.map(i,(a,c)=>{let l=e[a];if(!l)return;const d=c.map(f=>f.presence_ref);l=l.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Oa;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Oa||(Oa={}));var Xr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xr||(Xr={}));var ut;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ut||(ut={}));class br{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hs(this,He.join,this.params,this.timeout),this.rejoinTimer=new Kl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Qr(this),this.broadcastEndpointURL=Gl(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Xr.PRESENCE]&&this.bindings[Xr.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(u=>e==null?void 0:e(ut.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ut.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),u===void 0){e==null||e(ut.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,w=[];for(let x=0;x<y;x++){const b=g[x],{filter:{event:_,schema:S,table:E,filter:R}}=b,C=u&&u[x];if(C&&C.event===_&&br.isFilterValueEqual(C.schema,S)&&br.isFilterValueEqual(C.table,E)&&br.isFilterValueEqual(C.filter,R))w.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=fe.errored,e==null||e(ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ut.SUBSCRIBED);return}}).receive("error",u=>{this.state=fe.errored,e==null||e(ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===fe.joined&&e===Xr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const l=await a.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Hs(this,He.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hs(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Uv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:d}=He;if(n&&[a,c,l,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(u=>{var v,g,y;return((v=u.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=u.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(u=>u.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(u=>{var v,g,y,w,x,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in u){const _=u.id,S=(v=u.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(x=(w=u==null?void 0:u.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return u.type.toLocaleLowerCase()===i}).map(u=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:g,table:y,commit_timestamp:w,type:x,errors:b}=v;m=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(v))}u.callback(m,n)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&br.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(He.close,{},e)}_onError(e){this._on(He.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Aa(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Aa(e.columns,e.old_record)),r}}const Gs=()=>{},In={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hv=[1e3,2e3,5e3,1e4],Gv=1e4,Jv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yv{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=To,this.transport=null,this.heartbeatIntervalMs=In.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gs,this.ref=0,this.reconnectTimer=null,this.vsn=ka,this.logger=Gs,this.conn=null,this.sendBuffer=[],this.serializer=new Fv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ro.websocket}`,this.httpEndpoint=Gl(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Tt.connecting:return Wt.Connecting;case Tt.open:return Wt.Open;case Tt.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new br(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Lv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},In.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",l)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Tt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Tt.open||this.conn.readyState===Tt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(He.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Jv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:Mv};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(He.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Kl(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},In.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,a,c,l,d,f,m,u;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:To,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:In.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Gs,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:ka,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:v=>Hv[v-1]||Gv,this.vsn){case $v:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,g)=>g(JSON.parse(v));break;case ql:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var sn=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Qv(t,e,r){const n=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function Xv(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Zv(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=Qv(t.baseUrl,n,s),c=await Xv(t.auth),l=await e(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),d=await l.text(),f=(l.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!l.ok){const u=f?m:void 0,v=u==null?void 0:u.error;throw new sn((v==null?void 0:v.message)??`Request failed with status ${l.status}`,{status:l.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:u})}return{status:l.status,headers:l.headers,data:m}}}}function Nn(t){return t.join("")}var ey=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Nn(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nn(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nn(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nn(t.namespace)}`}),!0}catch(e){if(e instanceof sn&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof sn&&r.status===409)return;throw r}}};function cr(t){return t.join("")}var ty=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof sn&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof sn&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},ry=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Zv({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new ey(this.client,e),this.tableOps=new ty(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Es=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Cs(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Dn=class extends Es{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jl=class extends Es{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const ny=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ao=t=>{if(Array.isArray(t))return t.map(r=>Ao(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Ao(n)}),e},oy=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function on(t){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(t)}function iy(t,e){if(on(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(on(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ay(t){var e=iy(t,"string");return on(e)=="symbol"?e:e+""}function cy(t,e,r){return(e=ay(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ja(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ja(Object(r),!0).forEach(function(n){cy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ja(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Ia=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ly=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,o=s.status||500;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||o+"";e(new Dn(Ia(i),o,a,n))}).catch(()=>{if(n==="vectors"){const i=o+"";e(new Dn(s.statusText||`HTTP ${o} error`,o,i,n))}else{const i=o+"";e(new Dn(s.statusText||`HTTP ${o} error`,o,i,n))}});else{const i=o+"";e(new Dn(s.statusText||`HTTP ${o} error`,o,i,n))}}else e(new Jl(Ia(t),t,n))},uy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?F(F({},s),r):(sy(n)?(s.headers=F({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),F(F({},s),r))};async function Hr(t,e,r,n,s,o,i){return new Promise((a,c)=>{t(r,uy(e,n,s,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;if(i==="vectors"){const d=l.headers.get("content-type");if(!d||!d.includes("application/json"))return{}}return l.json()}).then(l=>a(l)).catch(l=>ly(l,c,n,i))})}function dy(t="storage"){return{get:async(e,r,n,s)=>Hr(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,o)=>Hr(e,"POST",r,s,o,n,t),put:async(e,r,n,s,o)=>Hr(e,"PUT",r,s,o,n,t),head:async(e,r,n,s)=>Hr(e,"HEAD",r,F(F({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,o)=>Hr(e,"DELETE",r,s,o,n,t)}}const hy=dy("storage"),{get:an,post:ie,put:Po,head:fy,remove:hi}=hy;var Fr=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=ny(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Cs(r))return{data:null,error:r};throw r}}},py=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Cs(e))return{data:null,error:e};throw e}}};let Yl;Yl=Symbol.toStringTag;var my=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Yl]="BlobDownloadBuilder",this.promise=null}asStream(){return new py(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Cs(e))return{data:null,error:e};throw e}}};const gy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Na={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vy=class extends Fr{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let o;const i=F(F({},Na),n);let a=F(F({},s.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(a=F(F({},a),n.headers));const l=s._removeEmptyFolders(e),d=s._getFinalPath(l),f=await(t=="PUT"?Po:ie)(s.fetch,`${s.url}/object/${d}`,o,F({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:l,id:f.Id,fullPath:f.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const o=s._removeEmptyFolders(t),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);return a.searchParams.set("token",e),s.handleOperation(async()=>{let c;const l=F({upsert:Na.upsert},n),d=F(F({},s.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType),{path:o,fullPath:(await Po(s.fetch,a.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=F({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const o=await ie(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),a=i.searchParams.get("token");if(!a)throw new Es("No token returned by API");return{signedUrl:i.toString(),path:t,token:a}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await ie(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await ie(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),o=await ie(n.fetch,`${n.url}/object/sign/${s}`,F({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await ie(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(i=>F(F({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(t),i=()=>an(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new my(i,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Ao(await an(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await fy(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Cs(n)&&n instanceof Jl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});i!==""&&n.push(i);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await hi(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=F(F(F({},gy),e),{},{prefix:t||""});return await ie(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=F({},t);return await ie(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const yy="2.93.1",wn={"X-Client-Info":`storage-js/${yy}`};var wy=class extends Fr{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),i=F(F({},wn),e);super(o,i,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await an(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await an(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await ie(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Po(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await hi(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},by=class extends Fr{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=F(F({},wn),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await an(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await hi(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!oy(t))throw new Es("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ry({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},_y=class extends Fr{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=F(F({},wn),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await ie(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await ie(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},xy=class extends Fr{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=F(F({},wn),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Sy=class extends Fr{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=F(F({},wn),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ie(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Ey=class extends Sy{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Cy(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},Cy=class extends _y{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Ty(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Ty=class extends xy{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Ry=class extends wy{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new vy(this.url,this.headers,t,this.fetch)}get vectors(){return new Ey(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new by(this.url+"/iceberg",this.headers,this.fetch)}};const Ql="2.93.1",yr=30*1e3,Oo=3,Js=Oo*yr,ky="http://localhost:9999",Ay="supabase.auth.token",Py={"X-Client-Info":`gotrue-js/${Ql}`},jo="X-Supabase-Api-Version",Xl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Oy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jy=10*60*1e3;class cn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Iy extends cn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ny(t){return $(t)&&t.name==="AuthApiError"}class zt extends cn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class gt extends cn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Pe extends gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ys(t){return $(t)&&t.name==="AuthSessionMissingError"}class lr extends gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mn extends gt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $n extends gt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dy(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class Da extends gt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class My extends gt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Io extends gt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Qs(t){return $(t)&&t.name==="AuthRetryableFetchError"}class Ma extends gt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class No extends gt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ts="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$a=` 	
\r=`.split(""),$y=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$a.length;e+=1)t[$a[e].charCodeAt(0)]=-2;for(let e=0;e<ts.length;e+=1)t[ts[e].charCodeAt(0)]=e;return t})();function La(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ts[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ts[n]),e.queuedBits-=6}}function Zl(t,e,r){const n=$y[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ua(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{Fy(i,n,r)};for(let i=0;i<t.length;i+=1)Zl(t.charCodeAt(i),s,o);return e.join("")}function Ly(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Uy(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ly(n,e)}}function Fy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Sr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Zl(t.charCodeAt(s),r,n);return new Uint8Array(e)}function By(t){const e=[];return Uy(t,r=>e.push(r)),new Uint8Array(e)}function qt(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>La(s,r,n)),La(null,r,n),e.join("")}function Vy(t){return Math.round(Date.now()/1e3)+t}function Wy(){return Symbol("auth-callback")}const ye=()=>typeof window<"u"&&typeof document<"u",Ut={tested:!1,writable:!1},eu=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ut.tested)return Ut.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ut.tested=!0,Ut.writable=!0}catch{Ut.tested=!0,Ut.writable=!1}return Ut.writable};function zy(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const tu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ft=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ve=async(t,e)=>{await t.removeItem(e)};class Ts{constructor(){this.promise=new Ts.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ts.promiseConstructor=Promise;function Ln(t){const e=t.split(".");if(e.length!==3)throw new No("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Oy.test(e[n]))throw new No("JWT not in base64url format");return{header:JSON.parse(Ua(e[0])),payload:JSON.parse(Ua(e[1])),signature:Sr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ky(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hy(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function Gy(t){return("0"+t.toString(16)).substr(-2)}function Jy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Gy).join("")}async function Yy(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Qy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Yy(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ur(t,e,r=!1){const n=Jy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await wr(t,`${e}-code-verifier`,s);const o=await Qy(n);return[o,n===o?"plain":"s256"]}const Xy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zy(t){const e=t.headers.get(jo);if(!e||!e.match(Xy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ew(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dr(t){if(!rw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xs(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nw(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Fa(t){return JSON.parse(JSON.stringify(t))}const Bt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sw=[502,503,504];async function Ba(t){var e;if(!qy(t))throw new Io(Bt(t),0);if(sw.includes(t.status))throw new Io(Bt(t),t.status);let r;try{r=await t.json()}catch(o){throw new zt(Bt(o),o)}let n;const s=Zy(t);if(s&&s.getTime()>=Xl["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ma(Bt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Pe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Ma(Bt(r),t.status,r.weak_password.reasons);throw new Iy(Bt(r),t.status||500,n)}const ow=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[jo]||(o[jo]=Xl["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await iw(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function iw(t,e,r,n,s,o){const i=ow(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new Io(Bt(c),0)}if(a.ok||await Ba(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Ba(c)}}function Ve(t){var e;let r=null;lw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Vy(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Va(t){const e=Ve(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aw(t){return{data:t,error:null}}function cw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=Ur(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function Wa(t){return t}function lw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zs=["global","local","others"];class uw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=tu(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Zs[0]){if(Zs.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zs.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ur(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,c;try{const l={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Wa});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,u=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return u.length>0&&(u.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);l[`${y}Page`]=g}),l.total=parseInt(m)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if($(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){dr(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){dr(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){dr(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){dr(e.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(e){dr(e.userId),dr(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,i,a,c;try{const l={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Wa});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,u=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return u.length>0&&(u.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);l[`${y}Page`]=g}),l.total=parseInt(m)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if($(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}}function za(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const hr={debug:!!(globalThis&&eu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ru extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dw extends ru{}async function hw(t,e,r){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function fw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nu(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function pw(t){return parseInt(t,16)}function mw(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function gw(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:c,resources:l,scheme:d,uri:f,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const u=nu(t.address),v=d?`${d}://${n}`:n,g=t.statement?`${t.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${u}

${g}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),c&&(w+=`
Request ID: ${c}`),l){let x=`
Resources:`;for(const b of l){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}w+=x}return`${y}
${w}`}class de extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class rs extends de{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function vw({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new de({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new de({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new de({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new de({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new de({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new de({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new de({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new de({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(su(i)){if(o.rp.id!==i)return new de({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new de({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new de({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new de({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new de({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function yw({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new de({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new de({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(su(n)){if(r.rpId!==n)return new de({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new de({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new de({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new de({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ww{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const bw=new ww;function _w(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Ur(t,["challenge","user","excludeCredentials"]),o=Sr(e).buffer,i=Object.assign(Object.assign({},r),{id:Sr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const l=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Sr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function xw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ur(t,["challenge","allowCredentials"]),s=Sr(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Sr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function Sw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:qt(new Uint8Array(t.response.attestationObject)),clientDataJSON:qt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ew(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:qt(new Uint8Array(s.authenticatorData)),clientDataJSON:qt(new Uint8Array(s.clientDataJSON)),signature:qt(new Uint8Array(s.signature)),userHandle:s.userHandle?qt(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function su(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function qa(){var t,e;return!!(ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Cw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rs("Browser returned unexpected credential type",e)}:{data:null,error:new rs("Empty credential response",e)}}catch(e){return{data:null,error:vw({error:e,options:t})}}}async function Tw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rs("Browser returned unexpected credential type",e)}:{data:null,error:new rs("Empty credential response",e)}}catch(e){return{data:null,error:yw({error:e,options:t})}}}const Rw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ns(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(e(i)){const a=n[o];e(a)?n[o]=ns(a,i):n[o]=ns(i)}else n[o]=i}return n}function Aw(t,e){return ns(Rw,t,e||{})}function Pw(t,e){return ns(kw,t,e||{})}class Ow{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!i)return{data:null,error:a};const c=s??bw.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:l}=i.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${n}`),l.displayName||(l.displayName=l.name)}switch(i.webauthn.type){case"create":{const l=Aw(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await Cw({publicKey:l,signal:c});return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const l=Pw(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await Tw(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:l,signal:c}));return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return $(i)?{data:null,error:i}:{data:null,error:new zt("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new cn("rpId is required for WebAuthn authentication")};try{if(!qa())return{data:null,error:new zt("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:c}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return $(i)?{data:null,error:i}:{data:null,error:new zt("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new cn("rpId is required for WebAuthn registration")};try{if(!qa())return{data:null,error:new zt("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:l}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(i){return $(i)?{data:null,error:i}:{data:null,error:new zt("Unexpected error in register",i)}}}}fw();const jw={url:ky,storageKey:Ay,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ka(t,e,r){return await r()}const fr={};class ln{get jwks(){var e,r;return(r=(e=fr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=fr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},jw),e);if(this.storageKey=o.storageKey,this.instanceID=(r=ln.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ln.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ye()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new uw({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=tu(o.fetch),this.lock=o.lock||Ka,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hw:this.lock=Ka,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ow(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:eu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=za(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=za(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ql}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ye()&&(r=zy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Dy(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?this._returnResult({error:r}):this._returnResult({error:new zt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ve}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const c=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(o){if($(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:f,options:m}=e;let u=null,v=null;this.flowType==="pkce"&&([u,v]=await ur(this.storage,this.storageKey)),o=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:u,code_challenge_method:v},xform:Ve})}else if("phone"in e){const{phone:d,password:f,options:m}=e;o=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ve})}else throw new Mn("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),$(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Va})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Va})}else throw new Mn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new lr;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,i,a,c,l,d,f,m;let u,v;if("message"in e)u=e.message,v=e.signature;else{const{chain:g,wallet:y,statement:w,options:x}=e;let b;if(ye())if(typeof y=="object")b=y;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")b=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=nu(S[0]);let R=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const k=await b.request({method:"eth_chainId"});R=pw(k)}const C={domain:_.host,address:E,statement:w,uri:_.href,version:"1",chainId:R,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};u=gw(C),v=await b.request({method:"personal_sign",params:[mw(u),E]})}try{const{data:g,error:y}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:u,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ve});if(y)throw y;if(!g||!g.session||!g.user){const w=new lr;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if($(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,s,o,i,a,c,l,d,f,m,u;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:x,options:b}=e;let _;if(ye())if(typeof w=="object")_=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let R;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")R=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)R=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)v=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),g=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:y,error:w}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:qt(g)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(u=e.options)===null||u===void 0?void 0:u.captchaToken}}:null),xform:Ve});if(w)throw w;if(!y||!y.session||!y.user){const x=new lr;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if($(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await Ft(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new My;const{data:o,error:i}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ve});if(await ve(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new lr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),$(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ve}),{data:c,error:l}=a;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c||!c.session||!c.user){const d=new lr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:l})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:c}=e;let l=null,d=null;this.flowType==="pkce"&&([l,d]=await ur(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d})}throw new Mn("You must provide either an email or phone number.")}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),$(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ve});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,l=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(s){if($(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,o,i;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await ur(this.storage,this.storageKey));const l=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:aw});return!((o=l.data)===null||o===void 0)&&o.url&&ye()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),$(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Pe;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if($(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new Mn("You must provide either an email or phone number and a type")}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ft(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Js:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await Ft(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Xs()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=nw(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rt}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pe}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Rt})})}catch(r){if($(r))return Ys(r)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Pe;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await ur(this.storage,this.storageKey));const{data:l,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:Rt});if(d)throw d;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await ve(this.storage,`${this.storageKey}-code-verifier`),$(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pe;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Ln(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if($(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Pe;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ye())throw new $n("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $n(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Da("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $n("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Da("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:l}=e;if(!o||!a||!i||!l)throw new $n("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;c&&(m=parseInt(c));const u=m-d;u*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${u}s, should have been closer to ${f}s`);const v=m-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:g,error:y}=await this._getUser(o);if(y)throw y;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if($(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ft(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o&&!Ys(o))return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(Ny(a)&&(a.status===404||a.status===401||a.status===403)||Ys(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Wy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ur(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),$(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,l,d;const{data:f,error:m}=o;if(m)throw m;const u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",u,{headers:this.headers,jwt:(d=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ye()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if($(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:c,access_token:l,nonce:d}=e,f=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ve}),{data:m,error:u}=f;return u?this._returnResult({data:{user:null,session:null},error:u}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new lr}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:u}))}catch(s){if(await ve(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Hy(async s=>(s>0&&await Ky(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ve})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Qs(o)&&Date.now()+i-n<yr})}catch(n){if(this._debug(r,"error",n),$(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ft(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Ft(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await wr(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Xs()}else if(s&&!s.user&&!s.user){const i=await Ft(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await ve(this.storage,this.storageKey+"-user"),await wr(this.storage,this.storageKey,s)):s.user=Xs()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Js;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Js}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Qs(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Pe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ts;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new Pe;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),$(o)){const i={data:null,error:o};return Qs(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Fa(s);await wr(this.storage,this.storageKey,o)}else{const s=Fa(r);await wr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yr}ms, refresh threshold is ${Oo} ticks`),s<=Oo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ru)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await ur(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:l}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Sw(e.webauthn.credential_response):Ew(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:_w(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:xw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,o;if(e)try{const{payload:u}=Ln(e);let v=null;u.aal&&(v=u.aal);let g=v;const{data:{user:y},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((n=(r=y==null?void 0:y.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const b=u.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:b},error:null}}catch(u){if($(u))return this._returnResult({data:null,error:u});throw u}const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Ln(i.access_token);let l=null;c.aal&&(l=c.aal);let d=l;((o=(s=i.user.factors)===null||s===void 0?void 0:s.filter(u=>u.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(d="aal2");const m=c.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Pe});const i=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Pe});const i=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(e){if($(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pe})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+jy>s)return n;const{data:o,error:i}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:u,error:v}=await this.getSession();if(v||!u.session)return this._returnResult({data:null,error:v});n=u.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=Ln(n);r!=null&&r.allowExpired||ew(o.exp);const l=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!l){const{error:u}=await this.getUser(n);if(u)throw u;return{data:{claims:o,header:s,signature:i},error:null}}const d=tw(s.alg),f=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,By(`${a}.${c}`)))throw new No("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}}ln.nextInstanceID={};const Iw=ln,Nw="2.93.1";let Gr="";typeof Deno<"u"?Gr="deno":typeof document<"u"?Gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gr="react-native":Gr="node";function Dw(){const t=globalThis.process;if(t&&t.platform){const e=t.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function Mw(){const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function $w(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return"node"}return null}function Lw(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return e.node}return null}function Uw(){const t={"X-Client-Info":`supabase-js-${Gr}/${Nw}`},e=Dw();e&&(t["X-Supabase-Client-Platform"]=e);const r=Mw();r&&(t["X-Supabase-Client-Platform-Version"]=r);const n=$w();n&&(t["X-Supabase-Client-Runtime"]=n);const s=Lw();return s&&(t["X-Supabase-Client-Runtime-Version"]=s),t}const Fw=Uw(),Bw={headers:Fw},Vw={schema:"public"},Ww={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zw={};function un(t){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(t)}function qw(t,e){if(un(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(un(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kw(t){var e=qw(t,"string");return un(e)=="symbol"?e:e+""}function Hw(t,e,r){return(e=Kw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ha(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ha(Object(r),!0).forEach(function(n){Hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ha(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Gw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Jw=()=>Headers,Yw=(t,e,r)=>{const n=Gw(r),s=Jw();return async(o,i)=>{var a;const c=(a=await e())!==null&&a!==void 0?a:t;let l=new s(i==null?void 0:i.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),n(o,le(le({},i),{},{headers:l}))}};function Qw(t){return t.endsWith("/")?t:t+"/"}function Xw(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:c,auth:l,realtime:d,global:f}=e,m={db:le(le({},c),s),auth:le(le({},l),o),realtime:le(le({},d),i),storage:{},global:le(le(le({},f),a),{},{headers:le(le({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function Zw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eb=class extends Iw{constructor(t){super(t)}},tb=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const o=Zw(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:Vw,realtime:zw,auth:le(le({},Ww),{},{storageKey:i}),global:Bw},c=Xw(r??{},a);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=Yw(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Iv(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Ry(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new kv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:a,debug:c,throwOnError:l},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eb({url:this.authUrl.href,headers:le(le({},m),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:a,debug:c,throwOnError:l,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(u=>u.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Yv(this.realtimeUrl.href,le(le({},t),{},{params:le(le({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const rb=(t,e,r)=>new tb(t,e,r);function nb(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}nb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sb="https://isaojcmuooftwhdnubhs.supabase.co",ob="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlzYW9qY211b29mdHdoZG51YmhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MjE4MTgsImV4cCI6MjA3MDM5NzgxOH0.cexAMM2q1sLCAIpRUe2L-NUhKFV5RUVaT2tR8nt-PjQ",Ce=rb(sb,ob,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ou=h.createContext({user:null,session:null,loading:!0,signIn:async()=>({error:null}),signUp:async()=>({error:null}),signOut:async()=>{}}),ib=({children:t})=>{const[e,r]=h.useState(null),[n,s]=h.useState(null),[o,i]=h.useState(!0);console.log("AuthProvider render - user:",e,"session:",n,"loading:",o),h.useEffect(()=>{const{data:{subscription:d}}=Ce.auth.onAuthStateChange((m,u)=>{s(u),r((u==null?void 0:u.user)??null)}),f=setTimeout(()=>{console.warn("Auth session check timed out, continuing without session"),i(!1)},5e3);return Ce.auth.getSession().then(({data:{session:m}})=>{clearTimeout(f),s(m),r((m==null?void 0:m.user)??null),i(!1)}).catch(m=>{clearTimeout(f),console.error("Failed to get session:",m),i(!1)}),()=>{clearTimeout(f),d.unsubscribe()}},[]);const a=async(d,f)=>{const{error:m}=await Ce.auth.signInWithPassword({email:d,password:f});return{error:m}},c=async(d,f)=>{let m;window.location.hostname.includes("github.io")?m=`${window.location.origin}/put-options-se/#/auth/callback`:m=`${window.location.origin}/#/auth/callback`,console.log("SignUp redirect URL:",m);const{error:u}=await Ce.auth.signUp({email:d,password:f,options:{emailRedirectTo:m}});return{error:u}},l=async()=>{await Ce.auth.signOut()};return p.jsx(ou.Provider,{value:{user:e,session:n,loading:o,signIn:a,signUp:c,signOut:l},children:t})},Br=()=>h.useContext(ou),ab=()=>{const{user:t}=Br(),[e,r]=h.useState([]),[n,s]=h.useState([]),[o,i]=h.useState({underlyingValue:1e5,transactionCost:150}),[a,c]=h.useState(!0);h.useEffect(()=>{if(!t){c(!1);return}l()},[t]);const l=async()=>{if(t)try{c(!0);const{data:u,error:v}=await Ce.from("user_preferences").select("preference_type, preference_data").eq("user_id",t.id);if(v){console.error("Error loading preferences:",v);return}u==null||u.forEach(g=>{g.preference_type==="column_preferences"?r(g.preference_data):g.preference_type==="portfolio_column_preferences"?s(g.preference_data):g.preference_type==="calculation_settings"&&i(g.preference_data)})}catch(u){console.error("Error loading preferences:",u)}finally{c(!1)}};return{columnPreferences:e,portfolioColumnPreferences:n,calculationSettings:o,isLoading:a,saveColumnPreferences:async u=>{if(!t){console.log("User not authenticated, skipping column preferences save");return}try{const{error:v}=await Ce.from("user_preferences").upsert({user_id:t.id,preference_type:"column_preferences",preference_data:u},{onConflict:"user_id,preference_type"});if(v){We.error("Failed to save column preferences"),console.error("Error saving column preferences:",v);return}r(u),We.success("Column preferences saved")}catch(v){We.error("Failed to save column preferences"),console.error("Error saving column preferences:",v)}},savePortfolioColumnPreferences:async u=>{if(!t){console.log("User not authenticated, skipping portfolio column preferences save");return}try{const{error:v}=await Ce.from("user_preferences").upsert({user_id:t.id,preference_type:"portfolio_column_preferences",preference_data:u},{onConflict:"user_id,preference_type"});if(v){We.error("Failed to save portfolio column preferences"),console.error("Error saving portfolio column preferences:",v);return}s(u),We.success("Portfolio column preferences saved")}catch(v){We.error("Failed to save portfolio column preferences"),console.error("Error saving portfolio column preferences:",v)}},saveCalculationSettings:async u=>{if(!t){console.log("User not authenticated, skipping calculation settings save");return}try{const{error:v}=await Ce.from("user_preferences").upsert({user_id:t.id,preference_type:"calculation_settings",preference_data:u},{onConflict:"user_id,preference_type"});if(v){We.error("Failed to save calculation settings"),console.error("Error saving calculation settings:",v);return}i(u),We.success("Calculation settings saved")}catch(v){We.error("Failed to save calculation settings"),console.error("Error saving calculation settings:",v)}},refreshPreferences:l}},iu=h.createContext(void 0),cb=()=>{const t=h.useContext(iu);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},lb=({children:t})=>{const{calculationSettings:e,saveCalculationSettings:r,isLoading:n}=ab(),[s,o]=h.useState(1e5),[i,a]=h.useState(150),c=h.useRef(!1),l=h.useRef({underlyingValue:1e5,transactionCost:150}),d=h.useRef(!1);h.useEffect(()=>{if(!n&&(console.log("SettingsContext: useEffect running",{calculationSettings:e,underlyingValue:s,transactionCost:i,userUpdate:c.current,hasInitialized:d.current,lastUserValue:l.current}),!d.current||!c.current)){if(e.underlyingValue!==1e5||e.transactionCost!==150)e.underlyingValue!==s&&!c.current&&(console.log("SettingsContext: Initial sync - updating underlying value from DB:",e.underlyingValue),o(e.underlyingValue),l.current.underlyingValue=e.underlyingValue),e.transactionCost!==i&&!c.current&&(console.log("SettingsContext: Initial sync - updating transaction cost from DB:",e.transactionCost),a(e.transactionCost),l.current.transactionCost=e.transactionCost);else if(!d.current){const u=localStorage.getItem("underlyingValue");if(u){const g=parseInt(u,10);!isNaN(g)&&g>0&&g!==s&&(console.log("SettingsContext: Initial sync - updating underlying value from localStorage:",g),o(g),l.current.underlyingValue=g)}const v=localStorage.getItem("transactionCost");if(v){const g=parseInt(v,10);!isNaN(g)&&g>=0&&g!==i&&(console.log("SettingsContext: Initial sync - updating transaction cost from localStorage:",g),a(g),l.current.transactionCost=g)}}d.current=!0}},[e,n]);const f=u=>{console.log("SettingsContext: User setting underlying value to",u,"Previous value was:",s),c.current=!0,o(u),l.current.underlyingValue=u,localStorage.setItem("underlyingValue",u.toString()),r({underlyingValue:u,transactionCost:i}),console.log("SettingsContext: Updated both localStorage and database with underlying value:",u)},m=u=>{console.log("SettingsContext: User setting transaction cost to",u,"Previous value was:",i),c.current=!0,a(u),l.current.transactionCost=u,localStorage.setItem("transactionCost",u.toString()),r({underlyingValue:s,transactionCost:u}),console.log("SettingsContext: Updated both localStorage and database with transaction cost:",u)};return p.jsx(iu.Provider,{value:{underlyingValue:s,setUnderlyingValue:f,transactionCost:i,setTransactionCost:m},children:t})},ke=({children:t})=>{const{session:e,loading:r}=Br(),n=qo();return r?p.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}):e?p.jsx(p.Fragment,{children:t}):p.jsx(wh,{to:"/auth",replace:!0,state:{from:n}})};var ub=Symbol.for("react.lazy"),ss=zo[" use ".trim().toString()];function db(t){return typeof t=="object"&&t!==null&&"then"in t}function au(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===ub&&"_payload"in t&&db(t._payload)}function cu(t){const e=fb(t),r=h.forwardRef((n,s)=>{let{children:o,...i}=n;au(o)&&typeof ss=="function"&&(o=ss(o._payload));const a=h.Children.toArray(o),c=a.find(mb);if(c){const l=c.props.children,d=a.map(f=>f===c?h.Children.count(l)>1?h.Children.only(null):h.isValidElement(l)?l.props.children:null:f);return p.jsx(e,{...i,ref:s,children:h.isValidElement(l)?h.cloneElement(l,void 0,d):null})}return p.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var hb=cu("Slot");function fb(t){const e=h.forwardRef((r,n)=>{let{children:s,...o}=r;if(au(s)&&typeof ss=="function"&&(s=ss(s._payload)),h.isValidElement(s)){const i=vb(s),a=gb(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Mt(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pb=Symbol("radix.slottable");function mb(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pb}function gb(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function vb(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const yb=Yo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=h.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?hb:"button";return p.jsx(i,{className:ae(yb({variant:e,size:r,className:t})),ref:o,...s})});Me.displayName="Button";class wb extends h.Component{constructor(){super(...arguments);Ni(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r,n;return this.state.hasError?p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:p.jsxs("div",{className:"text-center max-w-md",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),p.jsx("p",{className:"text-muted-foreground mb-4",children:"The application encountered an error and couldn't render properly."}),p.jsxs("details",{className:"text-left text-sm bg-muted p-4 rounded mb-4",children:[p.jsx("summary",{className:"cursor-pointer font-medium",children:"Error details"}),p.jsxs("pre",{className:"mt-2 text-xs overflow-auto",children:[(r=this.state.error)==null?void 0:r.message,`
`,(n=this.state.error)==null?void 0:n.stack]})]}),p.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Reload Page"})]})}):this.props.children}}const bb=10,_b=5e3,lu=()=>{const{user:t}=Br(),[e]=h.useState(()=>crypto.randomUUID()),r=h.useRef([]),n=h.useRef(null),s=h.useRef(new Date),o=h.useRef(new Date),i=h.useRef(!1),a=h.useRef(!1);h.useEffect(()=>{t&&!i.current&&(c(),i.current=!0)},[t]),h.useEffect(()=>{const C=()=>{t&&(u(),l())};return window.addEventListener("beforeunload",C),()=>{window.removeEventListener("beforeunload",C),t&&r.current.length>0&&u()}},[t]);const c=async()=>{if(t)try{await Ce.from("user_analytics_sessions").insert({session_id:e,user_id:t.id,started_at:s.current.toISOString(),last_activity_at:new Date().toISOString(),user_agent:navigator.userAgent,referrer:document.referrer||null,entry_page:window.location.pathname}),g({event_type:"session_start",event_name:"session_started",event_data:{user_agent:navigator.userAgent,screen_resolution:`${window.screen.width}x${window.screen.height}`,viewport_size:`${window.innerWidth}x${window.innerHeight}`}})}catch(C){console.error("Failed to initialize analytics session:",C)}},l=()=>{if(!t)return;const k={ended_at:new Date().toISOString(),exit_page:window.location.pathname},I=new Blob([JSON.stringify({session_id:e,...k})],{type:"application/json"});navigator.sendBeacon("/api/analytics/session-end",I)},d=h.useCallback(async()=>{if(!t)return;const C=new Date;o.current=C;try{await Ce.from("user_analytics_sessions").update({last_activity_at:C.toISOString()}).eq("session_id",e)}catch(k){console.error("Failed to update session activity:",k)}},[t,e]),f=h.useCallback(async C=>{if(t)try{const{data:k}=await Ce.from("user_analytics_sessions").select(C).eq("session_id",e).single();k&&await Ce.from("user_analytics_sessions").update({[C]:(k[C]||0)+1}).eq("session_id",e)}catch(k){console.error(`Failed to increment ${C}:`,k)}},[t,e]),m=h.useCallback(async()=>{if(!t||r.current.length===0||a.current)return;a.current=!0;const C=[...r.current];r.current=[];try{const k=C.map(N=>({user_id:t.id,session_id:e,...N})),{error:I}=await Ce.from("user_analytics_events").insert(k);I&&(console.error("Failed to flush analytics events:",I),r.current=[...C,...r.current])}catch(k){console.error("Failed to flush analytics events:",k),r.current=[...C,...r.current]}finally{a.current=!1}},[t,e]),u=()=>{if(!t||r.current.length===0)return;const C=[...r.current];r.current=[];const k=C.map(N=>({user_id:t.id,session_id:e,...N})),I=new Blob([JSON.stringify(k)],{type:"application/json"});navigator.sendBeacon("/api/analytics/events",I)},v=h.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{m()},_b)},[m]),g=h.useCallback(C=>{t&&(r.current.push({...C,page_path:C.page_path||window.location.pathname,page_title:C.page_title||document.title}),d(),r.current.length>=bb?m():v())},[t,m,v,d]),y=h.useCallback(async C=>{if(t)try{await Ce.from("user_analytics_events").insert({user_id:t.id,session_id:e,...C,page_path:C.page_path||window.location.pathname,page_title:C.page_title||document.title})}catch(k){console.error("Failed to track event immediately:",k)}},[t,e]),w=h.useCallback((C,k,I)=>{g({event_type:"page_view",event_name:"page_viewed",page_path:C,page_title:k,event_data:I}),f("pages_visited")},[g,f]),x=h.useCallback((C,k)=>{g({event_type:"interaction",event_name:C,event_data:k}),f("interactions_count")},[g,f]),b=h.useCallback((C,k)=>{g({event_type:"filter_change",event_name:C,event_data:k})},[g]),_=h.useCallback((C,k)=>{g({event_type:"table_action",event_name:C,event_data:k})},[g]),S=h.useCallback((C,k)=>{g({event_type:"chart_view",event_name:C,event_data:k})},[g]),E=h.useCallback((C,k)=>{g({event_type:"export",event_name:C,event_data:k})},[g]),R=h.useCallback((C,k)=>{y({event_type:"error",event_name:C,event_data:k})},[y]);return{trackEvent:g,trackEventImmediate:y,trackPageView:w,trackInteraction:x,trackFilterChange:b,trackTableAction:_,trackChartView:S,trackExport:E,trackError:R,sessionId:e}};var eo="focusScope.autoFocusOnMount",to="focusScope.autoFocusOnUnmount",Ga={bubbles:!1,cancelable:!0},xb="FocusScope",fi=h.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,c]=h.useState(null),l=Ie(s),d=Ie(o),f=h.useRef(null),m=re(e,g=>c(g)),u=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(b){if(u.paused||!a)return;const _=b.target;a.contains(_)?f.current=_:Ct(f.current,{select:!0})},y=function(b){if(u.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||Ct(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ct(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[n,a,u.paused]),h.useEffect(()=>{if(a){Ya.add(u);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(eo,Ga);a.addEventListener(eo,l),a.dispatchEvent(w),w.defaultPrevented||(Sb(kb(uu(a)),{select:!0}),document.activeElement===g&&Ct(a))}return()=>{a.removeEventListener(eo,l),setTimeout(()=>{const w=new CustomEvent(to,Ga);a.addEventListener(to,d),a.dispatchEvent(w),w.defaultPrevented||Ct(g??document.body,{select:!0}),a.removeEventListener(to,d),Ya.remove(u)},0)}}},[a,l,d,u]);const v=h.useCallback(g=>{if(!r&&!n||u.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(y&&w){const x=g.currentTarget,[b,_]=Eb(x);b&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&Ct(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),r&&Ct(_,{select:!0})):w===x&&g.preventDefault()}},[r,n,u.paused]);return p.jsx(Q.div,{tabIndex:-1,...i,ref:m,onKeyDown:v})});fi.displayName=xb;function Sb(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ct(n,{select:e}),document.activeElement!==r)return}function Eb(t){const e=uu(t),r=Ja(e,t),n=Ja(e.reverse(),t);return[r,n]}function uu(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ja(t,e){for(const r of t)if(!Cb(r,{upTo:e}))return r}function Cb(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Tb(t){return t instanceof HTMLInputElement&&"select"in t}function Ct(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Tb(t)&&e&&t.select()}}var Ya=Rb();function Rb(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Qa(t,e),t.unshift(e)},remove(e){var r;t=Qa(t,e),(r=t[0])==null||r.resume()}}}function Qa(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function kb(t){return t.filter(e=>e.tagName!=="A")}var ro=0;function du(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Xa()),document.body.insertAdjacentElement("beforeend",t[1]??Xa()),ro++,()=>{ro===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ro--}},[])}function Xa(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Kn="right-scroll-bar-position",Hn="width-before-scroll-bar",Ab="with-scroll-bars-hidden",Pb="--removed-body-scroll-bar-size";function no(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ob(t,e){var r=h.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var jb=typeof window<"u"?h.useLayoutEffect:h.useEffect,Za=new WeakMap;function Ib(t,e){var r=Ob(null,function(n){return t.forEach(function(s){return no(s,n)})});return jb(function(){var n=Za.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(a){o.has(a)||no(a,null)}),o.forEach(function(a){s.has(a)||no(a,i)})}Za.set(r,t)},[t]),r}function Nb(t){return t}function Db(t,e){e===void 0&&(e=Nb);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=e(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(d){i.push(d),l()},filter:function(d){return i=i.filter(d),r}}}};return s}function Mb(t){t===void 0&&(t={});var e=Db(null);return e.options=tt({async:!0,ssr:!1},t),e}var hu=function(t){var e=t.sideCar,r=Ur(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,tt({},r))};hu.isSideCarExport=!0;function $b(t,e){return t.useMedium(e),hu}var fu=Mb(),so=function(){},Rs=h.forwardRef(function(t,e){var r=h.useRef(null),n=h.useState({onScrollCapture:so,onWheelCapture:so,onTouchMoveCapture:so}),s=n[0],o=n[1],i=t.forwardProps,a=t.children,c=t.className,l=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,u=t.noRelative,v=t.noIsolation,g=t.inert,y=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,b=t.gapMode,_=Ur(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,E=Ib([r,e]),R=tt(tt({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:fu,removeScrollBar:l,shards:f,noRelative:u,noIsolation:v,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:b}),i?h.cloneElement(h.Children.only(a),tt(tt({},R),{ref:E})):h.createElement(x,tt({},R,{className:c,ref:E}),a))});Rs.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rs.classNames={fullWidth:Hn,zeroRight:Kn};var Lb=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ub(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lb();return e&&t.setAttribute("nonce",e),t}function Fb(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Bb(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Vb=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Ub())&&(Fb(e,r),Bb(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Wb=function(){var t=Vb();return function(e,r){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},pu=function(){var t=Wb(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},zb={left:0,top:0,right:0,gap:0},oo=function(t){return parseInt(t||"",10)||0},qb=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[oo(r),oo(n),oo(s)]},Kb=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zb;var e=qb(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Hb=pu(),Er="data-scroll-locked",Gb=function(t,e,r,n){var s=t.left,o=t.top,i=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Ab,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Er,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kn,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Hn,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Kn," .").concat(Kn,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hn," .").concat(Hn,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Er,`] {
    `).concat(Pb,": ").concat(a,`px;
  }
`)},ec=function(){var t=parseInt(document.body.getAttribute(Er)||"0",10);return isFinite(t)?t:0},Jb=function(){h.useEffect(function(){return document.body.setAttribute(Er,(ec()+1).toString()),function(){var t=ec()-1;t<=0?document.body.removeAttribute(Er):document.body.setAttribute(Er,t.toString())}},[])},Yb=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;Jb();var o=h.useMemo(function(){return Kb(s)},[s]);return h.createElement(Hb,{styles:Gb(o,!e,s,r?"":"!important")})},Do=!1;if(typeof window<"u")try{var Un=Object.defineProperty({},"passive",{get:function(){return Do=!0,!0}});window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Do=!1}var pr=Do?{passive:!1}:!1,Qb=function(t){return t.tagName==="TEXTAREA"},mu=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Qb(t)&&r[e]==="visible")},Xb=function(t){return mu(t,"overflowY")},Zb=function(t){return mu(t,"overflowX")},tc=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=gu(t,n);if(s){var o=vu(t,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},e0=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},t0=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},gu=function(t,e){return t==="v"?Xb(e):Zb(e)},vu=function(t,e){return t==="v"?e0(e):t0(e)},r0=function(t,e){return t==="h"&&e==="rtl"?-1:1},n0=function(t,e,r,n,s){var o=r0(t,window.getComputedStyle(e).direction),i=o*n,a=r.target,c=e.contains(a),l=!1,d=i>0,f=0,m=0;do{if(!a)break;var u=vu(t,a),v=u[0],g=u[1],y=u[2],w=g-y-o*v;(v||w)&&gu(t,a)&&(f+=w,m+=v);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(l=!0),l},Fn=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rc=function(t){return[t.deltaX,t.deltaY]},nc=function(t){return t&&"current"in t?t.current:t},s0=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o0=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},i0=0,mr=[];function a0(t){var e=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(i0++)[0],o=h.useState(pu)[0],i=h.useRef(t);h.useEffect(function(){i.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Cv([t.lockRef.current],(t.shards||[]).map(nc),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=h.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=Fn(g),x=r.current,b="deltaX"in g?g.deltaX:x[0]-w[0],_="deltaY"in g?g.deltaY:x[1]-w[1],S,E=g.target,R=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&R==="h"&&E.type==="range")return!1;var C=window.getSelection(),k=C&&C.anchorNode,I=k?k===E||k.contains(E):!1;if(I)return!1;var N=tc(R,E);if(!N)return!0;if(N?S=R:(S=R==="v"?"h":"v",N=tc(R,E)),!N)return!1;if(!n.current&&"changedTouches"in g&&(b||_)&&(n.current=S),!S)return!0;var j=n.current||S;return n0(j,y,g,j==="h"?b:_)},[]),c=h.useCallback(function(g){var y=g;if(!(!mr.length||mr[mr.length-1]!==o)){var w="deltaY"in y?rc(y):Fn(y),x=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&s0(S.delta,w)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var b=(i.current.shards||[]).map(nc).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=b.length>0?a(y,b[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),l=h.useCallback(function(g,y,w,x){var b={name:g,delta:y,target:w,should:x,shadowParent:c0(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),d=h.useCallback(function(g){r.current=Fn(g),n.current=void 0},[]),f=h.useCallback(function(g){l(g.type,rc(g),g.target,a(g,t.lockRef.current))},[]),m=h.useCallback(function(g){l(g.type,Fn(g),g.target,a(g,t.lockRef.current))},[]);h.useEffect(function(){return mr.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,pr),document.addEventListener("touchmove",c,pr),document.addEventListener("touchstart",d,pr),function(){mr=mr.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,pr),document.removeEventListener("touchmove",c,pr),document.removeEventListener("touchstart",d,pr)}},[]);var u=t.removeScrollBar,v=t.inert;return h.createElement(h.Fragment,null,v?h.createElement(o,{styles:o0(s)}):null,u?h.createElement(Yb,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function c0(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const l0=$b(fu,a0);var pi=h.forwardRef(function(t,e){return h.createElement(Rs,tt({},t,{ref:e,sideCar:l0}))});pi.classNames=Rs.classNames;var u0=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},gr=new WeakMap,Bn=new WeakMap,Vn={},io=0,yu=function(t){return t&&(t.host||yu(t.parentNode))},d0=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=yu(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},h0=function(t,e,r,n){var s=d0(e,Array.isArray(t)?t:[t]);Vn[r]||(Vn[r]=new WeakMap);var o=Vn[r],i=[],a=new Set,c=new Set(s),l=function(f){!f||a.has(f)||(a.add(f),l(f.parentNode))};s.forEach(l);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var u=m.getAttribute(n),v=u!==null&&u!=="false",g=(gr.get(m)||0)+1,y=(o.get(m)||0)+1;gr.set(m,g),o.set(m,y),i.push(m),g===1&&v&&Bn.set(m,!0),y===1&&m.setAttribute(r,"true"),v||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(e),a.clear(),io++,function(){i.forEach(function(f){var m=gr.get(f)-1,u=o.get(f)-1;gr.set(f,m),o.set(f,u),m||(Bn.has(f)||f.removeAttribute(n),Bn.delete(f)),u||f.removeAttribute(r)}),io--,io||(gr=new WeakMap,gr=new WeakMap,Bn=new WeakMap,Vn={})}},wu=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=u0(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),h0(n,s,r,"aria-hidden")):function(){return null}};function f0(t){const e=p0(t),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),c=a.find(g0);if(c){const l=c.props.children,d=a.map(f=>f===c?h.Children.count(l)>1?h.Children.only(null):h.isValidElement(l)?l.props.children:null:f);return p.jsx(e,{...i,ref:s,children:h.isValidElement(l)?h.cloneElement(l,void 0,d):null})}return p.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function p0(t){const e=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=y0(s),a=v0(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Mt(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var m0=Symbol("radix.slottable");function g0(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===m0}function v0(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function y0(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var ks="Dialog",[bu]=mt(ks),[w0,Ye]=bu(ks),_u=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=h.useRef(null),c=h.useRef(null),[l,d]=Dr({prop:n,defaultProp:s??!1,onChange:o,caller:ks});return p.jsx(w0,{scope:e,triggerRef:a,contentRef:c,contentId:Xt(),titleId:Xt(),descriptionId:Xt(),open:l,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};_u.displayName=ks;var xu="DialogTrigger",Su=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ye(xu,r),o=re(e,s.triggerRef);return p.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vi(s.open),...n,ref:o,onClick:M(t.onClick,s.onOpenToggle)})});Su.displayName=xu;var mi="DialogPortal",[b0,Eu]=bu(mi,{forceMount:void 0}),Cu=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Ye(mi,e);return p.jsx(b0,{scope:e,forceMount:r,children:h.Children.map(n,i=>p.jsx(ot,{present:r||o.open,children:p.jsx(ds,{asChild:!0,container:s,children:i})}))})};Cu.displayName=mi;var os="DialogOverlay",Tu=h.forwardRef((t,e)=>{const r=Eu(os,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Ye(os,t.__scopeDialog);return o.modal?p.jsx(ot,{present:n||o.open,children:p.jsx(x0,{...s,ref:e})}):null});Tu.displayName=os;var _0=f0("DialogOverlay.RemoveScroll"),x0=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ye(os,r);return p.jsx(pi,{as:_0,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(Q.div,{"data-state":vi(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),er="DialogContent",Ru=h.forwardRef((t,e)=>{const r=Eu(er,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Ye(er,t.__scopeDialog);return p.jsx(ot,{present:n||o.open,children:o.modal?p.jsx(S0,{...s,ref:e}):p.jsx(E0,{...s,ref:e})})});Ru.displayName=er;var S0=h.forwardRef((t,e)=>{const r=Ye(er,t.__scopeDialog),n=h.useRef(null),s=re(e,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return wu(o)},[]),p.jsx(ku,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:M(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:M(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:M(t.onFocusOutside,o=>o.preventDefault())})}),E0=h.forwardRef((t,e)=>{const r=Ye(er,t.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return p.jsx(ku,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((l=r.triggerRef.current)==null?void 0:l.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),ku=h.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=Ye(er,r),c=h.useRef(null),l=re(e,c);return du(),p.jsxs(p.Fragment,{children:[p.jsx(fi,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:p.jsx(gn,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vi(a.open),...i,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(C0,{titleId:a.titleId}),p.jsx(R0,{contentRef:c,descriptionId:a.descriptionId})]})]})}),gi="DialogTitle",Au=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ye(gi,r);return p.jsx(Q.h2,{id:s.titleId,...n,ref:e})});Au.displayName=gi;var Pu="DialogDescription",Ou=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ye(Pu,r);return p.jsx(Q.p,{id:s.descriptionId,...n,ref:e})});Ou.displayName=Pu;var ju="DialogClose",Iu=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ye(ju,r);return p.jsx(Q.button,{type:"button",...n,ref:e,onClick:M(t.onClick,()=>s.onOpenChange(!1))})});Iu.displayName=ju;function vi(t){return t?"open":"closed"}var Nu="DialogTitleWarning",[vS,Du]=Mh(Nu,{contentName:er,titleName:gi,docsSlug:"dialog"}),C0=({titleId:t})=>{const e=Du(Nu),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},T0="DialogDescriptionWarning",R0=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Du(T0).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},k0=_u,A0=Su,P0=Cu,Mu=Tu,$u=Ru,Lu=Au,Uu=Ou,O0=Iu;const j0=k0,I0=A0,N0=P0,Fu=h.forwardRef(({className:t,...e},r)=>p.jsx(Mu,{ref:r,className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Fu.displayName=Mu.displayName;const Bu=h.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(N0,{children:[p.jsx(Fu,{}),p.jsxs($u,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,p.jsxs(O0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(qc,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bu.displayName=$u.displayName;const Vu=({className:t,...e})=>p.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vu.displayName="DialogHeader";const Wu=h.forwardRef(({className:t,...e},r)=>p.jsx(Lu,{ref:r,className:ae("text-lg font-semibold leading-none tracking-tight",t),...e}));Wu.displayName=Lu.displayName;const D0=h.forwardRef(({className:t,...e},r)=>p.jsx(Uu,{ref:r,className:ae("text-sm text-muted-foreground",t),...e}));D0.displayName=Uu.displayName;const Mo=h.forwardRef(({className:t,type:e,...r},n)=>p.jsx("input",{type:e,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Mo.displayName="Input";var M0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$0=M0.reduce((t,e)=>{const r=cu(`Primitive.${e}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),L0="Label",zu=h.forwardRef((t,e)=>p.jsx($0.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));zu.displayName=L0;var qu=zu;const U0=Yo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Gn=h.forwardRef(({className:t,...e},r)=>p.jsx(qu,{ref:r,className:ae(U0(),t),...e}));Gn.displayName=qu.displayName;function Ku(t,[e,r]){return Math.min(r,Math.max(e,t))}var F0=h.createContext(void 0);function yi(t){const e=h.useContext(F0);return t||e||"ltr"}function B0(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Hu=["PageUp","PageDown"],Gu=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ju={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Vr="Slider",[$o,V0,W0]=us(Vr),[Yu]=mt(Vr,[W0]),[z0,As]=Yu(Vr),Qu=h.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:l=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:u=!1,form:v,...g}=t,y=h.useRef(new Set),w=h.useRef(0),b=i==="horizontal"?q0:K0,[_=[],S]=Dr({prop:d,defaultProp:l,onChange:N=>{var W;(W=[...y.current][w.current])==null||W.focus(),f(N)}}),E=h.useRef(_);function R(N){const j=Q0(_,N);I(N,j)}function C(N){I(N,w.current)}function k(){const N=E.current[w.current];_[w.current]!==N&&m(_)}function I(N,j,{commit:W}={commit:!1}){const O=t_(o),q=r_(Math.round((N-n)/o)*o+n,O),L=Ku(q,[n,s]);S((B=[])=>{const D=J0(B,L,j);if(e_(D,c*o)){w.current=D.indexOf(L);const A=String(D)!==String(B);return A&&W&&m(D),A?D:B}else return B})}return p.jsx(z0,{scope:t.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:w,thumbs:y.current,values:_,orientation:i,form:v,children:p.jsx($o.Provider,{scope:t.__scopeSlider,children:p.jsx($o.Slot,{scope:t.__scopeSlider,children:p.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:M(g.onPointerDown,()=>{a||(E.current=_)}),min:n,max:s,inverted:u,onSlideStart:a?void 0:R,onSlideMove:a?void 0:C,onSlideEnd:a?void 0:k,onHomeKeyDown:()=>!a&&I(n,0,{commit:!0}),onEndKeyDown:()=>!a&&I(s,_.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:j})=>{if(!a){const q=Hu.includes(N.key)||N.shiftKey&&Gu.includes(N.key)?10:1,L=w.current,B=_[L],D=o*q*j;I(B+D,L,{commit:!0})}}})})})})});Qu.displayName=Vr;var[Xu,Zu]=Yu(Vr,{startEdge:"left",endEdge:"right",size:"width",direction:1}),q0=h.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:l,...d}=t,[f,m]=h.useState(null),u=re(e,b=>m(b)),v=h.useRef(void 0),g=yi(s),y=g==="ltr",w=y&&!o||!y&&o;function x(b){const _=v.current||f.getBoundingClientRect(),S=[0,_.width],R=wi(S,w?[r,n]:[n,r]);return v.current=_,R(b-_.left)}return p.jsx(Xu,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:p.jsx(ed,{dir:g,"data-orientation":"horizontal",...d,ref:u,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=x(b.clientX);i==null||i(_)},onSlideMove:b=>{const _=x(b.clientX);a==null||a(_)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:b=>{const S=Ju[w?"from-left":"from-right"].includes(b.key);l==null||l({event:b,direction:S?-1:1})}})})}),K0=h.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:a,onStepKeyDown:c,...l}=t,d=h.useRef(null),f=re(e,d),m=h.useRef(void 0),u=!s;function v(g){const y=m.current||d.current.getBoundingClientRect(),w=[0,y.height],b=wi(w,u?[n,r]:[r,n]);return m.current=y,b(g-y.top)}return p.jsx(Xu,{scope:t.__scopeSlider,startEdge:u?"bottom":"top",endEdge:u?"top":"bottom",size:"height",direction:u?1:-1,children:p.jsx(ed,{"data-orientation":"vertical",...l,ref:f,style:{...l.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=v(g.clientY);o==null||o(y)},onSlideMove:g=>{const y=v(g.clientY);i==null||i(y)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:g=>{const w=Ju[u?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:w?-1:1})}})})}),ed=h.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:c,...l}=t,d=As(Vr,r);return p.jsx(Q.span,{...l,ref:e,onKeyDown:M(t.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):Hu.concat(Gu).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:M(t.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:M(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:M(t.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),o(f))})})}),td="SliderTrack",rd=h.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=As(td,r);return p.jsx(Q.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});rd.displayName=td;var Lo="SliderRange",nd=h.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=As(Lo,r),o=Zu(Lo,r),i=h.useRef(null),a=re(e,i),c=s.values.length,l=s.values.map(m=>id(m,s.min,s.max)),d=c>1?Math.min(...l):0,f=100-Math.max(...l);return p.jsx(Q.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});nd.displayName=Lo;var Uo="SliderThumb",sd=h.forwardRef((t,e)=>{const r=V0(t.__scopeSlider),[n,s]=h.useState(null),o=re(e,a=>s(a)),i=h.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return p.jsx(H0,{...t,ref:o,index:i})}),H0=h.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...o}=t,i=As(Uo,r),a=Zu(Uo,r),[c,l]=h.useState(null),d=re(e,x=>l(x)),f=c?i.form||!!c.closest("form"):!0,m=ml(c),u=i.values[n],v=u===void 0?0:id(u,i.min,i.max),g=Y0(n,i.values.length),y=m==null?void 0:m[a.size],w=y?X0(y,v,a.direction):0;return h.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${w}px)`},children:[p.jsx($o.ItemSlot,{scope:t.__scopeSlider,children:p.jsx(Q.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":u,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:u===void 0?{display:"none"}:t.style,onFocus:M(t.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&p.jsx(od,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:u},n)]})});sd.displayName=Uo;var G0="RadioBubbleInput",od=h.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const s=h.useRef(null),o=re(s,n),i=B0(e);return h.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const f=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[i,e]),p.jsx(Q.input,{style:{display:"none"},...r,ref:o,defaultValue:e})});od.displayName=G0;function J0(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,o)=>s-o)}function id(t,e,r){const o=100/(r-e)*(t-e);return Ku(o,[0,100])}function Y0(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Q0(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function X0(t,e,r){const n=t/2,o=wi([0,50],[0,n]);return(n-o(e)*r)*r}function Z0(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function e_(t,e){if(e>0){const r=Z0(t);return Math.min(...r)>=e}return!0}function wi(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function t_(t){return(String(t).split(".")[1]||"").length}function r_(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var ad=Qu,n_=rd,s_=nd,o_=sd;const cd=h.forwardRef(({className:t,...e},r)=>p.jsxs(ad,{ref:r,className:ae("relative flex w-full touch-none select-none items-center",t),...e,children:[p.jsx(n_,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(s_,{className:"absolute h-full bg-primary"})}),p.jsx(o_,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));cd.displayName=ad.displayName;const i_=({isOpen:t,onOpenChange:e,triggerButton:r=!0})=>{const{underlyingValue:n,setUnderlyingValue:s,transactionCost:o,setTransactionCost:i}=cb(),{trackInteraction:a}=lu(),[c,l]=h.useState(n),[d,f]=h.useState(o),[m,u]=h.useState(n.toString()),[v,g]=h.useState(!1),y=t!==void 0?t:v,w=e||g;h.useEffect(()=>{y&&(console.log("SettingsModal: Modal opened, syncing values:",{underlyingValue:n,transactionCost:o}),l(n),f(o),u(n.toString()))},[y,n,o]);const x=k=>{const I=k[0];l(I),u(I.toString())},b=k=>{u(k.target.value)},_=()=>{const k=m.replace(/[^0-9]/g,""),I=parseInt(k,10);if(isNaN(I))u(c.toString());else{const N=Math.max(1e4,Math.min(1e6,I));l(N),u(N.toString())}},S=k=>{const I=k.target.value.replace(/[^0-9]/g,""),N=parseInt(I,10);!isNaN(N)&&N>=0&&f(N)},E=()=>{c>=1e4&&c<=1e6?(a("settings_saved",{element_type:"button",underlying_value:c,transaction_cost:d}),s(c),i(d),w(!1),We.success(`Calculation Settings updated: Underlying value ${c.toLocaleString("sv-SE")}, Transaction cost ${d}`)):We.error("Please enter a value between 10 000 and 1 000 000")},R=()=>{l(n),f(o),u(n.toString()),w(!1)},C=k=>k.toLocaleString("sv-SE");return p.jsxs(j0,{open:y,onOpenChange:w,children:[r&&p.jsx(I0,{asChild:!0,children:p.jsxs(Me,{variant:"outline",size:"sm",onClick:()=>{a("settings_opened",{element_type:"button",element_text:"Calculation Settings"}),l(n),f(o),u(n.toString()),w(!0)},children:[p.jsx(fo,{className:"h-4 w-4 mr-2"}),"Calculation Settings"]})}),p.jsxs(Bu,{className:"sm:max-w-md",children:[p.jsx(Vu,{children:p.jsx(Wu,{children:"Calculation Settings"})}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[p.jsx("div",{className:"border-b pb-3 mb-4",children:p.jsx("h3",{className:"font-semibold text-base",children:"Underlying Stock Value for Premium Calculation"})}),p.jsx("div",{className:"space-y-2",children:p.jsx("p",{className:"text-sm text-muted-foreground",children:"This value is used to calculate the number of contracts and Premium. Default is 100,000."})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Gn,{children:["Current Value: ",C(c)]}),p.jsx(cd,{value:[c],onValueChange:x,max:1e6,min:1e4,step:1e3,className:"w-full"}),p.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[p.jsx("span",{children:"10 000"}),p.jsx("span",{children:"1 000 000"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Gn,{htmlFor:"underlying-input",children:"Or enter exact value:"}),p.jsx(Mo,{id:"underlying-input",type:"text",value:m,onChange:b,onBlur:_,placeholder:"100 000"})]})]})]}),p.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[p.jsx("div",{className:"border-b pb-3 mb-4",children:p.jsx("h3",{className:"font-semibold text-base",children:"Transaction Cost"})}),p.jsx("div",{className:"space-y-2",children:p.jsx("p",{className:"text-sm text-muted-foreground",children:"The transaction cost that will be subtracted from the premium calculation. Default is 150."})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Gn,{htmlFor:"transaction-cost-input",children:"Transaction Cost:"}),p.jsx(Mo,{id:"transaction-cost-input",type:"text",value:d.toString(),onChange:S,placeholder:"150"})]})]}),p.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[p.jsx(Me,{variant:"outline",onClick:R,children:"Cancel"}),p.jsx(Me,{onClick:E,children:"Apply Settings"})]})]})]})]})};var ao="rovingFocusGroup.onEntryFocus",a_={bubbles:!1,cancelable:!0},bn="RovingFocusGroup",[Fo,ld,c_]=us(bn),[l_,ud]=mt(bn,[c_]),[u_,d_]=l_(bn),dd=h.forwardRef((t,e)=>p.jsx(Fo.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Fo.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(h_,{...t,ref:e})})}));dd.displayName=bn;var h_=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:d=!1,...f}=t,m=h.useRef(null),u=re(e,m),v=yi(o),[g,y]=Dr({prop:i,defaultProp:a??null,onChange:c,caller:bn}),[w,x]=h.useState(!1),b=Ie(l),_=ld(r),S=h.useRef(!1),[E,R]=h.useState(0);return h.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(ao,b),()=>C.removeEventListener(ao,b)},[b]),p.jsx(u_,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(C=>y(C),[y]),onItemShiftTab:h.useCallback(()=>x(!0),[]),onFocusableItemAdd:h.useCallback(()=>R(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>R(C=>C-1),[]),children:p.jsx(Q.div,{tabIndex:w||E===0?-1:0,"data-orientation":n,...f,ref:u,style:{outline:"none",...t.style},onMouseDown:M(t.onMouseDown,()=>{S.current=!0}),onFocus:M(t.onFocus,C=>{const k=!S.current;if(C.target===C.currentTarget&&k&&!w){const I=new CustomEvent(ao,a_);if(C.currentTarget.dispatchEvent(I),!I.defaultPrevented){const N=_().filter(L=>L.focusable),j=N.find(L=>L.active),W=N.find(L=>L.id===g),q=[j,W,...N].filter(Boolean).map(L=>L.ref.current);pd(q,d)}}S.current=!1}),onBlur:M(t.onBlur,()=>x(!1))})})}),hd="RovingFocusGroupItem",fd=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=t,c=Xt(),l=o||c,d=d_(hd,r),f=d.currentTabStopId===l,m=ld(r),{onFocusableItemAdd:u,onFocusableItemRemove:v,currentTabStopId:g}=d;return h.useEffect(()=>{if(n)return u(),()=>v()},[n,u,v]),p.jsx(Fo.ItemSlot,{scope:r,id:l,focusable:n,active:s,children:p.jsx(Q.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:M(t.onMouseDown,y=>{n?d.onItemFocus(l):y.preventDefault()}),onFocus:M(t.onFocus,()=>d.onItemFocus(l)),onKeyDown:M(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=m_(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const _=b.indexOf(y.currentTarget);b=d.loop?g_(b,_+1):b.slice(_+1)}setTimeout(()=>pd(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});fd.displayName=hd;var f_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p_(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function m_(t,e,r){const n=p_(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return f_[n]}function pd(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function g_(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var v_=dd,y_=fd;function w_(t){const e=b_(t),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),c=a.find(x_);if(c){const l=c.props.children,d=a.map(f=>f===c?h.Children.count(l)>1?h.Children.only(null):h.isValidElement(l)?l.props.children:null:f);return p.jsx(e,{...i,ref:s,children:h.isValidElement(l)?h.cloneElement(l,void 0,d):null})}return p.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}function b_(t){const e=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=E_(s),a=S_(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Mt(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var __=Symbol("radix.slottable");function x_(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===__}function S_(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function E_(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Bo=["Enter"," "],C_=["ArrowDown","PageUp","Home"],md=["ArrowUp","PageDown","End"],T_=[...C_,...md],R_={ltr:[...Bo,"ArrowRight"],rtl:[...Bo,"ArrowLeft"]},k_={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_n="Menu",[dn,A_,P_]=us(_n),[tr,gd]=mt(_n,[P_,ys,ud]),Ps=ys(),vd=ud(),[O_,rr]=tr(_n),[j_,xn]=tr(_n),yd=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=t,a=Ps(e),[c,l]=h.useState(null),d=h.useRef(!1),f=Ie(o),m=yi(s);return h.useEffect(()=>{const u=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",u,{capture:!0}),()=>{document.removeEventListener("keydown",u,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),p.jsx(Cl,{...a,children:p.jsx(O_,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:l,children:p.jsx(j_,{scope:e,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:n})})})};yd.displayName=_n;var I_="MenuAnchor",bi=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Ps(r);return p.jsx(Tl,{...s,...n,ref:e})});bi.displayName=I_;var _i="MenuPortal",[N_,wd]=tr(_i,{forceMount:void 0}),bd=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=rr(_i,e);return p.jsx(N_,{scope:e,forceMount:r,children:p.jsx(ot,{present:r||o.open,children:p.jsx(ds,{asChild:!0,container:s,children:n})})})};bd.displayName=_i;var $e="MenuContent",[D_,xi]=tr($e),_d=h.forwardRef((t,e)=>{const r=wd($e,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=rr($e,t.__scopeMenu),i=xn($e,t.__scopeMenu);return p.jsx(dn.Provider,{scope:t.__scopeMenu,children:p.jsx(ot,{present:n||o.open,children:p.jsx(dn.Slot,{scope:t.__scopeMenu,children:i.modal?p.jsx(M_,{...s,ref:e}):p.jsx($_,{...s,ref:e})})})})}),M_=h.forwardRef((t,e)=>{const r=rr($e,t.__scopeMenu),n=h.useRef(null),s=re(e,n);return h.useEffect(()=>{const o=n.current;if(o)return wu(o)},[]),p.jsx(Si,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:M(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),$_=h.forwardRef((t,e)=>{const r=rr($e,t.__scopeMenu);return p.jsx(Si,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),L_=w_("MenuContent.ScrollLock"),Si=h.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:u,disableOutsideScroll:v,...g}=t,y=rr($e,r),w=xn($e,r),x=Ps(r),b=vd(r),_=A_(r),[S,E]=h.useState(null),R=h.useRef(null),C=re(e,R,y.onContentChange),k=h.useRef(0),I=h.useRef(""),N=h.useRef(0),j=h.useRef(null),W=h.useRef("right"),O=h.useRef(0),q=v?pi:h.Fragment,L=v?{as:L_,allowPinchZoom:!0}:void 0,B=A=>{var Z,at;const K=I.current+A,ee=_().filter(pe=>!pe.disabled),H=document.activeElement,J=(Z=ee.find(pe=>pe.ref.current===H))==null?void 0:Z.textValue,X=ee.map(pe=>pe.textValue),he=Y_(X,K,J),Re=(at=ee.find(pe=>pe.textValue===he))==null?void 0:at.ref.current;(function pe(Qe){I.current=Qe,window.clearTimeout(k.current),Qe!==""&&(k.current=window.setTimeout(()=>pe(""),1e3))})(K),Re&&setTimeout(()=>Re.focus())};h.useEffect(()=>()=>window.clearTimeout(k.current),[]),du();const D=h.useCallback(A=>{var ee,H;return W.current===((ee=j.current)==null?void 0:ee.side)&&X_(A,(H=j.current)==null?void 0:H.area)},[]);return p.jsx(D_,{scope:r,searchRef:I,onItemEnter:h.useCallback(A=>{D(A)&&A.preventDefault()},[D]),onItemLeave:h.useCallback(A=>{var K;D(A)||((K=R.current)==null||K.focus(),E(null))},[D]),onTriggerLeave:h.useCallback(A=>{D(A)&&A.preventDefault()},[D]),pointerGraceTimerRef:N,onPointerGraceIntentChange:h.useCallback(A=>{j.current=A},[]),children:p.jsx(q,{...L,children:p.jsx(fi,{asChild:!0,trapped:s,onMountAutoFocus:M(o,A=>{var K;A.preventDefault(),(K=R.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(gn,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:u,children:p.jsx(v_,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:M(c,A=>{w.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(Rl,{role:"menu","aria-orientation":"vertical","data-state":$d(y.open),"data-radix-menu-content":"",dir:w.dir,...x,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:M(g.onKeyDown,A=>{const ee=A.target.closest("[data-radix-menu-content]")===A.currentTarget,H=A.ctrlKey||A.altKey||A.metaKey,J=A.key.length===1;ee&&(A.key==="Tab"&&A.preventDefault(),!H&&J&&B(A.key));const X=R.current;if(A.target!==X||!T_.includes(A.key))return;A.preventDefault();const Re=_().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);md.includes(A.key)&&Re.reverse(),G_(Re)}),onBlur:M(t.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(k.current),I.current="")}),onPointerMove:M(t.onPointerMove,hn(A=>{const K=A.target,ee=O.current!==A.clientX;if(A.currentTarget.contains(K)&&ee){const H=A.clientX>O.current?"right":"left";W.current=H,O.current=A.clientX}}))})})})})})})});_d.displayName=$e;var U_="MenuGroup",Ei=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return p.jsx(Q.div,{role:"group",...n,ref:e})});Ei.displayName=U_;var F_="MenuLabel",xd=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return p.jsx(Q.div,{...n,ref:e})});xd.displayName=F_;var is="MenuItem",sc="menu.itemSelect",Os=h.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=h.useRef(null),i=xn(is,t.__scopeMenu),a=xi(is,t.__scopeMenu),c=re(e,o),l=h.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const m=new CustomEvent(sc,{bubbles:!0,cancelable:!0});f.addEventListener(sc,u=>n==null?void 0:n(u),{once:!0}),Ko(f,m),m.defaultPrevented?l.current=!1:i.onClose()}};return p.jsx(Sd,{...s,ref:c,disabled:r,onClick:M(t.onClick,d),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),l.current=!0},onPointerUp:M(t.onPointerUp,f=>{var m;l.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:M(t.onKeyDown,f=>{const m=a.searchRef.current!=="";r||m&&f.key===" "||Bo.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Os.displayName=is;var Sd=h.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,i=xi(is,r),a=vd(r),c=h.useRef(null),l=re(e,c),[d,f]=h.useState(!1),[m,u]=h.useState("");return h.useEffect(()=>{const v=c.current;v&&u((v.textContent??"").trim())},[o.children]),p.jsx(dn.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:p.jsx(y_,{asChild:!0,...a,focusable:!n,children:p.jsx(Q.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:l,onPointerMove:M(t.onPointerMove,hn(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:M(t.onPointerLeave,hn(v=>i.onItemLeave(v))),onFocus:M(t.onFocus,()=>f(!0)),onBlur:M(t.onBlur,()=>f(!1))})})})}),B_="MenuCheckboxItem",Ed=h.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return p.jsx(Ad,{scope:t.__scopeMenu,checked:r,children:p.jsx(Os,{role:"menuitemcheckbox","aria-checked":as(r)?"mixed":r,...s,ref:e,"data-state":Ti(r),onSelect:M(s.onSelect,()=>n==null?void 0:n(as(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ed.displayName=B_;var Cd="MenuRadioGroup",[V_,W_]=tr(Cd,{value:void 0,onValueChange:()=>{}}),Td=h.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=Ie(n);return p.jsx(V_,{scope:t.__scopeMenu,value:r,onValueChange:o,children:p.jsx(Ei,{...s,ref:e})})});Td.displayName=Cd;var Rd="MenuRadioItem",kd=h.forwardRef((t,e)=>{const{value:r,...n}=t,s=W_(Rd,t.__scopeMenu),o=r===s.value;return p.jsx(Ad,{scope:t.__scopeMenu,checked:o,children:p.jsx(Os,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":Ti(o),onSelect:M(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});kd.displayName=Rd;var Ci="MenuItemIndicator",[Ad,z_]=tr(Ci,{checked:!1}),Pd=h.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=z_(Ci,r);return p.jsx(ot,{present:n||as(o.checked)||o.checked===!0,children:p.jsx(Q.span,{...s,ref:e,"data-state":Ti(o.checked)})})});Pd.displayName=Ci;var q_="MenuSeparator",Od=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return p.jsx(Q.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Od.displayName=q_;var K_="MenuArrow",jd=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Ps(r);return p.jsx(kl,{...s,...n,ref:e})});jd.displayName=K_;var H_="MenuSub",[yS,Id]=tr(H_),Jr="MenuSubTrigger",Nd=h.forwardRef((t,e)=>{const r=rr(Jr,t.__scopeMenu),n=xn(Jr,t.__scopeMenu),s=Id(Jr,t.__scopeMenu),o=xi(Jr,t.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,l={__scopeMenu:t.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),p.jsx(bi,{asChild:!0,...l,children:p.jsx(Sd,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":$d(r.open),...t,ref:Mt(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:M(t.onPointerMove,hn(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:M(t.onPointerLeave,hn(f=>{var u,v;d();const m=(u=r.content)==null?void 0:u.getBoundingClientRect();if(m){const g=(v=r.content)==null?void 0:v.dataset.side,y=g==="right",w=y?-5:5,x=m[y?"left":"right"],b=m[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x,y:m.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:M(t.onKeyDown,f=>{var u;const m=o.searchRef.current!=="";t.disabled||m&&f.key===" "||R_[n.dir].includes(f.key)&&(r.onOpenChange(!0),(u=r.content)==null||u.focus(),f.preventDefault())})})})});Nd.displayName=Jr;var Dd="MenuSubContent",Md=h.forwardRef((t,e)=>{const r=wd($e,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=rr($e,t.__scopeMenu),i=xn($e,t.__scopeMenu),a=Id(Dd,t.__scopeMenu),c=h.useRef(null),l=re(e,c);return p.jsx(dn.Provider,{scope:t.__scopeMenu,children:p.jsx(ot,{present:n||o.open,children:p.jsx(dn.Slot,{scope:t.__scopeMenu,children:p.jsx(Si,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:l,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:M(t.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:M(t.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:M(t.onKeyDown,d=>{var u;const f=d.currentTarget.contains(d.target),m=k_[i.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(u=a.trigger)==null||u.focus(),d.preventDefault())})})})})})});Md.displayName=Dd;function $d(t){return t?"open":"closed"}function as(t){return t==="indeterminate"}function Ti(t){return as(t)?"indeterminate":t?"checked":"unchecked"}function G_(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function J_(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Y_(t,e,r){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=J_(t,Math.max(o,0));s.length===1&&(i=i.filter(l=>l!==r));const c=i.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Q_(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],c=e[i],l=a.x,d=a.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-l)*(n-d)/(m-d)+l&&(s=!s)}return s}function X_(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Q_(r,e)}function hn(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Z_=yd,ex=bi,tx=bd,rx=_d,nx=Ei,sx=xd,ox=Os,ix=Ed,ax=Td,cx=kd,lx=Pd,ux=Od,dx=jd,hx=Nd,fx=Md,js="DropdownMenu",[px]=mt(js,[gd]),Te=gd(),[mx,Ld]=px(js),Ud=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,c=Te(e),l=h.useRef(null),[d,f]=Dr({prop:s,defaultProp:o??!1,onChange:i,caller:js});return p.jsx(mx,{scope:e,triggerId:Xt(),triggerRef:l,contentId:Xt(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:a,children:p.jsx(Z_,{...c,open:d,onOpenChange:f,dir:n,modal:a,children:r})})};Ud.displayName=js;var Fd="DropdownMenuTrigger",Bd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=Ld(Fd,r),i=Te(r);return p.jsx(ex,{asChild:!0,...i,children:p.jsx(Q.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Mt(e,o.triggerRef),onPointerDown:M(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:M(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Bd.displayName=Fd;var gx="DropdownMenuPortal",Vd=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Te(e);return p.jsx(tx,{...n,...r})};Vd.displayName=gx;var Wd="DropdownMenuContent",zd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Ld(Wd,r),o=Te(r),i=h.useRef(!1);return p.jsx(rx,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:M(t.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:M(t.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,d=c.button===2||l;(!s.modal||d)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zd.displayName=Wd;var vx="DropdownMenuGroup",yx=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(nx,{...s,...n,ref:e})});yx.displayName=vx;var wx="DropdownMenuLabel",qd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(sx,{...s,...n,ref:e})});qd.displayName=wx;var bx="DropdownMenuItem",Kd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(ox,{...s,...n,ref:e})});Kd.displayName=bx;var _x="DropdownMenuCheckboxItem",Hd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(ix,{...s,...n,ref:e})});Hd.displayName=_x;var xx="DropdownMenuRadioGroup",Sx=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(ax,{...s,...n,ref:e})});Sx.displayName=xx;var Ex="DropdownMenuRadioItem",Gd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(cx,{...s,...n,ref:e})});Gd.displayName=Ex;var Cx="DropdownMenuItemIndicator",Jd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(lx,{...s,...n,ref:e})});Jd.displayName=Cx;var Tx="DropdownMenuSeparator",Yd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(ux,{...s,...n,ref:e})});Yd.displayName=Tx;var Rx="DropdownMenuArrow",kx=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(dx,{...s,...n,ref:e})});kx.displayName=Rx;var Ax="DropdownMenuSubTrigger",Qd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(hx,{...s,...n,ref:e})});Qd.displayName=Ax;var Px="DropdownMenuSubContent",Xd=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Te(r);return p.jsx(fx,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xd.displayName=Px;var Ox=Ud,jx=Bd,Ix=Vd,Zd=zd,eh=qd,th=Kd,rh=Hd,nh=Gd,sh=Jd,oh=Yd,ih=Qd,ah=Xd;const oc=Ox,ic=jx,Nx=h.forwardRef(({className:t,inset:e,children:r,...n},s)=>p.jsxs(ih,{ref:s,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,p.jsx(Uf,{className:"ml-auto h-4 w-4"})]}));Nx.displayName=ih.displayName;const Dx=h.forwardRef(({className:t,...e},r)=>p.jsx(ah,{ref:r,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Dx.displayName=ah.displayName;const Vo=h.forwardRef(({className:t,sideOffset:e=4,...r},n)=>p.jsx(Ix,{children:p.jsx(Zd,{ref:n,sideOffset:e,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Vo.displayName=Zd.displayName;const be=h.forwardRef(({className:t,inset:e,...r},n)=>p.jsx(th,{ref:n,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));be.displayName=th.displayName;const Mx=h.forwardRef(({className:t,children:e,checked:r,...n},s)=>p.jsxs(rh,{ref:s,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(sh,{children:p.jsx($f,{className:"h-4 w-4"})})}),e]}));Mx.displayName=rh.displayName;const $x=h.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(nh,{ref:n,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(sh,{children:p.jsx(Ff,{className:"h-2 w-2 fill-current"})})}),e]}));$x.displayName=nh.displayName;const Lx=h.forwardRef(({className:t,inset:e,...r},n)=>p.jsx(eh,{ref:n,className:ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Lx.displayName=eh.displayName;const Vt=h.forwardRef(({className:t,...e},r)=>p.jsx(oh,{ref:r,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));Vt.displayName=oh.displayName;const Ux=()=>{const t=qo(),{signOut:e}=Br(),[r,n]=h.useState(!1),{setTheme:s,theme:o}=rl(),i=d=>t.pathname===d,a=d=>d.some(f=>t.pathname===f),c=({path:d,icon:f,label:m})=>p.jsx(Me,{asChild:!0,variant:i(d)?"default":"ghost",size:"sm",className:"flex items-center gap-2 whitespace-nowrap",children:p.jsxs(Se,{to:d,children:[p.jsx(f,{className:"h-4 w-4"}),p.jsx("span",{className:"hidden sm:inline",children:m})]})}),l=({label:d,icon:f,items:m})=>{const u=a(m.map(v=>v.path));return p.jsxs(oc,{children:[p.jsx(ic,{asChild:!0,children:p.jsxs(Me,{variant:u?"default":"ghost",size:"sm",className:"flex items-center gap-1 whitespace-nowrap",children:[p.jsx(f,{className:"h-4 w-4"}),p.jsx("span",{className:"hidden sm:inline",children:d}),p.jsx(Lf,{className:"h-3 w-3"})]})}),p.jsx(Vo,{align:"start",className:"w-56 bg-background border shadow-lg",children:m.map(v=>{const g=v.icon;return p.jsx(be,{asChild:!0,className:"cursor-pointer flex items-center gap-2",children:p.jsxs(Se,{to:v.path,children:[p.jsx(g,{className:"h-4 w-4"}),p.jsx("span",{children:v.label}),i(v.path)&&p.jsx("span",{className:"ml-auto text-primary",children:""})]})},v.path)})})]})};return p.jsxs(p.Fragment,{children:[p.jsxs("nav",{className:"hidden md:flex items-center gap-1 flex-wrap flex-1",children:[p.jsx(l,{label:"Support Levels",icon:Vs,items:[{path:"/consecutive-breaks",label:"Support Level Analysis",icon:Vs}]}),p.jsx(l,{label:"Historical Performance and Volatility",icon:Bs,items:[{path:"/monthly-analysis",label:"Monthly Analysis",icon:Bs},{path:"/volatility-analysis",label:"Financial Reporting Volatility",icon:qi},{path:"/iv-analysis",label:"Implied Volatility History",icon:Zi}]}),p.jsx(l,{label:"Method Validation",icon:Ws,items:[{path:"/probability-analysis",label:"Probability Analysis",icon:Ws},{path:"/lower-bound-analysis",label:"Lower Bound Analysis",icon:Ki}]}),p.jsx("div",{className:"flex-1"}),p.jsx(c,{path:"/stock-analysis",icon:Gi,label:"Stock Metrics and History"}),p.jsx(l,{label:"Automated Analysis",icon:Wf,items:[{path:"/recommendations",label:"Automated Put Option Recommendations",icon:Qi},{path:"/scored-options",label:"Scored Options",icon:An},{path:"/portfolio-generator",label:"Automatic Portfolio Generator",icon:Hi},{path:"/support-level-options",label:"Support Level Options List",icon:An}]})]}),p.jsx("div",{className:"md:hidden",children:p.jsxs(oc,{children:[p.jsx(ic,{asChild:!0,children:p.jsxs(Me,{variant:"outline",size:"icon",className:"h-9 w-9",children:[p.jsx(Vf,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Open menu"})]})}),p.jsxs(Vo,{align:"start",className:"w-56 bg-background border shadow-lg z-50",children:[p.jsx(be,{asChild:!0,className:"cursor-pointer",children:p.jsxs(Se,{to:"/stock-analysis",children:[p.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Stock Metrics and History"]})}),p.jsx(Vt,{}),p.jsx("div",{className:"px-2 py-1.5 text-sm font-medium text-muted-foreground",children:"Support Levels"}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/consecutive-breaks",children:[p.jsx(Vs,{className:"mr-2 h-4 w-4"}),"Support Level Analysis"]})}),p.jsx(Vt,{}),p.jsx("div",{className:"px-2 py-1.5 text-sm font-medium text-muted-foreground",children:"Automated Analysis"}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/recommendations",children:[p.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Automated Put Option Recommendations"]})}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/scored-options",children:[p.jsx(An,{className:"mr-2 h-4 w-4"}),"Scored Options"]})}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/portfolio-generator",children:[p.jsx(Hi,{className:"mr-2 h-4 w-4"}),"Automatic Portfolio Generator"]})}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/support-level-options",children:[p.jsx(An,{className:"mr-2 h-4 w-4"}),"Support Level Options List"]})}),p.jsx(Vt,{}),p.jsx("div",{className:"px-2 py-1.5 text-sm font-medium text-muted-foreground",children:"Historical Performance and Volatility"}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/monthly-analysis",children:[p.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Monthly Analysis"]})}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/volatility-analysis",children:[p.jsx(qi,{className:"mr-2 h-4 w-4"}),"Financial Reporting Volatility"]})}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/iv-analysis",children:[p.jsx(Zi,{className:"mr-2 h-4 w-4"}),"Implied Volatility History"]})}),p.jsx(Vt,{}),p.jsx("div",{className:"px-2 py-1.5 text-sm font-medium text-muted-foreground",children:"Method Validation"}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/probability-analysis",children:[p.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Probability Analysis"]})}),p.jsx(be,{asChild:!0,className:"cursor-pointer ml-2",children:p.jsxs(Se,{to:"/lower-bound-analysis",children:[p.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Lower Bound Analysis"]})}),p.jsx(Vt,{}),p.jsxs(be,{onClick:()=>n(!0),className:"cursor-pointer",children:[p.jsx(fo,{className:"mr-2 h-4 w-4"}),"Settings"]}),p.jsxs(be,{onClick:()=>s(o==="light"?"dark":"light"),className:"cursor-pointer",children:[o==="light"?p.jsx(Yi,{className:"mr-2 h-4 w-4"}):p.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Toggle Theme"]}),p.jsx(Vt,{}),p.jsxs(be,{onClick:e,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(Ji,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})}),p.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[p.jsxs(Me,{onClick:()=>n(!0),variant:"ghost",size:"sm",className:"flex items-center gap-2",title:"Calculation Settings",children:[p.jsx(fo,{className:"h-4 w-4"}),p.jsx("span",{className:"hidden lg:inline text-sm",children:"Calculation Settings"})]}),p.jsx(Me,{onClick:()=>s(o==="light"?"dark":"light"),variant:"ghost",size:"icon",className:"h-9 w-9",title:o==="light"?"Switch to dark mode":"Switch to light mode",children:o==="light"?p.jsx(Yi,{className:"h-4 w-4"}):p.jsx(Xi,{className:"h-4 w-4"})}),p.jsx(Me,{onClick:e,variant:"ghost",size:"icon",className:"h-9 w-9 text-destructive hover:text-destructive",title:"Sign out",children:p.jsx(Ji,{className:"h-4 w-4"})})]}),p.jsx(i_,{isOpen:r,onOpenChange:n,triggerButton:!1})]})},Fx=({children:t})=>{const e=qo(),{trackPageView:r}=lu(),{user:n}=Br();return h.useEffect(()=>{n&&r(e.pathname,document.title,{referrer:document.referrer,search_params:Object.fromEntries(new URLSearchParams(e.search))})},[e,n,r]),p.jsx(p.Fragment,{children:t})},Bx=P.lazy(()=>xe(()=>import("./Index-93VtzDu3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Vx=P.lazy(()=>xe(()=>import("./PortfolioGenerator-D7kOUDv2.js"),__vite__mapDeps([21,1,2,4,5,6,7,8,9,22,23,12,24,10,15,16,11,17,25,14]))),Wx=P.lazy(()=>xe(()=>import("./MonthlyAnalysis-CgabMRe_.js"),__vite__mapDeps([26,1,2,12,27,28,6,29,16,17,7,4,11,30,14,31,25])).then(t=>({default:t.MonthlyAnalysis}))),zx=P.lazy(()=>xe(()=>import("./VolatilityAnalysis-Dy-7FWKd.js"),__vite__mapDeps([32,1,2,12,28,33,16,13,14,4,27,5,11,25,20,31])).then(t=>({default:t.VolatilityAnalysis}))),qx=P.lazy(()=>xe(()=>import("./ConsecutiveBreaksAnalysis-DY74ui8R.js"),__vite__mapDeps([34,1,2,35,14,36,17,16,33,12,27,4]))),Kx=P.lazy(()=>xe(()=>import("./SupportBasedOptionFinder-DqnjabSa.js"),__vite__mapDeps([37,1,2,15,16,38,12,27,4,5,30,10,14]))),Hx=P.lazy(()=>xe(()=>import("./OptionDetailsPage-DogxtJEU.js"),__vite__mapDeps([39,1,15,16,2,12,7,6,40,14,10,25]))),ac=P.lazy(()=>xe(()=>import("./StockDetailsPage-DxtrXVIQ.js"),__vite__mapDeps([41,1,17,16,2,3,33,12,20,14,18,7,31,11,27,42,25]))),Gx=P.lazy(()=>xe(()=>import("./ProbabilityAnalysis-BW7w-2yH.js"),__vite__mapDeps([43,1,3,44,16,12,27,14,35,36,11,22,42,10])).then(t=>({default:t.ProbabilityAnalysis}))),Jx=P.lazy(()=>xe(()=>import("./LowerBoundAnalysis-0Ff4WwUq.js"),__vite__mapDeps([45,1,16,14,35,36,17,33,4,11,30,27,12,46,13,47,10])).then(t=>({default:t.LowerBoundAnalysis}))),Yx=P.lazy(()=>xe(()=>import("./AutomatedRecommendations-U84AcvS2.js"),__vite__mapDeps([48,1,2,15,16,38,40,44,29,17,12,9,27,4,5,46,49,10,30,19,20,14]))),Qx=P.lazy(()=>xe(()=>import("./ScoredOptions-D0TkSVG6.js"),__vite__mapDeps([50,1,2,23,12,22,24,10,15,16,9,27,19,4,5,49,30,14])).then(t=>({default:t.ScoredOptions}))),Xx=P.lazy(()=>xe(()=>import("./IVAnalysis-DGc7tAtx.js"),__vite__mapDeps([51,1,2,16,12,22,24,10,28,14,47])).then(t=>({default:t.IVAnalysis}))),Zx=P.lazy(()=>xe(()=>import("./NotFound-N0T-g8kQ.js"),__vite__mapDeps([52,1,2,14]))),eS=P.lazy(()=>xe(()=>import("./Auth-iF4Rr6II.js"),__vite__mapDeps([53,1,2,12,13,14]))),tS=P.lazy(()=>xe(()=>import("./AuthCallback-EcekdPkt.js"),__vite__mapDeps([54,1,2,14]))),rS=()=>p.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}),nS=new xv,sS=()=>{const{session:t}=Br();return p.jsxs("header",{className:"w-full border-b",children:[p.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:z-50 focus:top-2 focus:left-2 focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-md focus:text-sm focus:font-medium",children:"Skip to main content"}),p.jsxs("div",{className:"flex items-center justify-between px-4 py-3 gap-4",children:[p.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:t&&p.jsxs(p.Fragment,{children:[p.jsx(Me,{asChild:!0,variant:"ghost",size:"icon",title:"Go to home page",children:p.jsx(Se,{to:"/",children:p.jsx(Bf,{className:"h-5 w-5"})})}),p.jsx("div",{className:"h-6 w-px bg-border hidden md:block"}),p.jsx(Ux,{})]})}),p.jsx("div",{children:!t&&p.jsx(Me,{asChild:!0,children:p.jsx(Se,{to:"/auth",children:"Sign in"})})})]})]})},oS=()=>{const e=window.location.hostname==="datamilo.github.io"?"/put-options-se":"";return p.jsx(Sv,{client:nS,children:p.jsx(kp,{attribute:"class",defaultTheme:"light",storageKey:"vite-ui-theme",children:p.jsx(ib,{children:p.jsx(lb,{children:p.jsx(Gg,{children:p.jsxs(wb,{children:[p.jsx(Cp,{}),p.jsx(im,{}),p.jsx(bh,{basename:e,children:p.jsxs(Fx,{children:[p.jsx(sS,{}),p.jsx("main",{id:"main-content",children:p.jsx(h.Suspense,{fallback:p.jsx(rS,{}),children:p.jsxs(_h,{children:[p.jsx(ge,{path:"/auth",element:p.jsx(eS,{})}),p.jsx(ge,{path:"/auth/callback",element:p.jsx(tS,{})}),p.jsx(ge,{path:"/",element:p.jsx(ke,{children:p.jsx(Bx,{})})}),p.jsx(ge,{path:"/portfolio-generator",element:p.jsx(ke,{children:p.jsx(Vx,{})})}),p.jsx(ge,{path:"/monthly-analysis",element:p.jsx(ke,{children:p.jsx(Wx,{})})}),p.jsx(ge,{path:"/volatility-analysis",element:p.jsx(ke,{children:p.jsx(zx,{})})}),p.jsx(ge,{path:"/iv-analysis",element:p.jsx(ke,{children:p.jsx(Xx,{})})}),p.jsx(ge,{path:"/consecutive-breaks",element:p.jsx(ke,{children:p.jsx(qx,{})})}),p.jsx(ge,{path:"/support-level-options",element:p.jsx(ke,{children:p.jsx(Kx,{})})}),p.jsx(ge,{path:"/option/:optionId",element:p.jsx(ke,{children:p.jsx(Hx,{})})}),p.jsx(ge,{path:"/stock/:stockName",element:p.jsx(ke,{children:p.jsx(ac,{})})}),p.jsx(ge,{path:"/stock-analysis",element:p.jsx(ke,{children:p.jsx(ac,{})})}),p.jsx(ge,{path:"/probability-analysis",element:p.jsx(ke,{children:p.jsx(Gx,{})})}),p.jsx(ge,{path:"/lower-bound-analysis",element:p.jsx(ke,{children:p.jsx(Jx,{})})}),p.jsx(ge,{path:"/recommendations",element:p.jsx(ke,{children:p.jsx(Yx,{})})}),p.jsx(ge,{path:"/scored-options",element:p.jsx(ke,{children:p.jsx(Qx,{})})}),p.jsx(ge,{path:"*",element:p.jsx(Zx,{})})]})})})]})})]})})})})})})};try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found in DOM");_c(t).render(p.jsx(oS,{}))}catch(t){const e=t instanceof Error?t.message:String(t);document.body.innerHTML=`
    <div style="padding: 20px; font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; background: #f5f5f5; border-radius: 8px;">
      <h1 style="color: #d32f2f;">Application Error</h1>
      <p>Failed to load the Put Options SE application.</p>
      <details style="margin: 20px 0; padding: 10px; background: white; border-radius: 4px;">
        <summary style="cursor: pointer; font-weight: bold;">Error Details</summary>
        <pre style="margin-top: 10px; font-size: 12px; overflow: auto;">${e}</pre>
      </details>
      <div style="margin-top: 20px;">
        <button onclick="window.location.reload()" style="padding: 10px 20px; background: #1976d2; color: white; border: none; border-radius: 4px; cursor: pointer;">
          Reload Page
        </button>
      </div>
      <p style="margin-top: 20px; font-size: 12px; color: #666;">
        Base URL: /put-options-se<br>
        Mode: production<br>
        Location: ${window.location.href}
      </p>
    </div>
  `}export{hb as $,y_ as A,Me as B,Lf as C,j0 as D,ud as E,yi as F,mt as G,Yo as H,Mo as I,ae as J,Zi as K,Gn as L,Bs as M,Vs as N,cu as O,Q as P,lS as Q,v_ as R,fo as S,Gg as T,An as U,qi as V,ot as W,re as X,B0 as Y,ml as Z,Gi as _,I0 as a,xs as a0,uv as a1,rv as a2,pS as a3,xo as a4,ze as a5,Ss as a6,ev as a7,tv as a8,_o as a9,Rl as aA,kl as aB,k0 as aC,P0 as aD,Mu as aE,$u as aF,Ul as aa,gv as ab,ov as ac,Ee as ad,mS as ae,gS as af,Qi as ag,Xt as ah,ht as ai,Dh as aj,Vt as ak,Mx as al,Ie as am,Ku as an,Mt as ao,Cl as ap,ys as aq,us as ar,ff as as,Tl as at,ds as au,wu as av,du as aw,pi as ax,fi as ay,gn as az,Bu as b,ue as c,Vu as d,Wu as e,hS as f,fS as g,Jg as h,uS as i,p as j,Br as k,oc as l,ic as m,Vo as n,be as o,lu as p,We as q,Uf as r,Ce as s,cb as t,ab as u,cd as v,Nh as w,$f as x,Dr as y,M as z};
