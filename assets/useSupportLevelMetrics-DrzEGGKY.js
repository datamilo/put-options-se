import{r as a}from"./router-C0wDHNfv.js";import{P as u}from"./csv-B1Pu-2A6.js";const y=()=>{const[s,c]=a.useState([]),[l,n]=a.useState(!0),[p,i]=a.useState(null);return a.useEffect(()=>{(async()=>{try{n(!0),i(null);const t=await fetch("https://raw.githubusercontent.com/datamilo/put-options-se/main/data/support_level_metrics.csv");if(!t.ok)throw new Error(`Failed to load support metrics: ${t.statusText}`);const o=await t.text();u.parse(o,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:r=>r.trim(),transform:(r,S)=>r===""||r==="None"||r===null?null:r,complete:r=>{r.errors.length>0&&console.error("CSV parsing errors:",r.errors),c(r.data),n(!1)},error:r=>{console.error("CSV parsing error:",r),i(r.message),n(!1)}})}catch(t){console.error("Error loading support metrics:",t),i(t instanceof Error?t.message:"Unknown error"),n(!1)}})()},[]),{data:s,isLoading:l,error:p,getMetricsForStock:(e,t)=>s.find(o=>o.stock_name===e&&o.rolling_period===t),getAllMetricsForStock:e=>s.filter(t=>t.stock_name===e),getMetricsForPeriod:e=>s.filter(t=>t.rolling_period===e),getStocksByPattern:(e,t)=>{let o=s.filter(r=>r.pattern_type===e);return t!==void 0&&(o=o.filter(r=>r.rolling_period===t)),o}}};export{y as u};
