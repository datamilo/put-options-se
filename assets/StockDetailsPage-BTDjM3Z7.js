import{c as le,j as e,V as z,B as b,L as Q,I as Z,K,i as ee,M as ge}from"./index-BVw2Pzxv.js";import{r as f,j as fe,h as Ne,L as ve}from"./router-C0wDHNfv.js";import{u as ce}from"./useStockData-BWzV3G2_.js";import{u as ye}from"./usePageTitle-CpPgFbZv.js";import{u as we,D as se}from"./data-timestamp-BzKk4OZs.js";import{P as ke}from"./csv-B1Pu-2A6.js";import{u as be}from"./useVolatilityData-C2pxXklU.js";import{C,a as M,b as P,c as F}from"./card-Dh7Q_ijz.js";import{C as oe}from"./chart-column-CueXmNrU.js";import{R as De,i as Ce,C as Me,X as Pe,Y as te,T as Fe,b as ae,a as Se}from"./charts-B8eVsusH.js";import{F as Le}from"./file-text-BrZ6FyEk.js";import{B as de}from"./badge-Dph76v7f.js";import{T as Ee}from"./trending-down-wpPGQwBP.js";import{A as ne}from"./arrow-up-down-CgXERPoI.js";import{S as I,a as R,b as U,c as O,d as H}from"./select-CzhzUq9X.js";import{L as ie,B as Ae,a as Te,b as re,c as Be,d as _e,e as We}from"./breadcrumb-y5CSiKPF.js";import{A as D}from"./arrow-left-Co53Anaq.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=le("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=le("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);let $=null;const Ie=()=>{const[d,t]=f.useState([]),[r,h]=f.useState(!0),[u,o]=f.useState(null);f.useEffect(()=>{l()},[]);const l=async()=>{try{if($){t($),h(!1);return}h(!0),o(null);const p=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/upcoming_events.csv?${Date.now()}`,`${window.location.origin}/put-options-sedata/upcoming_events.csv?${Date.now()}`];let g=null,w=null;for(const N of p)try{if(console.log("ðŸ”— Trying upcoming events URL:",N),w=await fetch(N),w.ok){console.log("âœ… Successfully loaded upcoming events from:",N);break}}catch(m){console.warn("âŒ Failed to load from:",N,m),g=m}if(!w||!w.ok)throw g||new Error("Failed to load upcoming events from any URL");const c=await w.text();ke.parse(c,{header:!0,delimiter:"|",skipEmptyLines:!0,complete:N=>{const m=N.data.map(S=>{const j=S;return{date:String(j.date||""),stock_name:String(j.stock_name||""),event_type:String(j.event_type||""),event_category:String(j.event_category||""),days_until_event:parseInt(String(j.days_until_event||"0"),10),is_earnings:String(j.is_earnings||"False").toLowerCase()==="true",details:String(j.details||"")}});$=m,t(m),h(!1)},error:N=>{console.error("Error parsing upcoming events CSV:",N),o("Failed to parse upcoming events data"),h(!1)}})}catch(p){console.error("Error loading upcoming events:",p),o("Failed to load upcoming events")}finally{h(!1)}};return{allEvents:d,isLoading:r,error:u,getEventForStock:p=>d.find(g=>g.stock_name===p)||null}},Re=d=>{const{cx:t,cy:r,fill:h,payload:u}=d;if(t===void 0||r===void 0||!u||!u.earningsMarker)return null;const o=14,l=t-o/2,x=r-o/2;return e.jsxs("g",{children:[e.jsx("rect",{x:l,y:x,width:o-2,height:o,fill:h||"#818cf8",stroke:"#475569",strokeWidth:1,rx:1}),e.jsx("line",{x1:l+2,y1:x+3,x2:l+o-4,y2:x+3,stroke:"#475569",strokeWidth:.5}),e.jsx("line",{x1:l+2,y1:x+6,x2:l+o-4,y2:x+6,stroke:"#475569",strokeWidth:.5}),e.jsx("line",{x1:l+2,y1:x+9,x2:l+o-4,y2:x+9,stroke:"#475569",strokeWidth:.5})]})},Ue=({data:d,stockName:t})=>{const[r,h]=f.useState("6M"),[u,o]=f.useState(!1),[l,x]=f.useState(""),[p,g]=f.useState(""),{volatilityData:w}=be();f.useEffect(()=>{if(!l&&!p){const s=new Date,a=s.toISOString().split("T")[0],i=new Date(s.getFullYear(),s.getMonth()-6,s.getDate()).toISOString().split("T")[0];x(i),g(a)}},[]);const c=f.useMemo(()=>{let s=d;if(l||p)s=s.filter(a=>{const n=new Date(a.date);return l&&p?n>=new Date(l)&&n<=new Date(p):l?n>=new Date(l):p?n<=new Date(p):!0});else if(r!=="ALL"){const a=new Date,n=r==="1M"?1:r==="3M"?3:r==="6M"?6:12,i=new Date(a.getFullYear(),a.getMonth()-n,a.getDate());s=s.filter(k=>new Date(k.date)>=i)}return s},[d,r,l,p]),N=f.useMemo(()=>!t||!w.length?[]:w.filter(a=>a.name===t).map(a=>{const n=c.find(i=>i.date===a.date);return n?{date:a.date,earningsMarker:n.high*1.02,type:a.type_of_event}:null}).filter(Boolean),[t,w,c]),m=f.useMemo(()=>c.map(s=>{const a=N.find(n=>n.date===s.date);return{...s,earningsMarker:a?a.earningsMarker:void 0,earningsType:a?a.type:null}}),[c,N]),S=s=>{if(h(s),s==="ALL")x(""),g("");else{const a=new Date,n=s==="1M"?1:s==="3M"?3:s==="6M"?6:12,i=new Date(a.getFullYear(),a.getMonth()-n,a.getDate());x(i.toISOString().split("T")[0]),g(a.toISOString().split("T")[0])}},j=()=>{if(m.length===0)return["auto","auto"];const s=m.map(y=>y.high),a=m.map(y=>y.low),n=m.map(y=>y.earningsMarker).filter(Boolean),i=Math.min(...a),k=Math.max(...s,...n),v=(k-i)*.1;return[Math.max(0,i-v),k+v]},L=()=>{if(m.length===0)return[];const s=[...m].sort((n,i)=>new Date(n.date).getTime()-new Date(i.date).getTime());let a=[];if(r==="1M")a=s.filter((n,i)=>i%5===0);else if(r==="3M")a=s.filter((n,i)=>i%14===0);else if(r==="6M"){const i=new Date(s[s.length-1].date).getDate();a=s.filter(k=>{const v=new Date(k.date);return v.getDate()===i||Math.abs(v.getDate()-i)<=2})}else if(r==="1Y"){const i=new Date(s[s.length-1].date).getDate();a=s.filter(k=>{const v=new Date(k.date);return v.getDate()===i||Math.abs(v.getDate()-i)<=2})}else{const n=s.length,i=Math.max(1,Math.floor(n/8));a=s.filter((k,v)=>v%i===0)}return a.map(n=>n.date)},A=({active:s,payload:a})=>{if(s&&a&&a.length){const n=a[0].payload,i=n.close>=n.open;return e.jsxs("div",{className:"bg-card border rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"font-semibold mb-2",children:new Date(n.date).toLocaleDateString()}),n.earningsMarker&&e.jsx("div",{className:"mb-2 pb-2 border-b",children:e.jsxs("p",{className:"flex items-center gap-2 text-sm font-semibold text-indigo-600",children:[e.jsx(Le,{size:16}),e.jsx("span",{children:"Earnings Event"})]})}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Open:"}),e.jsx("span",{className:"font-medium",children:n.open.toFixed(2)})]}),e.jsxs("p",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"High:"}),e.jsx("span",{className:"font-medium",children:n.high.toFixed(2)})]}),e.jsxs("p",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Low:"}),e.jsx("span",{className:"font-medium",children:n.low.toFixed(2)})]}),e.jsxs("p",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Close:"}),e.jsx("span",{className:`font-medium ${i?"text-green-600":"text-red-600"}`,children:n.close.toFixed(2)})]}),e.jsxs("p",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Volume:"}),e.jsx("span",{className:"font-medium",children:n.volume.toLocaleString("sv-SE")})]})]})]})}return null},T=s=>s.toFixed(2),B=s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString(),_=s=>{const a=new Date(s);return r==="1Y"||r==="ALL"?a.toLocaleDateString("en-US",{month:"short",year:"2-digit"}):a.toLocaleDateString("en-US",{month:"short",day:"numeric"})},W=s=>{const{x:a,y:n,width:i,height:k,index:v}=s,y=m[v];if(!y)return null;const Y=y.close>=y.open?"hsl(142, 76%, 36%)":"hsl(0, 84%, 60%)",[xe,E]=j(),me=E-xe,V=k/me,he=n+(E-y.high)*V,ue=n+(E-y.low)*V,X=n+(E-y.open)*V,G=n+(E-y.close)*V,q=Math.min(X,G),pe=Math.max(X,G),je=Math.max(pe-q,1),J=a+i/2;return e.jsxs("g",{children:[e.jsx("line",{x1:J,y1:he,x2:J,y2:ue,stroke:Y,strokeWidth:1}),e.jsx("rect",{x:a+i*.2,y:q,width:i*.6,height:je,fill:Y,stroke:Y,strokeWidth:1})]},`candlestick-${v}`)};return e.jsxs(C,{children:[e.jsxs(M,{className:"space-y-4",children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),t," Candlestick Chart"]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsx("div",{className:"flex gap-1",children:["1M","3M","6M","1Y","ALL"].map(s=>e.jsx(b,{variant:r===s&&!l&&!p?"default":"outline",size:"sm",onClick:()=>S(s),children:s},s))}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(Q,{htmlFor:"chart-date-from",className:"text-xs font-semibold",children:"From Date"}),e.jsx(Z,{id:"chart-date-from",type:"date",value:l,onChange:s=>x(s.target.value),className:"h-8 text-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(Q,{htmlFor:"chart-date-to",className:"text-xs font-semibold",children:"To Date"}),e.jsx(Z,{id:"chart-date-to",type:"date",value:p,onChange:s=>g(s.target.value),className:"h-8 text-sm"})]})]}),e.jsxs(b,{variant:u?"default":"outline",size:"sm",onClick:()=>o(!u),children:[e.jsx(oe,{className:"h-4 w-4 mr-1"}),"Volume"]})]})]}),e.jsx(F,{children:e.jsx("div",{className:"h-96",children:e.jsx(De,{width:"100%",height:"100%",children:e.jsxs(Ce,{data:m,children:[e.jsx(Me,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(Pe,{dataKey:"date",tickFormatter:_,className:"text-muted-foreground",ticks:L()}),e.jsx(te,{yAxisId:"price",orientation:"left",className:"text-muted-foreground",domain:j(),tickFormatter:T}),u&&e.jsx(te,{yAxisId:"volume",orientation:"right",className:"text-muted-foreground",tickFormatter:B}),e.jsx(Fe,{content:e.jsx(A,{})}),e.jsx(ae,{yAxisId:"price",dataKey:"high",shape:W,isAnimationActive:!1}),u&&e.jsx(ae,{yAxisId:"volume",dataKey:"volume",fill:"hsl(var(--muted-foreground))",fillOpacity:.3,name:"Volume"}),e.jsx(Se,{yAxisId:"price",dataKey:"earningsMarker",fill:"#818cf8",shape:e.jsx(Re,{fill:"#818cf8"}),name:"Earnings",isAnimationActive:!1})]})})})})]})},Oe=({stockData:d,stockSummary:t})=>{const r=t.priceChange>=0,{getPriceRangeForPeriod:h}=ce(),u=[{label:"1 Week",days:7},{label:"1 Month",days:30},{label:"3 Months",days:90},{label:"6 Months",days:180},{label:"9 Months",days:270},{label:"1 Year",days:365}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{children:[e.jsx(M,{children:e.jsxs(P,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(oe,{className:"h-6 w-6"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:t.name}),e.jsx("p",{className:"text-muted-foreground",children:"Stock Analysis"})]})]}),e.jsxs(de,{variant:r?"default":"destructive",className:"text-lg px-3 py-1",children:[r?e.jsx(K,{className:"h-4 w-4 mr-1"}):e.jsx(Ee,{className:"h-4 w-4 mr-1"}),r?"+":"",t.priceChangePercent.toFixed(2),"%"]})]})}),e.jsx(F,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Price"}),e.jsx("p",{className:"text-2xl font-bold",children:t.currentPrice.toFixed(2)}),e.jsxs("p",{className:`text-sm ${r?"text-green-600":"text-red-600"}`,children:[r?"+":"",t.priceChange.toFixed(2)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(Ve,{className:"h-4 w-4"}),"Median Daily Volume"]}),e.jsx("p",{className:"text-xl font-semibold",children:ee(t.medianVolume,"volume")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(ne,{className:"h-4 w-4"}),"1 Year Range"]}),e.jsxs("p",{className:"text-lg font-medium",children:[t.lowPrice52Week.toFixed(2)," - ",t.highPrice52Week.toFixed(2)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(z,{className:"h-4 w-4"}),"Volatility"]}),e.jsxs("p",{className:"text-xl font-semibold",children:[t.volatility.toFixed(1),"%"]})]})]})})]}),e.jsxs(C,{children:[e.jsx(M,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Price Ranges"]})}),e.jsx(F,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:u.map(o=>{const l=h(t.name,o.days);return e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:o.label}),l?e.jsxs("p",{className:"text-sm font-semibold",children:[l.low.toFixed(2)," - ",l.high.toFixed(2)]}):e.jsx("p",{className:"text-xs text-muted-foreground",children:"No data"})]},o.days)})})})]}),e.jsx(Ue,{data:d,stockName:t.name}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(M,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Performance Metrics"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Today"}),e.jsxs("span",{className:r?"text-green-600":"text-red-600",children:[r?"+":"",t.priceChangePercent.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Current Week"}),e.jsxs("span",{className:t.priceChangePercentWeek>=0?"text-green-600":"text-red-600",children:[t.priceChangePercentWeek>=0?"+":"",t.priceChangePercentWeek.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Current Month"}),e.jsxs("span",{className:t.priceChangePercentMonth>=0?"text-green-600":"text-red-600",children:[t.priceChangePercentMonth>=0?"+":"",t.priceChangePercentMonth.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Current Year"}),e.jsxs("span",{className:t.priceChangePercentYear>=0?"text-green-600":"text-red-600",children:[t.priceChangePercentYear>=0?"+":"",t.priceChangePercentYear.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"1-Year High"}),e.jsx("span",{className:"font-medium",children:t.highPrice52Week.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"1-Year Low"}),e.jsx("span",{className:"font-medium",children:t.lowPrice52Week.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Distance from 1-Year High"}),e.jsxs("span",{className:"font-medium",children:[((t.currentPrice-t.highPrice52Week)/t.highPrice52Week*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Distance from 1-Year Low"}),e.jsxs("span",{className:"font-medium",children:[((t.currentPrice-t.lowPrice52Week)/t.lowPrice52Week*100).toFixed(1),"%"]})]})]})]}),e.jsxs(C,{children:[e.jsx(M,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"Risk Metrics"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Annualized Volatility"}),e.jsxs("span",{className:"font-medium",children:[t.volatility.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Median Volume"}),e.jsx("span",{className:"font-medium",children:ee(t.medianVolume,"volume")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Price Range (1Y)"}),e.jsx("span",{className:"font-medium",children:(t.highPrice52Week-t.lowPrice52Week).toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Range Ratio"}),e.jsxs("span",{className:"font-medium",children:[(t.highPrice52Week/t.lowPrice52Week).toFixed(2),"x"]})]})]})]})]})]})},He=({event:d,stockName:t})=>{if(!d)return null;const r=d.is_earnings,h=d.days_until_event,u=h<=7,o=r?e.jsx(K,{className:"h-5 w-5"}):e.jsx(Ye,{className:"h-5 w-5"}),l=u?"destructive":"default";return e.jsxs(C,{className:u?"border-orange-300 bg-orange-50 dark:bg-orange-950 dark:border-orange-700":"",children:[e.jsx(M,{children:e.jsxs(P,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5"}),e.jsx("span",{children:"Upcoming Event"})]}),e.jsxs(de,{variant:l,children:[h," day",h===1?"":"s"]})]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Event Date"}),e.jsx("p",{className:"text-lg font-semibold",children:d.date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Event Type"}),e.jsxs("div",{className:"flex items-center gap-2",children:[o,e.jsx("span",{className:"font-semibold",children:d.event_type})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Category"}),e.jsx("p",{className:"font-semibold",children:d.event_category})]})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Details"}),e.jsx("p",{className:"text-base",children:d.details})]})]})]})},os=()=>{var _,W;const{stockName:d}=fe(),t=Ne(),{getStockData:r,getStockSummary:h,isLoading:u,error:o,getAllStockNames:l}=ce(),{timestamps:x}=we(),{getEventForStock:p}=Ie(),g=d!==void 0,w=d?decodeURIComponent(d):"",[c,N]=f.useState(w),[m,S]=f.useState([]);f.useEffect(()=>{const s=l();S(s),!c&&s.length>0&&N(s[0])},[l]);const j=()=>{t(-1)},L=s=>{N(s);const a=encodeURIComponent(s);t(`/stock/${a}`)};ye("Stock Metrics and History",c);const A=c?r(c):[],T=c?h(c):null,B=c?p(c):null;return!c&&u?e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[g&&e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(b,{variant:"outline",onClick:j,className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Back to Options"]})}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(ie,{className:"h-8 w-8 animate-spin mx-auto"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading stock data..."})]})})]}):!c||m.length===0?e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[g&&e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(b,{variant:"outline",onClick:j,className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Back to Options"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"No Stock Selected"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Please select a stock to view."})]}),m.length>0&&e.jsx("div",{className:"w-full max-w-xs mx-auto",children:e.jsxs(I,{value:c||void 0,onValueChange:L,children:[e.jsx(R,{children:e.jsx(U,{placeholder:"Select a stock..."})}),e.jsx(O,{children:m.map(s=>e.jsx(H,{value:s,children:s},s))})]})})]})]}):u?e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[g&&e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(b,{variant:"outline",onClick:j,className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Back to Options"]})}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(ie,{className:"h-8 w-8 animate-spin mx-auto"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading stock data..."})]})})]}):o?e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[g&&e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(b,{variant:"outline",onClick:j,className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Back to Options"]})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Error Loading Stock Data"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:o})]})]}):!T||A.length===0?e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[g&&e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(b,{variant:"outline",onClick:j,className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Back to Options"]})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Stock Metrics and History"})}),e.jsx("div",{className:"w-full max-w-xs",children:e.jsxs(I,{value:c||void 0,onValueChange:L,children:[e.jsx(R,{children:e.jsx(U,{placeholder:"Select a stock..."})}),e.jsx(O,{children:m.map(s=>e.jsx(H,{value:s,children:s},s))})]})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Stock Not Found"}),e.jsxs("p",{className:"text-muted-foreground mt-2",children:['No data available for "',c,'".']})]})]}):e.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[e.jsx(Ae,{children:e.jsxs(Te,{children:[e.jsx(re,{children:e.jsx(Be,{asChild:!0,children:e.jsx(ve,{to:"/",children:"Options Dashboard"})})}),e.jsx(_e,{}),e.jsx(re,{children:e.jsx(We,{children:"Stock Metrics and History"})})]})}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Stock Metrics and History"}),e.jsx("p",{className:"text-muted-foreground",children:c})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(se,{timestamp:(_=x==null?void 0:x.stockData)==null?void 0:_.lastUpdated,label:"Stock data"}),e.jsx(se,{timestamp:(W=x==null?void 0:x.analysisCompleted)==null?void 0:W.lastUpdated,label:"Analysis updated"}),g&&e.jsxs(b,{variant:"outline",size:"sm",onClick:j,className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Back"]})]})]}),e.jsx("div",{className:"w-full max-w-xs",children:e.jsxs(I,{value:c||void 0,onValueChange:L,children:[e.jsx(R,{children:e.jsx(U,{placeholder:"Select a stock..."})}),e.jsx(O,{children:m.map(s=>e.jsx(H,{value:s,children:s},s))})]})}),B&&e.jsx(He,{event:B,stockName:c}),e.jsx(Oe,{stockData:A,stockSummary:T})]})};export{os as default};
