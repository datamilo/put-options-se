var rv=Object.defineProperty;var Lc=t=>{throw TypeError(t)};var nv=(t,e,r)=>e in t?rv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $c=(t,e,r)=>nv(t,typeof e!="symbol"?e+"":e,r),Xa=(t,e,r)=>e.has(t)||Lc("Cannot "+r);var I=(t,e,r)=>(Xa(t,e,"read from private field"),r?r.call(t):e.get(t)),xe=(t,e,r)=>e.has(t)?Lc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),le=(t,e,r,n)=>(Xa(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ge=(t,e,r)=>(Xa(t,e,"access private method"),r);var ao=(t,e,r,n)=>({set _(s){le(t,e,s,r)},get _(){return I(t,e,n)}});import{r as u,b as Ct,a as W,d as wu,R as sv,e as ov,c as vt}from"./vendor-BnwXcw7p.js";import{c as _u,R as In,S as Su,C as _s,X as Qr,Y as Er,T as Zr,L as Pi,a as ju,B as Cu,b as pl,d as Pu,e as Nu,f as Ni,g as av}from"./charts-6Ke1hLvo.js";import{u as an,a as gl,b as ku,c as vl,L as Ss,N as iv,B as lv,R as cv,d as hr}from"./router-BEgZblg0.js";import{P as Ln}from"./csv-CtMdLKCd.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Eu={exports:{}},ra={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=u,uv=Symbol.for("react.element"),hv=Symbol.for("react.fragment"),fv=Object.prototype.hasOwnProperty,mv=dv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pv={key:!0,ref:!0,__self:!0,__source:!0};function Tu(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)fv.call(e,n)&&!pv.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:uv,type:t,key:o,ref:i,props:s,_owner:mv.current}}ra.Fragment=hv;ra.jsx=Tu;ra.jsxs=Tu;Eu.exports=ra;var a=Eu.exports,Du,Fc=Ct;Du=Fc.createRoot,Fc.hydrateRoot;const gv=1,vv=1e6;let Ja=0;function xv(){return Ja=(Ja+1)%Number.MAX_SAFE_INTEGER,Ja.toString()}const Qa=new Map,Wc=t=>{if(Qa.has(t))return;const e=setTimeout(()=>{Qa.delete(t),ps({type:"REMOVE_TOAST",toastId:t})},vv);Qa.set(t,e)},yv=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,gv)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Wc(r):t.toasts.forEach(n=>{Wc(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},jo=[];let Co={toasts:[]};function ps(t){Co=yv(Co,t),jo.forEach(e=>{e(Co)})}function bv({...t}){const e=xv(),r=s=>ps({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>ps({type:"DISMISS_TOAST",toastId:e});return ps({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function wv(){const[t,e]=u.useState(Co);return u.useEffect(()=>(jo.push(e),()=>{const r=jo.indexOf(e);r>-1&&jo.splice(r,1)}),[t]),{...t,toast:bv,dismiss:r=>ps({type:"DISMISS_TOAST",toastId:r})}}function V(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function _v(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function na(...t){return e=>t.forEach(r=>_v(r,e))}function se(...t){return u.useCallback(na(...t),t)}function Sv(t,e=[]){let r=[];function n(o,i){const l=u.createContext(i),c=r.length;r=[...r,i];function d(h){const{scope:m,children:g,...v}=h,p=(m==null?void 0:m[t][c])||l,x=u.useMemo(()=>v,Object.values(v));return a.jsx(p.Provider,{value:x,children:g})}function f(h,m){const g=(m==null?void 0:m[t][c])||l,v=u.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,f]}const s=()=>{const o=r.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,jv(s,...e)]}function jv(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var Dr=u.forwardRef((t,e)=>{const{children:r,...n}=t,s=u.Children.toArray(r),o=s.find(Cv);if(o){const i=o.props.children,l=s.map(c=>c===o?u.Children.count(i)>1?u.Children.only(null):u.isValidElement(i)?i.props.children:null:c);return a.jsx(ki,{...n,ref:e,children:u.isValidElement(i)?u.cloneElement(i,void 0,l):null})}return a.jsx(ki,{...n,ref:e,children:r})});Dr.displayName="Slot";var ki=u.forwardRef((t,e)=>{const{children:r,...n}=t;if(u.isValidElement(r)){const s=Nv(r);return u.cloneElement(r,{...Pv(n,r.props),ref:e?na(e,s):s})}return u.Children.count(r)>1?u.Children.only(null):null});ki.displayName="SlotClone";var Ru=({children:t})=>a.jsx(a.Fragment,{children:t});function Cv(t){return u.isValidElement(t)&&t.type===Ru}function Pv(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function Nv(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Us(t){const e=t+"CollectionProvider",[r,n]=Sv(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:p}=g,x=W.useRef(null),y=W.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:y,collectionRef:x,children:p})};i.displayName=e;const l=t+"CollectionSlot",c=W.forwardRef((g,v)=>{const{scope:p,children:x}=g,y=o(l,p),b=se(v,y.collectionRef);return a.jsx(Dr,{ref:b,children:x})});c.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=W.forwardRef((g,v)=>{const{scope:p,children:x,...y}=g,b=W.useRef(null),w=se(v,b),_=o(d,p);return W.useEffect(()=>(_.itemMap.set(b,{ref:b,...y}),()=>void _.itemMap.delete(b))),a.jsx(Dr,{[f]:"",ref:w,children:x})});h.displayName=d;function m(g){const v=o(t+"CollectionConsumer",g);return W.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},m,n]}function kv(t,e){const r=u.createContext(e),n=o=>{const{children:i,...l}=o,c=u.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=t+"Provider";function s(o){const i=u.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function zt(t,e=[]){let r=[];function n(o,i){const l=u.createContext(i),c=r.length;r=[...r,i];const d=h=>{var y;const{scope:m,children:g,...v}=h,p=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,x=u.useMemo(()=>v,Object.values(v));return a.jsx(p.Provider,{value:x,children:g})};d.displayName=o+"Provider";function f(h,m){var p;const g=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,v=u.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[d,f]}const s=()=>{const o=r.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Ev(s,...e)]}function Ev(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var Tv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],G=Tv.reduce((t,e)=>{const r=u.forwardRef((n,s)=>{const{asChild:o,...i}=n,l=o?Dr:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function xl(t,e){t&&Ct.flushSync(()=>t.dispatchEvent(e))}function Re(t){const e=u.useRef(t);return u.useEffect(()=>{e.current=t}),u.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Dv(t,e=globalThis==null?void 0:globalThis.document){const r=Re(t);u.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Rv="DismissableLayer",Ei="dismissableLayer.update",Av="dismissableLayer.pointerDownOutside",Mv="dismissableLayer.focusOutside",Bc,Au=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Un=u.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=t,d=u.useContext(Au),[f,h]=u.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=u.useState({}),v=se(e,C=>h(C)),p=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),b=f?p.indexOf(f):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,S=Iv(C=>{const N=C.target,R=[...d.branches].some(A=>A.contains(N));!_||R||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),j=Lv(C=>{const N=C.target;[...d.branches].some(A=>A.contains(N))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return Dv(C=>{b===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),u.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Bc=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Vc(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Bc)}},[f,m,r,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Vc())},[f,d]),u.useEffect(()=>{const C=()=>g({});return document.addEventListener(Ei,C),()=>document.removeEventListener(Ei,C)},[]),a.jsx(G.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:V(t.onFocusCapture,j.onFocusCapture),onBlurCapture:V(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:V(t.onPointerDownCapture,S.onPointerDownCapture)})});Un.displayName=Rv;var Ov="DismissableLayerBranch",Mu=u.forwardRef((t,e)=>{const r=u.useContext(Au),n=u.useRef(null),s=se(e,n);return u.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(G.div,{...t,ref:s})});Mu.displayName=Ov;function Iv(t,e=globalThis==null?void 0:globalThis.document){const r=Re(t),n=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){Ou(Av,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Lv(t,e=globalThis==null?void 0:globalThis.document){const r=Re(t),n=u.useRef(!1);return u.useEffect(()=>{const s=o=>{o.target&&!n.current&&Ou(Mv,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Vc(){const t=new CustomEvent(Ei);document.dispatchEvent(t)}function Ou(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?xl(s,o):s.dispatchEvent(o)}var $v=Un,Fv=Mu,Ke=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},Wv="Portal",Hs=u.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,o]=u.useState(!1);Ke(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?wu.createPortal(a.jsx(G.div,{...n,ref:e}),i):null});Hs.displayName=Wv;function Bv(t,e){return u.useReducer((r,n)=>e[r][n]??r,t)}var Xe=t=>{const{present:e,children:r}=t,n=Vv(e),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),o=se(n.ref,Uv(s));return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:o}):null};Xe.displayName="Presence";function Vv(t){const[e,r]=u.useState(),n=u.useRef({}),s=u.useRef(t),o=u.useRef("none"),i=t?"mounted":"unmounted",[l,c]=Bv(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=io(n.current);o.current=l==="mounted"?d:"none"},[l]),Ke(()=>{const d=n.current,f=s.current;if(f!==t){const m=o.current,g=io(d);t?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ke(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,h=g=>{const p=io(n.current).includes(g.animationName);if(g.target===e&&p&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(o.current=io(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function io(t){return(t==null?void 0:t.animationName)||"none"}function Uv(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Vt({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=Hv({defaultProp:e,onChange:r}),o=t!==void 0,i=o?t:n,l=Re(r),c=u.useCallback(d=>{if(o){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else s(d)},[o,t,s,l]);return[i,c]}function Hv({defaultProp:t,onChange:e}){const r=u.useState(t),[n]=r,s=u.useRef(n),o=Re(e);return u.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var zv="VisuallyHidden",zs=u.forwardRef((t,e)=>a.jsx(G.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));zs.displayName=zv;var Kv=zs,yl="ToastProvider",[bl,qv,Gv]=Us("Toast"),[Iu,L1]=zt("Toast",[Gv]),[Yv,sa]=Iu(yl),Lu=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[l,c]=u.useState(null),[d,f]=u.useState(0),h=u.useRef(!1),m=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${yl}\`. Expected non-empty \`string\`.`),a.jsx(bl.Provider,{scope:e,children:a.jsx(Yv,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>f(g=>g+1),[]),onToastRemove:u.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};Lu.displayName=yl;var $u="ToastViewport",Xv=["F8"],Ti="toast.viewportPause",Di="toast.viewportResume",Fu=u.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Xv,label:s="Notifications ({hotkey})",...o}=t,i=sa($u,r),l=qv(r),c=u.useRef(null),d=u.useRef(null),f=u.useRef(null),h=u.useRef(null),m=se(e,h,i.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;u.useEffect(()=>{const x=y=>{var w;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),u.useEffect(()=>{const x=c.current,y=h.current;if(v&&x&&y){const b=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(Ti);y.dispatchEvent(j),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(Di);y.dispatchEvent(j),i.isClosePausedRef.current=!1}},_=j=>{!x.contains(j.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",b),x.addEventListener("focusout",_),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const p=u.useCallback(({tabbingDirection:x})=>{const b=l().map(w=>{const _=w.ref.current,S=[_,...cx(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?b.reverse():b).flat()},[l]);return u.useEffect(()=>{const x=h.current;if(x){const y=b=>{var S,j,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const N=document.activeElement,R=b.shiftKey;if(b.target===x&&R){(S=d.current)==null||S.focus();return}const k=p({tabbingDirection:R?"backwards":"forwards"}),T=k.findIndex(D=>D===N);Za(k.slice(T+1))?b.preventDefault():R?(j=d.current)==null||j.focus():(C=f.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,p]),a.jsxs(Fv,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&a.jsx(Ri,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Za(x)}}),a.jsx(bl.Slot,{scope:r,children:a.jsx(G.ol,{tabIndex:-1,...o,ref:m})}),v&&a.jsx(Ri,{ref:f,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Za(x)}})]})});Fu.displayName=$u;var Wu="ToastFocusProxy",Ri=u.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=sa(Wu,r);return a.jsx(zs,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&n()}})});Ri.displayName=Wu;var oa="Toast",Jv="toast.swipeStart",Qv="toast.swipeMove",Zv="toast.swipeCancel",ex="toast.swipeEnd",Bu=u.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=t,[l=!0,c]=Vt({prop:n,defaultProp:s,onChange:o});return a.jsx(Xe,{present:r||l,children:a.jsx(nx,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:Re(t.onPause),onResume:Re(t.onResume),onSwipeStart:V(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:V(t.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:V(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:V(t.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Bu.displayName=oa;var[tx,rx]=Iu(oa,{onClose(){}}),nx=u.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...v}=t,p=sa(oa,r),[x,y]=u.useState(null),b=se(e,D=>y(D)),w=u.useRef(null),_=u.useRef(null),S=s||p.duration,j=u.useRef(0),C=u.useRef(S),N=u.useRef(0),{onToastAdd:R,onToastRemove:A}=p,P=Re(()=>{var H;(x==null?void 0:x.contains(document.activeElement))&&((H=p.viewport)==null||H.focus()),i()}),k=u.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),j.current=new Date().getTime(),N.current=window.setTimeout(P,D))},[P]);u.useEffect(()=>{const D=p.viewport;if(D){const H=()=>{k(C.current),d==null||d()},L=()=>{const F=new Date().getTime()-j.current;C.current=C.current-F,window.clearTimeout(N.current),c==null||c()};return D.addEventListener(Ti,L),D.addEventListener(Di,H),()=>{D.removeEventListener(Ti,L),D.removeEventListener(Di,H)}}},[p.viewport,S,c,d,k]),u.useEffect(()=>{o&&!p.isClosePausedRef.current&&k(S)},[o,S,p.isClosePausedRef,k]),u.useEffect(()=>(R(),()=>A()),[R,A]);const T=u.useMemo(()=>x?Gu(x):null,[x]);return p.viewport?a.jsxs(a.Fragment,{children:[T&&a.jsx(sx,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),a.jsx(tx,{scope:r,onClose:P,children:Ct.createPortal(a.jsx(bl.ItemSlot,{scope:r,children:a.jsx($v,{asChild:!0,onEscapeKeyDown:V(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||P(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(G.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:V(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:V(t.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:V(t.onPointerMove,D=>{if(!w.current)return;const H=D.clientX-w.current.x,L=D.clientY-w.current.y,F=!!_.current,O=["left","right"].includes(p.swipeDirection),M=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,re=O?M(0,H):0,K=O?0:M(0,L),q=D.pointerType==="touch"?10:2,J={x:re,y:K},E={originalEvent:D,delta:J};F?(_.current=J,lo(Qv,h,E,{discrete:!1})):Uc(J,p.swipeDirection,q)?(_.current=J,lo(Jv,f,E,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(H)>q||Math.abs(L)>q)&&(w.current=null)}),onPointerUp:V(t.onPointerUp,D=>{const H=_.current,L=D.target;if(L.hasPointerCapture(D.pointerId)&&L.releasePointerCapture(D.pointerId),_.current=null,w.current=null,H){const F=D.currentTarget,O={originalEvent:D,delta:H};Uc(H,p.swipeDirection,p.swipeThreshold)?lo(ex,g,O,{discrete:!0}):lo(Zv,m,O,{discrete:!0}),F.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),sx=t=>{const{__scopeToast:e,children:r,...n}=t,s=sa(oa,e),[o,i]=u.useState(!1),[l,c]=u.useState(!1);return ix(()=>i(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Hs,{asChild:!0,children:a.jsx(zs,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},ox="ToastTitle",Vu=u.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(G.div,{...n,ref:e})});Vu.displayName=ox;var ax="ToastDescription",Uu=u.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(G.div,{...n,ref:e})});Uu.displayName=ax;var Hu="ToastAction",zu=u.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(qu,{altText:r,asChild:!0,children:a.jsx(wl,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Hu}\`. Expected non-empty \`string\`.`),null)});zu.displayName=Hu;var Ku="ToastClose",wl=u.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=rx(Ku,r);return a.jsx(qu,{asChild:!0,children:a.jsx(G.button,{type:"button",...n,ref:e,onClick:V(t.onClick,s.onClose)})})});wl.displayName=Ku;var qu=u.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return a.jsx(G.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Gu(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),lx(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...Gu(n))}}),e}function lo(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?xl(s,o):s.dispatchEvent(o)}var Uc=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function ix(t=()=>{}){const e=Re(t);Ke(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function lx(t){return t.nodeType===t.ELEMENT_NODE}function cx(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Za(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var dx=Lu,Yu=Fu,Xu=Bu,Ju=Vu,Qu=Uu,Zu=zu,eh=wl;const Hc=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zc=_u,aa=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return zc(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(d=>{const f=r==null?void 0:r[d],h=o==null?void 0:o[d];if(f===null)return null;const m=Hc(f)||Hc(h);return s[d][m]}),l=r&&Object.entries(r).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:h,className:m,...g}=f;return Object.entries(g).every(v=>{let[p,x]=v;return Array.isArray(x)?x.includes({...o,...l}[p]):{...o,...l}[p]===x})?[...d,h,m]:d},[]);return zc(t,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),th=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=u.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>u.createElement("svg",{ref:c,...hx,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:th("lucide",s),...l},[...i.map(([d,f])=>u.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const r=u.forwardRef(({className:n,...s},o)=>u.createElement(fx,{ref:o,iconNode:e,className:th(`lucide-${ux(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Ee("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Ee("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jl="-",Ex=t=>{const e=Dx(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const l=i.split(jl);return l[0]===""&&l.length!==1&&l.shift(),nh(l,e)||Tx(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},nh=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?nh(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(jl);return(i=e.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},qc=/^\[(.+)\]$/,Tx=t=>{if(qc.test(t)){const e=qc.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Dx=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Ax(Object.entries(t.classGroups),r).forEach(([o,i])=>{Ai(i,n,o,e)}),n},Ai=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Gc(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(Rx(s)){Ai(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Ai(i,Gc(e,o),r,n)})})},Gc=(t,e)=>{let r=t;return e.split(jl).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Rx=t=>t.isThemeGetter,Ax=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[e+i,l])):o);return[r,s]}):t,Mx=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},sh="!",Ox=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,i=l=>{const c=[];let d=0,f=0,h;for(let x=0;x<l.length;x++){let y=l[x];if(d===0){if(y===s&&(n||l.slice(x,x+o)===e)){c.push(l.slice(f,x)),f=x+o;continue}if(y==="/"){h=x;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(f),g=m.startsWith(sh),v=g?m.substring(1):m,p=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},Ix=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Lx=t=>({cache:Mx(t.cacheSize),parseClassName:Ox(t),...Ex(t)}),$x=/\s+/,Fx=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split($x);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=r(d);let v=!!g,p=n(v?m.substring(0,g):m);if(!p){if(!v){l=d+(l.length>0?" "+l:l);continue}if(p=n(m),!p){l=d+(l.length>0?" "+l:l);continue}v=!1}const x=Ix(f).join(":"),y=h?x+sh:x,b=y+p;if(o.includes(b))continue;o.push(b);const w=s(p,v);for(let _=0;_<w.length;++_){const S=w[_];o.push(y+S)}l=d+(l.length>0?" "+l:l)}return l};function Wx(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=oh(e))&&(n&&(n+=" "),n+=r);return n}const oh=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=oh(t[n]))&&(r&&(r+=" "),r+=e);return r};function Bx(t,...e){let r,n,s,o=i;function i(c){const d=e.reduce((f,h)=>h(f),t());return r=Lx(d),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const d=n(c);if(d)return d;const f=Fx(c,r);return s(c,f),f}return function(){return o(Wx.apply(null,arguments))}}const Te=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ah=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vx=/^\d+\/\d+$/,Ux=new Set(["px","full","screen"]),Hx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jt=t=>Sn(t)||Ux.has(t)||Vx.test(t),fr=t=>Hn(t,"length",ry),Sn=t=>!!t&&!Number.isNaN(Number(t)),ei=t=>Hn(t,"number",Sn),as=t=>!!t&&Number.isInteger(Number(t)),Yx=t=>t.endsWith("%")&&Sn(t.slice(0,-1)),ie=t=>ah.test(t),mr=t=>Hx.test(t),Xx=new Set(["length","size","percentage"]),Jx=t=>Hn(t,Xx,ih),Qx=t=>Hn(t,"position",ih),Zx=new Set(["image","url"]),ey=t=>Hn(t,Zx,sy),ty=t=>Hn(t,"",ny),is=()=>!0,Hn=(t,e,r)=>{const n=ah.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},ry=t=>zx.test(t)&&!Kx.test(t),ih=()=>!1,ny=t=>qx.test(t),sy=t=>Gx.test(t),oy=()=>{const t=Te("colors"),e=Te("spacing"),r=Te("blur"),n=Te("brightness"),s=Te("borderColor"),o=Te("borderRadius"),i=Te("borderSpacing"),l=Te("borderWidth"),c=Te("contrast"),d=Te("grayscale"),f=Te("hueRotate"),h=Te("invert"),m=Te("gap"),g=Te("gradientColorStops"),v=Te("gradientColorStopPositions"),p=Te("inset"),x=Te("margin"),y=Te("opacity"),b=Te("padding"),w=Te("saturate"),_=Te("scale"),S=Te("sepia"),j=Te("skew"),C=Te("space"),N=Te("translate"),R=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ie,e],k=()=>[ie,e],T=()=>["",Jt,fr],D=()=>["auto",Sn,ie],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",ie],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Sn,ie];return{cacheSize:500,separator:":",theme:{colors:[is],spacing:[Jt,fr],blur:["none","",mr,ie],brightness:K(),borderColor:[t],borderRadius:["none","","full",mr,ie],borderSpacing:k(),borderWidth:T(),contrast:K(),grayscale:M(),hueRotate:K(),invert:M(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[Yx,fr],inset:P(),margin:P(),opacity:K(),padding:k(),saturate:K(),scale:K(),sepia:M(),skew:K(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[mr]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),ie]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",as,ie]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",as,ie]}],"grid-cols":[{"grid-cols":[is]}],"col-start-end":[{col:["auto",{span:["full",as,ie]},ie]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[is]}],"row-start-end":[{row:["auto",{span:[as,ie]},ie]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,e]}],"min-w":[{"min-w":[ie,e,"min","max","fit"]}],"max-w":[{"max-w":[ie,e,"none","full","min","max","fit","prose",{screen:[mr]},mr]}],h:[{h:[ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",mr,fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ei]}],"font-family":[{font:[is]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",Sn,ei]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jt,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jt,fr]}],"underline-offset":[{"underline-offset":["auto",Jt,ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Qx]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ey]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Jt,ie]}],"outline-w":[{outline:[Jt,fr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Jt,fr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",mr,ty]}],"shadow-color":[{shadow:[is]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",mr,ie]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[as,ie]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jt,fr,ei]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ay=Bx(oy);function Y(...t){return ay(_u(t))}function Mo(t,e=""){return t==null||t==="NaN"||t===""?"-":typeof t=="number"?e.includes("Pct")||e.includes("Prob")||e==="ImpliedVolatility"||e==="Mean_Accuracy"||e==="AllMedianIV_Maximum100DaysToExp"||e==="TodayStockMedianIV_Maximum100DaysToExp"||e==="WorstHistoricalDecline"||e==="BadHistoricalDecline"||e==="ImpliedVolatilityUntilExpiry"||e==="Historical100DaysWorstDecline"||e==="Historical50DaysWorstDecline"||e==="2008_100DaysWorstDecline"||e==="2008_50DaysWorstDecline"?`${(t*100).toLocaleString("sv-SE",{minimumFractionDigits:2,maximumFractionDigits:2})}%`:e==="Premium"||e==="Underlying_Value"||e==="DaysToExpiry"||e==="X-Day"||e.includes("Number")||Math.abs(t)>=1e3?Math.round(t).toLocaleString("sv-SE"):e.includes("Loss")||e.includes("Price")||e.includes("Bid")||e.includes("Value")?t.toLocaleString("sv-SE",{minimumFractionDigits:2,maximumFractionDigits:2}):t.toLocaleString("sv-SE",{minimumFractionDigits:2,maximumFractionDigits:2}):String(t)}const iy=dx,lh=u.forwardRef(({className:t,...e},r)=>a.jsx(Yu,{ref:r,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));lh.displayName=Yu.displayName;const ly=aa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ch=u.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(Xu,{ref:n,className:Y(ly({variant:e}),t),...r}));ch.displayName=Xu.displayName;const cy=u.forwardRef(({className:t,...e},r)=>a.jsx(Zu,{ref:r,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));cy.displayName=Zu.displayName;const dh=u.forwardRef(({className:t,...e},r)=>a.jsx(eh,{ref:r,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(rh,{className:"h-4 w-4"})}));dh.displayName=eh.displayName;const uh=u.forwardRef(({className:t,...e},r)=>a.jsx(Ju,{ref:r,className:Y("text-sm font-semibold",t),...e}));uh.displayName=Ju.displayName;const hh=u.forwardRef(({className:t,...e},r)=>a.jsx(Qu,{ref:r,className:Y("text-sm opacity-90",t),...e}));hh.displayName=Qu.displayName;function dy(){const{toasts:t}=wv();return a.jsxs(iy,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return a.jsxs(ch,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(uh,{children:r}),n&&a.jsx(hh,{children:n})]}),s,a.jsx(dh,{})]},e)}),a.jsx(lh,{})]})}var Oo=["light","dark"],Cl="(prefers-color-scheme: dark)",uy=typeof window>"u",Pl=u.createContext(void 0),hy={setTheme:t=>{},themes:[]},fh=()=>{var t;return(t=u.useContext(Pl))!=null?t:hy},fy=t=>u.useContext(Pl)?t.children:u.createElement(py,{...t}),my=["light","dark"],py=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:o=my,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:f})=>{let[h,m]=u.useState(()=>Yc(s,i)),[g,v]=u.useState(()=>Yc(s)),p=c?Object.values(c):o,x=u.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=Xc());let j=c?c[S]:S,C=e?vy():null,N=document.documentElement;if(l==="class"?(N.classList.remove(...p),j&&N.classList.add(j)):j?N.setAttribute(l,j):N.removeAttribute(l),n){let R=Oo.includes(i)?i:null,A=Oo.includes(S)?S:R;N.style.colorScheme=A}C==null||C()},[]),y=u.useCallback(_=>{let S=typeof _=="function"?_(_):_;m(S);try{localStorage.setItem(s,S)}catch{}},[t]),b=u.useCallback(_=>{let S=Xc(_);v(S),h==="system"&&r&&!t&&x("system")},[h,t]);u.useEffect(()=>{let _=window.matchMedia(Cl);return _.addListener(b),b(_),()=>_.removeListener(b)},[b]),u.useEffect(()=>{let _=S=>{if(S.key!==s)return;let j=S.newValue||i;y(j)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),u.useEffect(()=>{x(t??h)},[t,h]);let w=u.useMemo(()=>({theme:h,setTheme:y,forcedTheme:t,resolvedTheme:h==="system"?g:h,themes:r?[...o,"system"]:o,systemTheme:r?g:void 0}),[h,y,t,g,r,o]);return u.createElement(Pl.Provider,{value:w},u.createElement(gy,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:o,defaultTheme:i,attribute:l,value:c,children:d,attrs:p,nonce:f}),d)},gy=u.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let d=o==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?Oo.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,p=!1,x=!0)=>{let y=i?i[v]:v,b=p?v+"|| ''":`'${y}'`,w="";return s&&x&&!p&&Oo.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?p||y?w+=`c.add(${b})`:w+="null":y&&(w+=`d[s](n,${b})`),w},g=t?`!function(){${f}${m(t)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${Cl}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${d?"":"else{"+m(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${h}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})}),Yc=(t,e)=>{if(uy)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},vy=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Xc=t=>(t||(t=window.matchMedia(Cl)),t.matches?"dark":"light"),xy=t=>{switch(t){case"success":return wy;case"info":return Sy;case"warning":return _y;case"error":return jy;default:return null}},yy=Array(12).fill(0),by=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},yy.map((e,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wy=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_y=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Sy=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jy=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Cy=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Mi=1,Py=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Mi++,o=this.toasts.find(l=>l.id===s),i=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0;return n.then(async o=>{if(ky(o)&&!o.ok){s=!1;let i=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:r,type:"error",message:i,description:l})}else if(e.success!==void 0){s=!1;let i=typeof e.success=="function"?await e.success(o):e.success,l=typeof e.description=="function"?await e.description(o):e.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(e.error!==void 0){s=!1;let i=typeof e.error=="function"?await e.error(o):e.error,l=typeof e.description=="function"?await e.description(o):e.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=e.finally)==null||o.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Mi++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},it=new Py,Ny=(t,e)=>{let r=(e==null?void 0:e.id)||Mi++;return it.addToast({title:t,...e,id:r}),r},ky=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ey=Ny,Ty=()=>it.toasts,nr=Object.assign(Ey,{success:it.success,info:it.info,warning:it.warning,error:it.error,custom:it.custom,message:it.message,promise:it.promise,dismiss:it.dismiss,loading:it.loading},{getHistory:Ty});function Dy(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Dy(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function co(t){return t.label!==void 0}var Ry=3,Ay="32px",My=4e3,Oy=356,Iy=14,Ly=20,$y=200;function Fy(...t){return t.filter(Boolean).join(" ")}var Wy=t=>{var e,r,n,s,o,i,l,c,d,f;let{invert:h,toast:m,unstyled:g,interacting:v,setHeights:p,visibleToasts:x,heights:y,index:b,toasts:w,expanded:_,removeToast:S,defaultRichColors:j,closeButton:C,style:N,cancelButtonStyle:R,actionButtonStyle:A,className:P="",descriptionClassName:k="",duration:T,position:D,gap:H,loadingIcon:L,expandByDefault:F,classNames:O,icons:M,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:K,cn:q}=t,[J,E]=W.useState(!1),[X,$]=W.useState(!1),[U,Z]=W.useState(!1),[ee,z]=W.useState(!1),[oe,te]=W.useState(0),[ye,je]=W.useState(0),Oe=W.useRef(null),Ae=W.useRef(null),B=b===0,Ce=b+1<=x,ce=m.type,Ie=m.dismissible!==!1,Gt=m.className||"",Yt=m.descriptionClassName||"",dt=W.useMemo(()=>y.findIndex(ne=>ne.toastId===m.id)||0,[y,m.id]),ue=W.useMemo(()=>{var ne;return(ne=m.closeButton)!=null?ne:C},[m.closeButton,C]),ve=W.useMemo(()=>m.duration||T||My,[m.duration,T]),qe=W.useRef(0),Le=W.useRef(0),Je=W.useRef(0),We=W.useRef(null),[Fr,ut]=D.split("-"),rs=W.useMemo(()=>y.reduce((ne,Pe,Se)=>Se>=dt?ne:ne+Pe.height,0),[y,dt]),oo=Cy(),qa=m.invert||h,Wr=ce==="loading";Le.current=W.useMemo(()=>dt*H+rs,[dt,rs]),W.useEffect(()=>{E(!0)},[]),W.useLayoutEffect(()=>{if(!J)return;let ne=Ae.current,Pe=ne.style.height;ne.style.height="auto";let Se=ne.getBoundingClientRect().height;ne.style.height=Pe,je(Se),p(ht=>ht.find(Ne=>Ne.toastId===m.id)?ht.map(Ne=>Ne.toastId===m.id?{...Ne,height:Se}:Ne):[{toastId:m.id,height:Se,position:m.position},...ht])},[J,m.title,m.description,p,m.id]);let yt=W.useCallback(()=>{$(!0),te(Le.current),p(ne=>ne.filter(Pe=>Pe.toastId!==m.id)),setTimeout(()=>{S(m)},$y)},[m,S,p,Le]);W.useEffect(()=>{if(m.promise&&ce==="loading"||m.duration===1/0||m.type==="loading")return;let ne,Pe=ve;return _||v||K&&oo?(()=>{if(Je.current<qe.current){let Se=new Date().getTime()-qe.current;Pe=Pe-Se}Je.current=new Date().getTime()})():Pe!==1/0&&(qe.current=new Date().getTime(),ne=setTimeout(()=>{var Se;(Se=m.onAutoClose)==null||Se.call(m,m),yt()},Pe)),()=>clearTimeout(ne)},[_,v,F,m,ve,yt,m.promise,ce,K,oo]),W.useEffect(()=>{let ne=Ae.current;if(ne){let Pe=ne.getBoundingClientRect().height;return je(Pe),p(Se=>[{toastId:m.id,height:Pe,position:m.position},...Se]),()=>p(Se=>Se.filter(ht=>ht.toastId!==m.id))}},[p,m.id]),W.useEffect(()=>{m.delete&&yt()},[yt,m.delete]);function Ga(){return M!=null&&M.loading?W.createElement("div",{className:"sonner-loader","data-visible":ce==="loading"},M.loading):L?W.createElement("div",{className:"sonner-loader","data-visible":ce==="loading"},L):W.createElement(by,{visible:ce==="loading"})}return W.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ae,className:q(P,Gt,O==null?void 0:O.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[ce],(r=m==null?void 0:m.classNames)==null?void 0:r[ce]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:j,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":J,"data-promise":!!m.promise,"data-removed":X,"data-visible":Ce,"data-y-position":Fr,"data-x-position":ut,"data-index":b,"data-front":B,"data-swiping":U,"data-dismissible":Ie,"data-type":ce,"data-invert":qa,"data-swipe-out":ee,"data-expanded":!!(_||F&&J),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${X?oe:Le.current}px`,"--initial-height":F?"auto":`${ye}px`,...N,...m.style},onPointerDown:ne=>{Wr||!Ie||(Oe.current=new Date,te(Le.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(Z(!0),We.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,Pe,Se,ht;if(ee||!Ie)return;We.current=null;let Ne=Number(((ne=Ae.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Be=new Date().getTime()-((Pe=Oe.current)==null?void 0:Pe.getTime()),Qe=Math.abs(Ne)/Be;if(Math.abs(Ne)>=Ly||Qe>.11){te(Le.current),(Se=m.onDismiss)==null||Se.call(m,m),yt(),z(!0);return}(ht=Ae.current)==null||ht.style.setProperty("--swipe-amount","0px"),Z(!1)},onPointerMove:ne=>{var Pe;if(!We.current||!Ie)return;let Se=ne.clientY-We.current.y,ht=ne.clientX-We.current.x,Ne=(Fr==="top"?Math.min:Math.max)(0,Se),Be=ne.pointerType==="touch"?10:2;Math.abs(Ne)>Be?(Pe=Ae.current)==null||Pe.style.setProperty("--swipe-amount",`${Se}px`):Math.abs(ht)>Be&&(We.current=null)}},ue&&!m.jsx?W.createElement("button",{"aria-label":re,"data-disabled":Wr,"data-close-button":!0,onClick:Wr||!Ie?()=>{}:()=>{var ne;yt(),(ne=m.onDismiss)==null||ne.call(m,m)},className:q(O==null?void 0:O.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||W.isValidElement(m.title)?m.jsx||m.title:W.createElement(W.Fragment,null,ce||m.icon||m.promise?W.createElement("div",{"data-icon":"",className:q(O==null?void 0:O.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ga():null,m.type!=="loading"?m.icon||(M==null?void 0:M[ce])||xy(ce):null):null,W.createElement("div",{"data-content":"",className:q(O==null?void 0:O.content,(i=m==null?void 0:m.classNames)==null?void 0:i.content)},W.createElement("div",{"data-title":"",className:q(O==null?void 0:O.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?W.createElement("div",{"data-description":"",className:q(k,Yt,O==null?void 0:O.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),W.isValidElement(m.cancel)?m.cancel:m.cancel&&co(m.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:ne=>{var Pe,Se;co(m.cancel)&&Ie&&((Se=(Pe=m.cancel).onClick)==null||Se.call(Pe,ne),yt())},className:q(O==null?void 0:O.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,W.isValidElement(m.action)?m.action:m.action&&co(m.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:ne=>{var Pe,Se;co(m.action)&&(ne.defaultPrevented||((Se=(Pe=m.action).onClick)==null||Se.call(Pe,ne),yt()))},className:q(O==null?void 0:O.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Jc(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var By=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:l,theme:c="light",richColors:d,duration:f,style:h,visibleToasts:m=Ry,toastOptions:g,dir:v=Jc(),gap:p=Iy,loadingIcon:x,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:_=Fy}=t,[S,j]=W.useState([]),C=W.useMemo(()=>Array.from(new Set([r].concat(S.filter(K=>K.position).map(K=>K.position)))),[S,r]),[N,R]=W.useState([]),[A,P]=W.useState(!1),[k,T]=W.useState(!1),[D,H]=W.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=W.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=W.useRef(null),M=W.useRef(!1),re=W.useCallback(K=>{var q;(q=S.find(J=>J.id===K.id))!=null&&q.delete||it.dismiss(K.id),j(J=>J.filter(({id:E})=>E!==K.id))},[S]);return W.useEffect(()=>it.subscribe(K=>{if(K.dismiss){j(q=>q.map(J=>J.id===K.id?{...J,delete:!0}:J));return}setTimeout(()=>{wu.flushSync(()=>{j(q=>{let J=q.findIndex(E=>E.id===K.id);return J!==-1?[...q.slice(0,J),{...q[J],...K},...q.slice(J+1)]:[K,...q]})})})}),[]),W.useEffect(()=>{if(c!=="system"){H(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{H(K?"dark":"light")})},[c]),W.useEffect(()=>{S.length<=1&&P(!1)},[S]),W.useEffect(()=>{let K=q=>{var J,E;n.every(X=>q[X]||q.code===X)&&(P(!0),(J=L.current)==null||J.focus()),q.code==="Escape"&&(document.activeElement===L.current||(E=L.current)!=null&&E.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[n]),W.useEffect(()=>{if(L.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,M.current=!1)}},[L.current]),S.length?W.createElement("section",{"aria-label":`${b} ${F}`,tabIndex:-1},C.map((K,q)=>{var J;let[E,X]=K.split("-");return W.createElement("ol",{key:K,dir:v==="auto"?Jc():v,tabIndex:-1,ref:L,className:i,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":E,"data-x-position":X,style:{"--front-toast-height":`${((J=N[0])==null?void 0:J.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Ay,"--width":`${Oy}px`,"--gap":`${p}px`,...h},onBlur:$=>{M.current&&!$.currentTarget.contains($.relatedTarget)&&(M.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||M.current||(M.current=!0,O.current=$.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{k||P(!1)},onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},S.filter($=>!$.position&&q===0||$.position===K).map(($,U)=>{var Z,ee;return W.createElement(Wy,{key:$.id,icons:y,index:U,toast:$,defaultRichColors:d,duration:(Z=g==null?void 0:g.duration)!=null?Z:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:m,closeButton:(ee=g==null?void 0:g.closeButton)!=null?ee:o,interacting:k,position:K,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:re,toasts:S.filter(z=>z.position==$.position),heights:N.filter(z=>z.position==$.position),setHeights:R,expandByDefault:s,gap:p,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:w,cn:_})}))})):null};const Vy=({...t})=>{const{theme:e="system"}=fh();return a.jsx(By,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Uy=sv.useId||(()=>{}),Hy=0;function Pt(t){const[e,r]=u.useState(Uy());return Ke(()=>{t||r(n=>n??String(Hy++))},[t]),t||(e?`radix-${e}`:"")}const zy=["top","right","bottom","left"],Rr=Math.min,lt=Math.max,Io=Math.round,uo=Math.floor,Ar=t=>({x:t,y:t}),Ky={left:"right",right:"left",bottom:"top",top:"bottom"},qy={start:"end",end:"start"};function Oi(t,e,r){return lt(t,Rr(e,r))}function ir(t,e){return typeof t=="function"?t(e):t}function lr(t){return t.split("-")[0]}function zn(t){return t.split("-")[1]}function Nl(t){return t==="x"?"y":"x"}function kl(t){return t==="y"?"height":"width"}function Mr(t){return["top","bottom"].includes(lr(t))?"y":"x"}function El(t){return Nl(Mr(t))}function Gy(t,e,r){r===void 0&&(r=!1);const n=zn(t),s=El(t),o=kl(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Lo(i)),[i,Lo(i)]}function Yy(t){const e=Lo(t);return[Ii(t),e,Ii(e)]}function Ii(t){return t.replace(/start|end/g,e=>qy[e])}function Xy(t,e,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?o:i;default:return[]}}function Jy(t,e,r,n){const s=zn(t);let o=Xy(lr(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Ii)))),o}function Lo(t){return t.replace(/left|right|bottom|top/g,e=>Ky[e])}function Qy(t){return{top:0,right:0,bottom:0,left:0,...t}}function mh(t){return typeof t!="number"?Qy(t):{top:t,right:t,bottom:t,left:t}}function $o(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Qc(t,e,r){let{reference:n,floating:s}=t;const o=Mr(e),i=El(e),l=kl(i),c=lr(e),d=o==="y",f=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:f,y:n.y-s.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-s.width,y:h};break;default:g={x:n.x,y:n.y}}switch(zn(e)){case"start":g[i]-=m*(r&&d?-1:1);break;case"end":g[i]+=m*(r&&d?-1:1);break}return g}const Zy=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let d=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=Qc(d,n,c),m=n,g={},v=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:b,y:w,data:_,reset:S}=await y({x:f,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:g,rects:d,platform:i,elements:{reference:t,floating:e}});f=b??f,h=w??h,g={...g,[x]:{...g[x],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(d=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:f,y:h}=Qc(d,m,c)),p=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:g}};async function Cs(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=ir(e,t),v=mh(g),x=l[m?h==="floating"?"reference":"floating":h],y=$o(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),b=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=$o(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-S.top+v.top)/_.y,bottom:(S.bottom-y.bottom+v.bottom)/_.y,left:(y.left-S.left+v.left)/_.x,right:(S.right-y.right+v.right)/_.x}}const eb=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=ir(t,e)||{};if(d==null)return{};const h=mh(f),m={x:r,y:n},g=El(s),v=kl(g),p=await i.getDimensions(d),x=g==="y",y=x?"top":"left",b=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[g]-m[g]-o.floating[v],S=m[g]-o.reference[g],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let C=j?j[w]:0;(!C||!await(i.isElement==null?void 0:i.isElement(j)))&&(C=l.floating[w]||o.floating[v]);const N=_/2-S/2,R=C/2-p[v]/2-1,A=Rr(h[y],R),P=Rr(h[b],R),k=A,T=C-p[v]-P,D=C/2-p[v]/2+N,H=Oi(k,D,T),L=!c.arrow&&zn(s)!=null&&D!==H&&o.reference[v]/2-(D<k?A:P)-p[v]/2<0,F=L?D<k?D-k:D-T:0;return{[g]:m[g]+F,data:{[g]:H,centerOffset:D-H-F,...L&&{alignmentOffset:F}},reset:L}}}),tb=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...x}=ir(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=lr(s),b=Mr(l),w=lr(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=m||(w||!p?[Lo(l)]:Yy(l)),j=v!=="none";!m&&j&&S.push(...Jy(l,p,v,_));const C=[l,...S],N=await Cs(e,x),R=[];let A=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&R.push(N[y]),h){const D=Gy(s,i,_);R.push(N[D[0]],N[D[1]])}if(A=[...A,{placement:s,overflows:R}],!R.every(D=>D<=0)){var P,k;const D=(((P=o.flip)==null?void 0:P.index)||0)+1,H=C[D];if(H)return{data:{index:D,overflows:A},reset:{placement:H}};let L=(k=A.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:k.placement;if(!L)switch(g){case"bestFit":{var T;const F=(T=A.filter(O=>{if(j){const M=Mr(O.placement);return M===b||M==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(M=>M>0).reduce((M,re)=>M+re,0)]).sort((O,M)=>O[1]-M[1])[0])==null?void 0:T[0];F&&(L=F);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Zc(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ed(t){return zy.some(e=>t[e]>=0)}const rb=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=ir(t,e);switch(n){case"referenceHidden":{const o=await Cs(e,{...s,elementContext:"reference"}),i=Zc(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ed(i)}}}case"escaped":{const o=await Cs(e,{...s,altBoundary:!0}),i=Zc(o,r.floating);return{data:{escapedOffsets:i,escaped:ed(i)}}}default:return{}}}}};async function nb(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=lr(r),l=zn(r),c=Mr(r)==="y",d=["left","top"].includes(i)?-1:1,f=o&&c?-1:1,h=ir(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*f,y:m*d}:{x:m*d,y:g*f}}const sb=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=e,c=await nb(e,t);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},ob=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:y,y:b}=x;return{x:y,y:b}}},...c}=ir(t,e),d={x:r,y:n},f=await Cs(e,c),h=Mr(lr(s)),m=Nl(h);let g=d[m],v=d[h];if(o){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",b=g+f[x],w=g-f[y];g=Oi(b,g,w)}if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=v+f[x],w=v-f[y];v=Oi(b,v,w)}const p=l.fn({...e,[m]:g,[h]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[m]:o,[h]:i}}}}}},ab=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ir(t,e),f={x:r,y:n},h=Mr(s),m=Nl(h);let g=f[m],v=f[h];const p=ir(l,e),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=m==="y"?"height":"width",_=o.reference[m]-o.floating[w]+x.mainAxis,S=o.reference[m]+o.reference[w]-x.mainAxis;g<_?g=_:g>S&&(g=S)}if(d){var y,b;const w=m==="y"?"width":"height",_=["top","left"].includes(lr(s)),S=o.reference[h]-o.floating[w]+(_&&((y=i.offset)==null?void 0:y[h])||0)+(_?0:x.crossAxis),j=o.reference[h]+o.reference[w]+(_?0:((b=i.offset)==null?void 0:b[h])||0)-(_?x.crossAxis:0);v<S?v=S:v>j&&(v=j)}return{[m]:g,[h]:v}}}},ib=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:l}=e,{apply:c=()=>{},...d}=ir(t,e),f=await Cs(e,d),h=lr(s),m=zn(s),g=Mr(s)==="y",{width:v,height:p}=o.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,x=m==="end"?"top":"bottom");const b=p-f.top-f.bottom,w=v-f.left-f.right,_=Rr(p-f[x],b),S=Rr(v-f[y],w),j=!e.middlewareData.shift;let C=_,N=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(N=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=b),j&&!m){const A=lt(f.left,0),P=lt(f.right,0),k=lt(f.top,0),T=lt(f.bottom,0);g?N=v-2*(A!==0||P!==0?A+P:lt(f.left,f.right)):C=p-2*(k!==0||T!==0?k+T:lt(f.top,f.bottom))}await c({...e,availableWidth:N,availableHeight:C});const R=await i.getDimensions(l.floating);return v!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function ia(){return typeof window<"u"}function Kn(t){return ph(t)?(t.nodeName||"").toLowerCase():"#document"}function ct(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Kt(t){var e;return(e=(ph(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ph(t){return ia()?t instanceof Node||t instanceof ct(t).Node:!1}function Nt(t){return ia()?t instanceof Element||t instanceof ct(t).Element:!1}function Ut(t){return ia()?t instanceof HTMLElement||t instanceof ct(t).HTMLElement:!1}function td(t){return!ia()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ct(t).ShadowRoot}function Ks(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=kt(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function lb(t){return["table","td","th"].includes(Kn(t))}function la(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Tl(t){const e=Dl(),r=Nt(t)?kt(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function cb(t){let e=Or(t);for(;Ut(e)&&!Fn(e);){if(Tl(e))return e;if(la(e))return null;e=Or(e)}return null}function Dl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fn(t){return["html","body","#document"].includes(Kn(t))}function kt(t){return ct(t).getComputedStyle(t)}function ca(t){return Nt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Or(t){if(Kn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||td(t)&&t.host||Kt(t);return td(e)?e.host:e}function gh(t){const e=Or(t);return Fn(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ut(e)&&Ks(e)?e:gh(e)}function Ps(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=gh(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=ct(s);if(o){const l=Li(i);return e.concat(i,i.visualViewport||[],Ks(s)?s:[],l&&r?Ps(l):[])}return e.concat(s,Ps(s,[],r))}function Li(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vh(t){const e=kt(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Ut(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,l=Io(r)!==o||Io(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Rl(t){return Nt(t)?t:t.contextElement}function jn(t){const e=Rl(t);if(!Ut(e))return Ar(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=vh(e);let i=(o?Io(r.width):r.width)/n,l=(o?Io(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const db=Ar(0);function xh(t){const e=ct(t);return!Dl()||!e.visualViewport?db:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ub(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ct(t)?!1:e}function en(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Rl(t);let i=Ar(1);e&&(n?Nt(n)&&(i=jn(n)):i=jn(t));const l=ub(o,r,n)?xh(o):Ar(0);let c=(s.left+l.x)/i.x,d=(s.top+l.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(o){const m=ct(o),g=n&&Nt(n)?ct(n):n;let v=m,p=Li(v);for(;p&&n&&g!==v;){const x=jn(p),y=p.getBoundingClientRect(),b=kt(p),w=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*x.x,_=y.top+(p.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,d*=x.y,f*=x.x,h*=x.y,c+=w,d+=_,v=ct(p),p=Li(v)}}return $o({width:f,height:h,x:c,y:d})}function hb(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=Kt(n),l=e?la(e.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},d=Ar(1);const f=Ar(0),h=Ut(n);if((h||!h&&!o)&&((Kn(n)!=="body"||Ks(i))&&(c=ca(n)),Ut(n))){const m=en(n);d=jn(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x,y:r.y*d.y-c.scrollTop*d.y+f.y}}function fb(t){return Array.from(t.getClientRects())}function $i(t,e){const r=ca(t).scrollLeft;return e?e.left+r:en(Kt(t)).left+r}function mb(t){const e=Kt(t),r=ca(t),n=t.ownerDocument.body,s=lt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=lt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+$i(t);const l=-r.scrollTop;return kt(n).direction==="rtl"&&(i+=lt(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function pb(t,e){const r=ct(t),n=Kt(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=Dl();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function gb(t,e){const r=en(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Ut(t)?jn(t):Ar(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,d=n*o.y;return{width:i,height:l,x:c,y:d}}function rd(t,e,r){let n;if(e==="viewport")n=pb(t,r);else if(e==="document")n=mb(Kt(t));else if(Nt(e))n=gb(e,r);else{const s=xh(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return $o(n)}function yh(t,e){const r=Or(t);return r===e||!Nt(r)||Fn(r)?!1:kt(r).position==="fixed"||yh(r,e)}function vb(t,e){const r=e.get(t);if(r)return r;let n=Ps(t,[],!1).filter(l=>Nt(l)&&Kn(l)!=="body"),s=null;const o=kt(t).position==="fixed";let i=o?Or(t):t;for(;Nt(i)&&!Fn(i);){const l=kt(i),c=Tl(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ks(i)&&!c&&yh(t,i))?n=n.filter(f=>f!==i):s=l,i=Or(i)}return e.set(t,n),n}function xb(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?la(e)?[]:vb(e,this._c):[].concat(r),n],l=i[0],c=i.reduce((d,f)=>{const h=rd(e,f,s);return d.top=lt(h.top,d.top),d.right=Rr(h.right,d.right),d.bottom=Rr(h.bottom,d.bottom),d.left=lt(h.left,d.left),d},rd(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yb(t){const{width:e,height:r}=vh(t);return{width:e,height:r}}function bb(t,e,r){const n=Ut(e),s=Kt(e),o=r==="fixed",i=en(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Ar(0);if(n||!n&&!o)if((Kn(e)!=="body"||Ks(s))&&(l=ca(e)),n){const g=en(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&(c.x=$i(s));let d=0,f=0;if(s&&!n&&!o){const g=s.getBoundingClientRect();f=g.top+l.scrollTop,d=g.left+l.scrollLeft-$i(s,g)}const h=i.left+l.scrollLeft-c.x-d,m=i.top+l.scrollTop-c.y-f;return{x:h,y:m,width:i.width,height:i.height}}function ti(t){return kt(t).position==="static"}function nd(t,e){if(!Ut(t)||kt(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Kt(t)===r&&(r=r.ownerDocument.body),r}function bh(t,e){const r=ct(t);if(la(t))return r;if(!Ut(t)){let s=Or(t);for(;s&&!Fn(s);){if(Nt(s)&&!ti(s))return s;s=Or(s)}return r}let n=nd(t,e);for(;n&&lb(n)&&ti(n);)n=nd(n,e);return n&&Fn(n)&&ti(n)&&!Tl(n)?r:n||cb(t)||r}const wb=async function(t){const e=this.getOffsetParent||bh,r=this.getDimensions,n=await r(t.floating);return{reference:bb(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _b(t){return kt(t).direction==="rtl"}const Sb={convertOffsetParentRelativeRectToViewportRelativeRect:hb,getDocumentElement:Kt,getClippingRect:xb,getOffsetParent:bh,getElementRects:wb,getClientRects:fb,getDimensions:yb,getScale:jn,isElement:Nt,isRTL:_b};function jb(t,e){let r=null,n;const s=Kt(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:d,top:f,width:h,height:m}=t.getBoundingClientRect();if(l||e(),!h||!m)return;const g=uo(f),v=uo(s.clientWidth-(d+h)),p=uo(s.clientHeight-(f+m)),x=uo(d),b={rootMargin:-g+"px "+-v+"px "+-p+"px "+-x+"px",threshold:lt(0,Rr(1,c))||1};let w=!0;function _(S){const j=S[0].intersectionRatio;if(j!==c){if(!w)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(t)}return i(!0),o}function Cb(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Rl(t),f=s||o?[...d?Ps(d):[],...Ps(e)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const h=d&&l?jb(d,r):null;let m=-1,g=null;i&&(g=new ResizeObserver(y=>{let[b]=y;b&&b.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(e)})),r()}),d&&!c&&g.observe(d),g.observe(e));let v,p=c?en(t):null;c&&x();function x(){const y=en(t);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&r(),p=y,v=requestAnimationFrame(x)}return r(),()=>{var y;f.forEach(b=>{s&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),h==null||h(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const Pb=sb,Nb=ob,kb=tb,Eb=ib,Tb=rb,sd=eb,Db=ab,Rb=(t,e,r)=>{const n=new Map,s={platform:Sb,...r},o={...s.platform,_c:n};return Zy(t,e,{...s,platform:o})};var Po=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Fo(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Fo(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!Fo(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function wh(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function od(t,e){const r=wh(t);return Math.round(e*r)/r}function ri(t){const e=u.useRef(t);return Po(()=>{e.current=t}),e}function Ab(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,h]=u.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=u.useState(n);Fo(m,n)||g(n);const[v,p]=u.useState(null),[x,y]=u.useState(null),b=u.useCallback(O=>{O!==j.current&&(j.current=O,p(O))},[]),w=u.useCallback(O=>{O!==C.current&&(C.current=O,y(O))},[]),_=o||v,S=i||x,j=u.useRef(null),C=u.useRef(null),N=u.useRef(f),R=c!=null,A=ri(c),P=ri(s),k=ri(d),T=u.useCallback(()=>{if(!j.current||!C.current)return;const O={placement:e,strategy:r,middleware:m};P.current&&(O.platform=P.current),Rb(j.current,C.current,O).then(M=>{const re={...M,isPositioned:k.current!==!1};D.current&&!Fo(N.current,re)&&(N.current=re,Ct.flushSync(()=>{h(re)}))})},[m,e,r,P,k]);Po(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[d]);const D=u.useRef(!1);Po(()=>(D.current=!0,()=>{D.current=!1}),[]),Po(()=>{if(_&&(j.current=_),S&&(C.current=S),_&&S){if(A.current)return A.current(_,S,T);T()}},[_,S,T,A,R]);const H=u.useMemo(()=>({reference:j,floating:C,setReference:b,setFloating:w}),[b,w]),L=u.useMemo(()=>({reference:_,floating:S}),[_,S]),F=u.useMemo(()=>{const O={position:r,left:0,top:0};if(!L.floating)return O;const M=od(L.floating,f.x),re=od(L.floating,f.y);return l?{...O,transform:"translate("+M+"px, "+re+"px)",...wh(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:re}},[r,l,L.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:T,refs:H,elements:L,floatingStyles:F}),[f,T,H,L,F])}const Mb=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?sd({element:n.current,padding:s}).fn(r):{}:n?sd({element:n,padding:s}).fn(r):{}}}},Ob=(t,e)=>({...Pb(t),options:[t,e]}),Ib=(t,e)=>({...Nb(t),options:[t,e]}),Lb=(t,e)=>({...Db(t),options:[t,e]}),$b=(t,e)=>({...kb(t),options:[t,e]}),Fb=(t,e)=>({...Eb(t),options:[t,e]}),Wb=(t,e)=>({...Tb(t),options:[t,e]}),Bb=(t,e)=>({...Mb(t),options:[t,e]});var Vb="Arrow",_h=u.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return a.jsx(G.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});_h.displayName=Vb;var Ub=_h;function Hb(t,e=[]){let r=[];function n(o,i){const l=u.createContext(i),c=r.length;r=[...r,i];function d(h){const{scope:m,children:g,...v}=h,p=(m==null?void 0:m[t][c])||l,x=u.useMemo(()=>v,Object.values(v));return a.jsx(p.Provider,{value:x,children:g})}function f(h,m){const g=(m==null?void 0:m[t][c])||l,v=u.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,f]}const s=()=>{const o=r.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,zb(s,...e)]}function zb(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function Al(t){const[e,r]=u.useState(void 0);return Ke(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=t.offsetWidth,l=t.offsetHeight;r({width:i,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ml="Popper",[Sh,qn]=Hb(Ml),[Kb,jh]=Sh(Ml),Ch=t=>{const{__scopePopper:e,children:r}=t,[n,s]=u.useState(null);return a.jsx(Kb,{scope:e,anchor:n,onAnchorChange:s,children:r})};Ch.displayName=Ml;var Ph="PopperAnchor",Nh=u.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=jh(Ph,r),i=u.useRef(null),l=se(e,i);return u.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(G.div,{...s,ref:l})});Nh.displayName=Ph;var Ol="PopperContent",[qb,Gb]=Sh(Ol),kh=u.forwardRef((t,e)=>{var U,Z,ee,z,oe,te;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...p}=t,x=jh(Ol,r),[y,b]=u.useState(null),w=se(e,ye=>b(ye)),[_,S]=u.useState(null),j=Al(_),C=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,R=n+(o!=="center"?"-"+o:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},P=Array.isArray(d)?d:[d],k=P.length>0,T={padding:A,boundary:P.filter(Xb),altBoundary:k},{refs:D,floatingStyles:H,placement:L,isPositioned:F,middlewareData:O}=Ab({strategy:"fixed",placement:R,whileElementsMounted:(...ye)=>Cb(...ye,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[Ob({mainAxis:s+N,alignmentAxis:i}),c&&Ib({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Lb():void 0,...T}),c&&$b({...T}),Fb({...T,apply:({elements:ye,rects:je,availableWidth:Oe,availableHeight:Ae})=>{const{width:B,height:Ce}=je.reference,ce=ye.floating.style;ce.setProperty("--radix-popper-available-width",`${Oe}px`),ce.setProperty("--radix-popper-available-height",`${Ae}px`),ce.setProperty("--radix-popper-anchor-width",`${B}px`),ce.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),_&&Bb({element:_,padding:l}),Jb({arrowWidth:C,arrowHeight:N}),m&&Wb({strategy:"referenceHidden",...T})]}),[M,re]=Dh(L),K=Re(v);Ke(()=>{F&&(K==null||K())},[F,K]);const q=(U=O.arrow)==null?void 0:U.x,J=(Z=O.arrow)==null?void 0:Z.y,E=((ee=O.arrow)==null?void 0:ee.centerOffset)!==0,[X,$]=u.useState();return Ke(()=>{y&&$(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:F?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(z=O.transformOrigin)==null?void 0:z.x,(oe=O.transformOrigin)==null?void 0:oe.y].join(" "),...((te=O.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(qb,{scope:r,placedSide:M,onArrowChange:S,arrowX:q,arrowY:J,shouldHideArrow:E,children:a.jsx(G.div,{"data-side":M,"data-align":re,...p,ref:w,style:{...p.style,animation:F?void 0:"none"}})})})});kh.displayName=Ol;var Eh="PopperArrow",Yb={top:"bottom",right:"left",bottom:"top",left:"right"},Th=u.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=Gb(Eh,n),i=Yb[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(Ub,{...s,ref:r,style:{...s.style,display:"block"}})})});Th.displayName=Eh;function Xb(t){return t!==null}var Jb=t=>({name:"transformOrigin",options:t,fn(e){var x,y,b;const{placement:r,rects:n,middlewareData:s}=e,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[d,f]=Dh(r),h={start:"0%",center:"50%",end:"100%"}[f],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,g=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return d==="bottom"?(v=i?h:`${m}px`,p=`${-c}px`):d==="top"?(v=i?h:`${m}px`,p=`${n.floating.height+c}px`):d==="right"?(v=`${-c}px`,p=i?h:`${g}px`):d==="left"&&(v=`${n.floating.width+c}px`,p=i?h:`${g}px`),{data:{x:v,y:p}}}});function Dh(t){const[e,r="center"]=t.split("-");return[e,r]}var Il=Ch,Ll=Nh,$l=kh,Fl=Th,[da,$1]=zt("Tooltip",[qn]),ua=qn(),Rh="TooltipProvider",Qb=700,Fi="tooltip.open",[Zb,Wl]=da(Rh),Ah=t=>{const{__scopeTooltip:e,delayDuration:r=Qb,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,[i,l]=u.useState(!0),c=u.useRef(!1),d=u.useRef(0);return u.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),a.jsx(Zb,{scope:e,isOpenDelayed:i,delayDuration:r,onOpen:u.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:u.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:u.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:o})};Ah.displayName=Rh;var ha="Tooltip",[ew,fa]=da(ha),Mh=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=t,c=Wl(ha,t.__scopeTooltip),d=ua(e),[f,h]=u.useState(null),m=Pt(),g=u.useRef(0),v=i??c.disableHoverableContent,p=l??c.delayDuration,x=u.useRef(!1),[y=!1,b]=Vt({prop:n,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Fi))):c.onClose(),o==null||o(C)}}),w=u.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),_=u.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,b(!0)},[b]),S=u.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b(!1)},[b]),j=u.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,b(!0),g.current=0},p)},[p,b]);return u.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(Il,{...d,children:a.jsx(ew,{scope:e,contentId:m,open:y,stateAttribute:w,trigger:f,onTriggerChange:h,onTriggerEnter:u.useCallback(()=>{c.isOpenDelayed?j():_()},[c.isOpenDelayed,j,_]),onTriggerLeave:u.useCallback(()=>{v?S():(window.clearTimeout(g.current),g.current=0)},[S,v]),onOpen:_,onClose:S,disableHoverableContent:v,children:r})})};Mh.displayName=ha;var Wi="TooltipTrigger",Oh=u.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=fa(Wi,r),o=Wl(Wi,r),i=ua(r),l=u.useRef(null),c=se(e,l,s.onTriggerChange),d=u.useRef(!1),f=u.useRef(!1),h=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(Ll,{asChild:!0,...i,children:a.jsx(G.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:V(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:V(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:V(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:V(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:V(t.onBlur,s.onClose),onClick:V(t.onClick,s.onClose)})})});Oh.displayName=Wi;var tw="TooltipPortal",[F1,rw]=da(tw,{forceMount:void 0}),Wn="TooltipContent",Ih=u.forwardRef((t,e)=>{const r=rw(Wn,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,i=fa(Wn,t.__scopeTooltip);return a.jsx(Xe,{present:n||i.open,children:i.disableHoverableContent?a.jsx(Lh,{side:s,...o,ref:e}):a.jsx(nw,{side:s,...o,ref:e})})}),nw=u.forwardRef((t,e)=>{const r=fa(Wn,t.__scopeTooltip),n=Wl(Wn,t.__scopeTooltip),s=u.useRef(null),o=se(e,s),[i,l]=u.useState(null),{trigger:c,onClose:d}=r,f=s.current,{onPointerInTransitChange:h}=n,m=u.useCallback(()=>{l(null),h(!1)},[h]),g=u.useCallback((v,p)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},b=iw(y,x.getBoundingClientRect()),w=lw(y,b),_=cw(p.getBoundingClientRect()),S=uw([...w,..._]);l(S),h(!0)},[h]);return u.useEffect(()=>()=>m(),[m]),u.useEffect(()=>{if(c&&f){const v=x=>g(x,f),p=x=>g(x,c);return c.addEventListener("pointerleave",v),f.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",p)}}},[c,f,g,m]),u.useEffect(()=>{if(i){const v=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(x))||(f==null?void 0:f.contains(x)),w=!dw(y,i);b?m():w&&(m(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,f,i,d,m]),a.jsx(Lh,{...t,ref:o})}),[sw,ow]=da(ha,{isInside:!1}),Lh=u.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=fa(Wn,r),d=ua(r),{onClose:f}=c;return u.useEffect(()=>(document.addEventListener(Fi,f),()=>document.removeEventListener(Fi,f)),[f]),u.useEffect(()=>{if(c.trigger){const h=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),a.jsx(Un,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:a.jsxs($l,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Ru,{children:n}),a.jsx(sw,{scope:r,isInside:!0,children:a.jsx(Kv,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Ih.displayName=Wn;var $h="TooltipArrow",aw=u.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=ua(r);return ow($h,r).isInside?null:a.jsx(Fl,{...s,...n,ref:e})});aw.displayName=$h;function iw(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function lw(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function cw(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function dw(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o].x,c=e[o].y,d=e[i].x,f=e[i].y;c>n!=f>n&&r<(d-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function uw(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),hw(e)}function hw(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var fw=Ah,mw=Mh,pw=Oh,Fh=Ih;const ma=fw,Wo=mw,Bo=pw,Ns=u.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(Fh,{ref:n,sideOffset:e,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Ns.displayName=Fh.displayName;var pa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ga=typeof window>"u"||"Deno"in globalThis;function _t(){}function gw(t,e){return typeof t=="function"?t(e):t}function vw(t){return typeof t=="number"&&t>=0&&t!==1/0}function xw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ad(t,e){return typeof t=="function"?t(e):t}function yw(t,e){return typeof t=="function"?t(e):t}function id(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=t;if(i){if(n){if(e.queryHash!==Bl(i,e.options))return!1}else if(!Es(e.queryKey,i))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||o&&!o(e))}function ld(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(ks(e.options.mutationKey)!==ks(o))return!1}else if(!Es(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Bl(t,e){return((e==null?void 0:e.queryKeyHashFn)||ks)(t)}function ks(t){return JSON.stringify(t,(e,r)=>Bi(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Es(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Es(t[r],e[r])):!1}function Wh(t,e){if(t===e)return t;const r=cd(t)&&cd(e);if(r||Bi(t)&&Bi(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),i=o.length,l=r?[]:{};let c=0;for(let d=0;d<i;d++){const f=r?d:o[d];(!r&&n.includes(f)||r)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=Wh(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return s===i&&c===s?t:l}return e}function cd(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bi(t){if(!dd(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!dd(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dd(t){return Object.prototype.toString.call(t)==="[object Object]"}function bw(t){return new Promise(e=>{setTimeout(e,t)})}function ww(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Wh(t,e):e}function _w(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Sw(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Vl=Symbol();function Bh(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Vl?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Gr,Sr,Nn,fu,jw=(fu=class extends pa{constructor(){super();xe(this,Gr);xe(this,Sr);xe(this,Nn);le(this,Nn,e=>{if(!ga&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){I(this,Sr)||this.setEventListener(I(this,Nn))}onUnsubscribe(){var e;this.hasListeners()||((e=I(this,Sr))==null||e.call(this),le(this,Sr,void 0))}setEventListener(e){var r;le(this,Nn,e),(r=I(this,Sr))==null||r.call(this),le(this,Sr,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){I(this,Gr)!==e&&(le(this,Gr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof I(this,Gr)=="boolean"?I(this,Gr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gr=new WeakMap,Sr=new WeakMap,Nn=new WeakMap,fu),Vh=new jw,kn,jr,En,mu,Cw=(mu=class extends pa{constructor(){super();xe(this,kn,!0);xe(this,jr);xe(this,En);le(this,En,e=>{if(!ga&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){I(this,jr)||this.setEventListener(I(this,En))}onUnsubscribe(){var e;this.hasListeners()||((e=I(this,jr))==null||e.call(this),le(this,jr,void 0))}setEventListener(e){var r;le(this,En,e),(r=I(this,jr))==null||r.call(this),le(this,jr,e(this.setOnline.bind(this)))}setOnline(e){I(this,kn)!==e&&(le(this,kn,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return I(this,kn)}},kn=new WeakMap,jr=new WeakMap,En=new WeakMap,mu),Vo=new Cw;function Pw(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function Nw(t){return Math.min(1e3*2**t,3e4)}function Uh(t){return(t??"online")==="online"?Vo.isOnline():!0}var Hh=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ni(t){return t instanceof Hh}function zh(t){let e=!1,r=0,n=!1,s;const o=Pw(),i=p=>{var x;n||(m(new Hh(p)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Vh.isFocused()&&(t.networkMode==="always"||Vo.isOnline())&&t.canRun(),f=()=>Uh(t.networkMode)&&t.canRun(),h=p=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,p),s==null||s(),o.resolve(p))},m=p=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,p),s==null||s(),o.reject(p))},g=()=>new Promise(p=>{var x;s=y=>{(n||d())&&p(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var p;s=void 0,n||(p=t.onContinue)==null||p.call(t)}),v=()=>{if(n)return;let p;const x=r===0?t.initialPromise:void 0;try{p=x??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var j;if(n)return;const b=t.retry??(ga?0:3),w=t.retryDelay??Nw,_=typeof w=="function"?w(r,y):w,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(e||!S){m(y);return}r++,(j=t.onFail)==null||j.call(t,r,y),bw(_).then(()=>d()?void 0:g()).then(()=>{e?m(y):v()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?v():g().then(v),o)}}function kw(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{e?t.push(l):s(()=>{r(l)})},i=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var et=kw(),Yr,pu,Kh=(pu=class{constructor(){xe(this,Yr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vw(this.gcTime)&&le(this,Yr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ga?1/0:5*60*1e3))}clearGcTimeout(){I(this,Yr)&&(clearTimeout(I(this,Yr)),le(this,Yr,void 0))}},Yr=new WeakMap,pu),Tn,Dn,mt,Ye,Bs,Xr,St,Qt,gu,Ew=(gu=class extends Kh{constructor(e){super();xe(this,St);xe(this,Tn);xe(this,Dn);xe(this,mt);xe(this,Ye);xe(this,Bs);xe(this,Xr);le(this,Xr,!1),le(this,Bs,e.defaultOptions),this.setOptions(e.options),this.observers=[],le(this,mt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,le(this,Tn,Dw(this.options)),this.state=e.state??I(this,Tn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=I(this,Ye))==null?void 0:e.promise}setOptions(e){this.options={...I(this,Bs),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,mt).remove(this)}setData(e,r){const n=ww(this.state.data,e,this.options);return Ge(this,St,Qt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ge(this,St,Qt).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=I(this,Ye))==null?void 0:n.promise;return(s=I(this,Ye))==null||s.cancel(e),r?r.then(_t).catch(_t):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,Tn))}isActive(){return this.observers.some(e=>yw(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vl||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!xw(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=I(this,Ye))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=I(this,Ye))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),I(this,mt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(I(this,Ye)&&(I(this,Xr)?I(this,Ye).cancel({revert:!0}):I(this,Ye).cancelRetry()),this.scheduleGc()),I(this,mt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ge(this,St,Qt).call(this,{type:"invalidate"})}fetch(e,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(I(this,Ye))return I(this,Ye).continueRetry(),I(this,Ye).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(le(this,Xr,!0),n.signal)})},o=()=>{const h=Bh(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),le(this,Xr,!1),this.options.persister?this.options.persister(h,m,this):h(m)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),le(this,Dn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&Ge(this,St,Qt).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,g,v,p;ni(h)&&h.silent||Ge(this,St,Qt).call(this,{type:"error",error:h}),ni(h)||((g=(m=I(this,mt).config).onError)==null||g.call(m,h,this),(p=(v=I(this,mt).config).onSettled)==null||p.call(v,this.state.data,h,this)),this.scheduleGc()};return le(this,Ye,zh({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,v,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(g=(m=I(this,mt).config).onSuccess)==null||g.call(m,h,this),(p=(v=I(this,mt).config).onSettled)==null||p.call(v,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Ge(this,St,Qt).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Ge(this,St,Qt).call(this,{type:"pause"})},onContinue:()=>{Ge(this,St,Qt).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),I(this,Ye).start()}},Tn=new WeakMap,Dn=new WeakMap,mt=new WeakMap,Ye=new WeakMap,Bs=new WeakMap,Xr=new WeakMap,St=new WeakSet,Qt=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Tw(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ni(s)&&s.revert&&I(this,Dn)?{...I(this,Dn),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),I(this,mt).notify({query:this,type:"updated",action:e})})},gu);function Tw(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uh(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Dw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var It,vu,Rw=(vu=class extends pa{constructor(e={}){super();xe(this,It);this.config=e,le(this,It,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??Bl(s,r);let i=this.get(o);return i||(i=new Ew({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){I(this,It).has(e.queryHash)||(I(this,It).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=I(this,It).get(e.queryHash);r&&(e.destroy(),r===e&&I(this,It).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return I(this,It).get(e)}getAll(){return[...I(this,It).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>id(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>id(e,n)):r}notify(e){et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},It=new WeakMap,vu),Lt,Ze,Jr,$t,vr,xu,Aw=(xu=class extends Kh{constructor(e){super();xe(this,$t);xe(this,Lt);xe(this,Ze);xe(this,Jr);this.mutationId=e.mutationId,le(this,Ze,e.mutationCache),le(this,Lt,[]),this.state=e.state||Mw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){I(this,Lt).includes(e)||(I(this,Lt).push(e),this.clearGcTimeout(),I(this,Ze).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){le(this,Lt,I(this,Lt).filter(r=>r!==e)),this.scheduleGc(),I(this,Ze).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){I(this,Lt).length||(this.state.status==="pending"?this.scheduleGc():I(this,Ze).remove(this))}continue(){var e;return((e=I(this,Jr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,i,l,c,d,f,h,m,g,v,p,x,y,b,w,_,S,j,C;le(this,Jr,zh({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,R)=>{Ge(this,$t,vr).call(this,{type:"failed",failureCount:N,error:R})},onPause:()=>{Ge(this,$t,vr).call(this,{type:"pause"})},onContinue:()=>{Ge(this,$t,vr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,Ze).canRun(this)}));const r=this.state.status==="pending",n=!I(this,Jr).canStart();try{if(!r){Ge(this,$t,vr).call(this,{type:"pending",variables:e,isPaused:n}),await((o=(s=I(this,Ze).config).onMutate)==null?void 0:o.call(s,e,this));const R=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,e));R!==this.state.context&&Ge(this,$t,vr).call(this,{type:"pending",context:R,variables:e,isPaused:n})}const N=await I(this,Jr).start();return await((d=(c=I(this,Ze).config).onSuccess)==null?void 0:d.call(c,N,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,e,this.state.context)),await((g=(m=I(this,Ze).config).onSettled)==null?void 0:g.call(m,N,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,N,null,e,this.state.context)),Ge(this,$t,vr).call(this,{type:"success",data:N}),N}catch(N){try{throw await((y=(x=I(this,Ze).config).onError)==null?void 0:y.call(x,N,e,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,N,e,this.state.context)),await((S=(_=I(this,Ze).config).onSettled)==null?void 0:S.call(_,void 0,N,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,N,e,this.state.context)),N}finally{Ge(this,$t,vr).call(this,{type:"error",error:N})}}finally{I(this,Ze).runNext(this)}}},Lt=new WeakMap,Ze=new WeakMap,Jr=new WeakMap,$t=new WeakSet,vr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),et.batch(()=>{I(this,Lt).forEach(n=>{n.onMutationUpdate(e)}),I(this,Ze).notify({mutation:this,type:"updated",action:e})})},xu);function Mw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var at,Vs,yu,Ow=(yu=class extends pa{constructor(e={}){super();xe(this,at);xe(this,Vs);this.config=e,le(this,at,new Map),le(this,Vs,Date.now())}build(e,r,n){const s=new Aw({mutationCache:this,mutationId:++ao(this,Vs)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=ho(e),n=I(this,at).get(r)??[];n.push(e),I(this,at).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=ho(e);if(I(this,at).has(r)){const s=(n=I(this,at).get(r))==null?void 0:n.filter(o=>o!==e);s&&(s.length===0?I(this,at).delete(r):I(this,at).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=I(this,at).get(ho(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=I(this,at).get(ho(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...I(this,at).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ld(r,n))}findAll(e={}){return this.getAll().filter(r=>ld(e,r))}notify(e){et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return et.batch(()=>Promise.all(e.map(r=>r.continue().catch(_t))))}},at=new WeakMap,Vs=new WeakMap,yu);function ho(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ud(t){return{onFetch:(e,r)=>{var f,h,m,g,v;const n=e.options,s=(m=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],i=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=Bh(e.options,e.fetchOptions),b=async(w,_,S)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const j={queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};x(j);const C=await y(j),{maxPages:N}=e.options,R=S?Sw:_w;return{pages:R(w.pages,C,N),pageParams:R(w.pageParams,_,N)}};if(s&&o.length){const w=s==="backward",_=w?Iw:hd,S={pages:o,pageParams:i},j=_(n,S);l=await b(S,j,w)}else{const w=t??o.length;do{const _=c===0?i[0]??n.initialPageParam:hd(n,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var p,x;return(x=(p=e.options).persister)==null?void 0:x.call(p,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function hd(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Iw(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Me,Cr,Pr,Rn,An,Nr,Mn,On,bu,Lw=(bu=class{constructor(t={}){xe(this,Me);xe(this,Cr);xe(this,Pr);xe(this,Rn);xe(this,An);xe(this,Nr);xe(this,Mn);xe(this,On);le(this,Me,t.queryCache||new Rw),le(this,Cr,t.mutationCache||new Ow),le(this,Pr,t.defaultOptions||{}),le(this,Rn,new Map),le(this,An,new Map),le(this,Nr,0)}mount(){ao(this,Nr)._++,I(this,Nr)===1&&(le(this,Mn,Vh.subscribe(async t=>{t&&(await this.resumePausedMutations(),I(this,Me).onFocus())})),le(this,On,Vo.subscribe(async t=>{t&&(await this.resumePausedMutations(),I(this,Me).onOnline())})))}unmount(){var t,e;ao(this,Nr)._--,I(this,Nr)===0&&((t=I(this,Mn))==null||t.call(this),le(this,Mn,void 0),(e=I(this,On))==null||e.call(this),le(this,On,void 0))}isFetching(t){return I(this,Me).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return I(this,Cr).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=I(this,Me).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=I(this,Me).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(ad(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return I(this,Me).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=I(this,Me).get(n.queryHash),o=s==null?void 0:s.state.data,i=gw(e,o);if(i!==void 0)return I(this,Me).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return et.batch(()=>I(this,Me).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=I(this,Me).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=I(this,Me);et.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=I(this,Me),n={type:"active",...t};return et.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=et.batch(()=>I(this,Me).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(_t).catch(_t)}invalidateQueries(t={},e={}){return et.batch(()=>{if(I(this,Me).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=et.batch(()=>I(this,Me).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(_t)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(_t)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=I(this,Me).build(this,e);return r.isStaleByTime(ad(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_t).catch(_t)}fetchInfiniteQuery(t){return t.behavior=ud(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_t).catch(_t)}ensureInfiniteQueryData(t){return t.behavior=ud(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vo.isOnline()?I(this,Cr).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Me)}getMutationCache(){return I(this,Cr)}getDefaultOptions(){return I(this,Pr)}setDefaultOptions(t){le(this,Pr,t)}setQueryDefaults(t,e){I(this,Rn).set(ks(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...I(this,Rn).values()];let r={};return e.forEach(n=>{Es(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){I(this,An).set(ks(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...I(this,An).values()];let r={};return e.forEach(n=>{Es(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...I(this,Pr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Bl(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Vl&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...I(this,Pr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){I(this,Me).clear(),I(this,Cr).clear()}},Me=new WeakMap,Cr=new WeakMap,Pr=new WeakMap,Rn=new WeakMap,An=new WeakMap,Nr=new WeakMap,Mn=new WeakMap,On=new WeakMap,bu),$w=u.createContext(void 0),Fw=({client:t,children:e})=>(u.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx($w.Provider,{value:t,children:e}));const Ww="modulepreload",Bw=function(t){return"/put-options-se/"+t},fd={},qs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Bw(c),c in fd)return;fd[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Ww,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},Vw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qs(async()=>{const{default:n}=await Promise.resolve().then(()=>Gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ul extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Uw extends Ul{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class md extends Ul{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pd extends Ul{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Vi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Vi||(Vi={}));var Hw=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?o(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class zw{constructor(e,{headers:r={},customFetch:n,region:s=Vi.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Vw(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Hw(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=i):typeof i=="string"?(l["Content-Type"]="text/plain",f=i):typeof FormData<"u"&&i instanceof FormData?f=i:(l["Content-Type"]="application/json",f=JSON.stringify(i)));const h=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f}).catch(p=>{throw new Uw(p)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new md(h);if(!h.ok)throw new pd(h);let g=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof pd||s instanceof md?s.context:void 0}}})}}var nt={},Hl={},va={},Gs={},xa={},ya={},Kw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bn=Kw();const qw=Bn.fetch,qh=Bn.fetch.bind(Bn),Gh=Bn.Headers,Gw=Bn.Request,Yw=Bn.Response,Gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gh,Request:Gw,Response:Yw,default:qh,fetch:qw},Symbol.toStringTag,{value:"Module"})),Xw=ov(Gn);var ba={};Object.defineProperty(ba,"__esModule",{value:!0});let Jw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ba.default=Jw;var Yh=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ya,"__esModule",{value:!0});const Qw=Yh(Xw),Zw=Yh(ba);let e0=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Qw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let d=null,f=null,h=null,m=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const p=await o.text();try{d=JSON.parse(p),Array.isArray(d)&&o.status===404&&(f=[],d=null,m=200,g="OK")}catch{o.status===404&&p===""?(m=204,g="No Content"):d={message:p}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&this.shouldThrowOnError)throw new Zw.default(d)}return{error:d,data:f,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};ya.default=e0;var t0=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xa,"__esModule",{value:!0});const r0=t0(ya);let n0=class extends r0.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xa.default=n0;var s0=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gs,"__esModule",{value:!0});const o0=s0(xa);let a0=class extends o0.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Gs.default=a0;var i0=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(va,"__esModule",{value:!0});const ls=i0(Gs);let l0=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new ls.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ls.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new ls.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new ls.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ls.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};va.default=l0;var wa={},_a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.version=void 0;_a.version="0.0.0-automated";Object.defineProperty(wa,"__esModule",{value:!0});wa.DEFAULT_HEADERS=void 0;const c0=_a;wa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${c0.version}`};var Xh=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hl,"__esModule",{value:!0});const d0=Xh(va),u0=Xh(Gs),h0=wa;let f0=class Jh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},h0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new d0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Jh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(i="POST",c=r);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new u0.default({method:i,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Hl.default=f0;var Yn=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nt,"__esModule",{value:!0});nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const Qh=Yn(Hl);nt.PostgrestClient=Qh.default;const Zh=Yn(va);nt.PostgrestQueryBuilder=Zh.default;const ef=Yn(Gs);nt.PostgrestFilterBuilder=ef.default;const tf=Yn(xa);nt.PostgrestTransformBuilder=tf.default;const rf=Yn(ya);nt.PostgrestBuilder=rf.default;const nf=Yn(ba);nt.PostgrestError=nf.default;var m0=nt.default={PostgrestClient:Qh.default,PostgrestQueryBuilder:Zh.default,PostgrestFilterBuilder:ef.default,PostgrestTransformBuilder:tf.default,PostgrestBuilder:rf.default,PostgrestError:nf.default};const{PostgrestClient:p0,PostgrestQueryBuilder:z1,PostgrestFilterBuilder:K1,PostgrestTransformBuilder:q1,PostgrestBuilder:G1,PostgrestError:Y1}=m0;class g0{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const s=this.dynamicRequire("undici");if(s&&s.WebSocket)return{type:"native",constructor:s.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const s=this.dynamicRequire("ws");if(s)return{type:"ws",constructor:(r=s.WebSocket)!==null&&r!==void 0?r:s};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const v0="2.15.0",x0=`realtime-js/${v0}`,y0="1.0.0",Ui=1e4,b0=1e3,w0=100;var gs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gs||(gs={}));var $e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})($e||($e={}));var jt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(jt||(jt={}));var Hi;(function(t){t.websocket="websocket"})(Hi||(Hi={}));var zr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zr||(zr={}));class _0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(e.slice(i,i+s));i=i+s;const c=n.decode(e.slice(i,i+o));i=i+o;const d=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class sf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ke||(ke={}));const gd=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=S0(i,t,e,s),o),{})},S0=(t,e,r,n)=>{const s=e.find(l=>l.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?of(o,i):zi(i)},of=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return N0(e,r)}switch(t){case ke.bool:return j0(e);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return C0(e);case ke.json:case ke.jsonb:return P0(e);case ke.timestamp:return k0(e);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return zi(e);default:return zi(e)}},zi=t=>t,j0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},C0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},P0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},N0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>of(e,l))}return t},k0=t=>typeof t=="string"?t.replace(" ","T"):t,af=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class si{constructor(e,r,n={},s=Ui){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vd||(vd={}));class vs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vs.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=vs.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vs.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),l={},c={};return this.map(o,(d,f)=>{i[d]||(c[d]=f)}),this.map(i,(d,f)=>{const h=o[d];if(h){const m=f.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),v=f.filter(x=>g.indexOf(x.presence_ref)<0),p=h.filter(x=>m.indexOf(x.presence_ref)<0);v.length>0&&(l[d]=v),p.length>0&&(c[d]=p)}else l[d]=f}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var d;const f=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),f.length>0){const h=e[l].map(g=>g.presence_ref),m=f.filter(g=>h.indexOf(g.presence_ref)<0);e[l].unshift(...m)}n(l,f,c)}),this.map(i,(l,c)=>{let d=e[l];if(!d)return;const f=c.map(h=>h.presence_ref);d=d.filter(h=>f.indexOf(h.presence_ref)<0),e[l]=d,s(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xd||(xd={}));var xs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xs||(xs={}));var tr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(tr||(tr={}));class zl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new si(this,jt.join,this.params,this.timeout),this.rejoinTimer=new sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new vs(this),this.broadcastEndpointURL=af(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[xs.PRESENCE]&&this.bindings[xs.PRESENCE].length>0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(tr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(tr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){e==null||e(tr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,p=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,x=[];for(let y=0;y<p;y++){const b=v[y],{filter:{event:w,schema:_,table:S,filter:j}}=b,C=m&&m[y];if(C&&C.event===w&&C.schema===_&&C.table===S&&C.filter===j)x.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=$e.errored,e==null||e(tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(tr.SUBSCRIBED);return}}).receive("error",m=>{this.state=$e.errored,e==null||e(tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===$e.joined&&e===xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new si(this,jt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$e.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new si(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>w0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:f}=jt;if(n&&[l,c,d,f].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,p,x;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(p=g.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(g=>g.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var v,p,x,y,b,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(b=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:p,table:x,commit_timestamp:y,type:b,errors:w}=v;m=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}g.callback(m,n)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&zl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jt.close,{},e)}_onError(e){this._on(jt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=gd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=gd(e.columns,e.old_record)),r}}const yd=()=>{},fo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},E0=[1e3,2e3,5e3,1e4],T0=1e4,D0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class R0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ui,this.transport=null,this.heartbeatIntervalMs=fo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yd,this.ref=0,this.reconnectTimer=null,this.logger=yd,this.conn=null,this.sendBuffer=[],this.serializer=new _0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>qs(async()=>{const{default:l}=await Promise.resolve().then(()=>Gn);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Hi.websocket}`,this.httpEndpoint=af(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=g0.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:y0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case gs.connecting:return zr.Connecting;case gs.open:return zr.Open;case gs.closing:return zr.Closing;default:return zr.Closed}}isConnected(){return this.connectionState()===zr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new zl(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(b0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([D0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:x0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(jt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new sf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,l,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ui,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:fo.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>E0[f-1]||T0,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Kl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ve(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class A0 extends Kl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ki extends Kl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var M0=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?o(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const lf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qs(async()=>{const{default:n}=await Promise.resolve().then(()=>Gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},O0=()=>M0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qs(()=>Promise.resolve().then(()=>Gn),void 0)).Response:Response}),qi=t=>{if(Array.isArray(t))return t.map(r=>qi(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=qi(n)}),e},I0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ln=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?o(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const oi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),L0=(t,e,r)=>ln(void 0,void 0,void 0,function*(){const n=yield O0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new A0(oi(s),o,i))}).catch(s=>{e(new Ki(oi(s),s))}):e(new Ki(oi(t),t))}),$0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(I0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Ys(t,e,r,n,s,o){return ln(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(r,$0(e,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>L0(c,l,n))})})}function Uo(t,e,r,n){return ln(this,void 0,void 0,function*(){return Ys(t,"GET",e,r,n)})}function rr(t,e,r,n,s){return ln(this,void 0,void 0,function*(){return Ys(t,"POST",e,n,s,r)})}function Gi(t,e,r,n,s){return ln(this,void 0,void 0,function*(){return Ys(t,"PUT",e,n,s,r)})}function F0(t,e,r,n){return ln(this,void 0,void 0,function*(){return Ys(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function cf(t,e,r,n,s){return ln(this,void 0,void 0,function*(){return Ys(t,"DELETE",e,n,s,r)})}var rt=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?o(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const W0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class B0{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=lf(s)}uploadOrUpdate(e,r,n,s){return rt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},bd),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),h=yield(e=="PUT"?Gi:rr)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}upload(e,r,n){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return rt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:bd.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const h=yield Gi(this.fetch,l.toString(),c,{headers:f});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(Ve(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return rt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield rr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Kl("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}update(e,r,n){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return rt(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}copy(e,r,n){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return rt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield rr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return rt(this,void 0,void 0,function*(){try{const s=yield rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}download(e,r){return rt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Uo(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ve(l))return{data:null,error:l};throw l}})}info(e){return rt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Uo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:qi(n),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}exists(e){return rt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield F0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ve(n)&&n instanceof Ki){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return rt(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}list(e,r,n){return rt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},W0),r),{prefix:e||""});return{data:yield rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const V0="2.10.4",U0={"X-Client-Info":`storage-js/${V0}`};var hn=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?o(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class H0{constructor(e,r={},n,s){const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},U0),r),this.fetch=lf(n)}listBuckets(){return hn(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ve(e))return{data:null,error:e};throw e}})}getBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return hn(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return hn(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}emptyBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}}class z0 extends H0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new B0(this.url,this.headers,e,this.fetch)}}const K0="2.54.0";let hs="";typeof Deno<"u"?hs="deno":typeof document<"u"?hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hs="react-native":hs="node";const q0={"X-Client-Info":`supabase-js-${hs}/${K0}`},G0={headers:q0},Y0={schema:"public"},X0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J0={};var Q0=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?o(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const Z0=t=>{let e;return t?e=t:typeof fetch>"u"?e=qh:e=fetch,(...r)=>e(...r)},e_=()=>typeof Headers>"u"?Gh:Headers,t_=(t,e,r)=>{const n=Z0(r),s=e_();return(o,i)=>Q0(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new s(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:d}))})};var r_=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?o(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};function n_(t){return t.endsWith("/")?t:t+"/"}function s_(t,e){var r,n;const{db:s,auth:o,realtime:i,global:l}=t,{db:c,auth:d,realtime:f,global:h}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},f),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>r_(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const df="2.71.1",wn=30*1e3,Yi=3,ai=Yi*wn,o_="http://localhost:9999",a_="supabase.auth.token",i_={"X-Client-Info":`gotrue-js/${df}`},Xi="X-Supabase-Api-Version",uf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c_=10*60*1e3;class ql extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class d_ extends ql{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function u_(t){return ae(t)&&t.name==="AuthApiError"}class hf extends ql{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ir extends ql{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class xr extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function h_(t){return ae(t)&&t.name==="AuthSessionMissingError"}class mo extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class po extends Ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class go extends Ir{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function f_(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class wd extends Ir{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ji extends Ir{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ii(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class _d extends Ir{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qi extends Ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sd=` 	
\r=`.split(""),m_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Sd.length;e+=1)t[Sd[e].charCodeAt(0)]=-2;for(let e=0;e<Ho.length;e+=1)t[Ho[e].charCodeAt(0)]=e;return t})();function jd(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ho[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ho[n]),e.queuedBits-=6}}function ff(t,e,r){const n=m_[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cd(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{v_(i,n,r)};for(let i=0;i<t.length;i+=1)ff(t.charCodeAt(i),s,o);return e.join("")}function p_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function g_(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}p_(n,e)}}function v_(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function x_(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)ff(t.charCodeAt(s),r,n);return new Uint8Array(e)}function y_(t){const e=[];return g_(t,r=>e.push(r)),new Uint8Array(e)}function b_(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>jd(s,r,n)),jd(null,r,n),e.join("")}function w_(t){return Math.round(Date.now()/1e3)+t}function __(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const bt=()=>typeof window<"u"&&typeof document<"u",Br={tested:!1,writable:!1},mf=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Br.tested)return Br.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Br.tested=!0,Br.writable=!0}catch{Br.tested=!0,Br.writable=!1}return Br.writable};function S_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const pf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qs(async()=>{const{default:n}=await Promise.resolve().then(()=>Gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},j_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_n=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Vr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pr=async(t,e)=>{await t.removeItem(e)};class Sa{constructor(){this.promise=new Sa.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Sa.promiseConstructor=Promise;function li(t){const e=t.split(".");if(e.length!==3)throw new Qi("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!l_.test(e[n]))throw new Qi("JWT not in base64url format");return{header:JSON.parse(Cd(e[0])),payload:JSON.parse(Cd(e[1])),signature:x_(e[2]),raw:{header:e[0],payload:e[1]}}}async function C_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function P_(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function N_(t){return("0"+t.toString(16)).substr(-2)}function k_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,N_).join("")}async function E_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function T_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await E_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fn(t,e,r=!1){const n=k_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await _n(t,`${e}-code-verifier`,s);const o=await T_(n);return[o,n===o?"plain":"s256"]}const D_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R_(t){const e=t.headers.get(Xi);if(!e||!e.match(D_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function A_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function M_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const O_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mn(t){if(!O_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ci(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pd(t){return JSON.parse(JSON.stringify(t))}var I_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Ur=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),L_=[502,503,504];async function Nd(t){var e;if(!j_(t))throw new Ji(Ur(t),0);if(L_.includes(t.status))throw new Ji(Ur(t),t.status);let r;try{r=await t.json()}catch(o){throw new hf(Ur(o),o)}let n;const s=R_(t);if(s&&s.getTime()>=uf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _d(Ur(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new xr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new _d(Ur(r),t.status,r.weak_password.reasons);throw new d_(Ur(r),t.status||500,n)}const $_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function he(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Xi]||(o[Xi]=uf["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await F_(t,e,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function F_(t,e,r,n,s,o){const i=$_(e,n,s,o);let l;try{l=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new Ji(Ur(c),0)}if(l.ok||await Nd(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Nd(c)}}function Zt(t){var e;let r=null;U_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=w_(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function kd(t){const e=Zt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function W_(t){return{data:t,error:null}}function B_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=I_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function V_(t){return t}function U_(t){return t.access_token&&t.refresh_token&&t.expires_in}const di=["global","local","others"];var H_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class z_{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=pf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=di[0]){if(di.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${di.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=H_(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:B_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},f=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:V_});if(f.error)throw f.error;const h=await f.json(),m=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);d[`${x}Page`]=p}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ae(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){mn(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){mn(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:wr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){mn(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:wr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){mn(e.userId);try{const{data:r,error:n}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){mn(e.userId),mn(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function Ed(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function K_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pn={debug:!!(globalThis&&mf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class q_ extends gf{}async function G_(t,e,r){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),pn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new q_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}K_();const Y_={url:o_,storageKey:a_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Td(t,e,r){return await r()}const gn={};class Ts{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ts.nextInstanceID,Ts.nextInstanceID+=1,this.instanceID>0&&bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Y_),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new z_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=pf(s.fetch),this.lock=s.lock||Td,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:bt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=G_:this.lock=Td,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:mf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ed(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ed(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=gn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){gn[this.storageKey]=Object.assign(Object.assign({},gn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=gn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gn[this.storageKey]=Object.assign(Object.assign({},gn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${df}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=S_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),bt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),f_(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?{error:r}:{error:new hf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zt}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:f,password:h,options:m}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await fn(this.storage,this.storageKey)),o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:v},xform:Zt})}else if("phone"in e){const{phone:f,password:h,options:m}=e;o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Zt})}else throw new po("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:l}=e;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kd})}else if("phone"in e){const{phone:o,password:i,options:l}=e;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kd})}else throw new po("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new mo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,o,i,l,c,d,f,h,m,g;let v,p;if("message"in e)v=e.message,p=e.signature;else{const{chain:x,wallet:y,statement:b,options:w}=e;let _;if(bt())if(typeof y=="object")_=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(f=w==null?void 0:w.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:x,error:y}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:b_(p)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Zt});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new mo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(ae(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const r=await Vr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Zt});if(await pr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new mo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ae(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,l=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new mo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:l,options:c}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await fn(this.storage,this.storageKey));const{error:h}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new po("You must provide either an email or phone number.")}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Zt});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await fn(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:W_})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new xr;const{error:s}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:l}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new po("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ai:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await Vr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=ci()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,f)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wr}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:wr})})}catch(r){if(ae(r))return h_(r)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new xr;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await fn(this.storage,this.storageKey));const{data:d,error:f}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:wr});if(f)throw f;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xr;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=li(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:l}=r;if(l)throw l;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new xr;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!bt())throw new go("No browser detected.");if(e.error||e.error_description||e.error_code)throw new go(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new go("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wd("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=e;if(!o||!l||!i||!d)throw new go("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let m=f+h;c&&(m=parseInt(c));const g=m-f;g*1e3<=wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=m-h;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,f);const{data:p,error:x}=await this._getUser(o);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:m,refresh_token:i,token_type:d,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Vr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(u_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=__(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await fn(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,d,f;const{data:h,error:m}=o;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return bt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ae(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await P_(async s=>(s>0&&await C_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zt})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ii(o)&&Date.now()+i-n<wn})}catch(n){if(this._debug(r,"error",n),ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),bt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Vr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await _n(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:ci()}else if(s&&!s.user&&!s.user){const i=await Vr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await pr(this.storage,this.storageKey+"-user"),await _n(this.storage,this.storageKey,s)):s.user=ci()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ai;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${ai}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ii(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sa;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new xr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ae(o)){const i={session:null,error:o};return ii(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await _n(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Pd(s);await _n(this.storage,this.storageKey,o)}else{const s=Pd(r);await _n(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wn}ms, refresh threshold is ${Yi} ticks`),s<=Yi&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await fn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await he(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=li(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+c_>s)return n;const{data:o,error:i}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};n=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=li(n);r!=null&&r.allowExpired||A_(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const f=M_(s.alg),h=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,i,y_(`${l}.${c}`)))throw new Qi("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}Ts.nextInstanceID=0;const X_=Ts;class J_ extends X_{constructor(e){super(e)}}var Q_=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?o(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Z_{constructor(e,r,n){var s,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=n_(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Y0,realtime:J0,auth:Object.assign(Object.assign({},X0),{storageKey:d}),global:G0},h=s_(n??{},f);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=t_(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new p0(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new z0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new zw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Q_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new J_({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new R0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eS=(t,e,r)=>new Z_(t,e,r);function tS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}tS()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rS="https://isaojcmuooftwhdnubhs.supabase.co",nS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlzYW9qY211b29mdHdoZG51YmhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MjE4MTgsImV4cCI6MjA3MDM5NzgxOH0.cexAMM2q1sLCAIpRUe2L-NUhKFV5RUVaT2tR8nt-PjQ",sr=eS(rS,nS,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),vf=u.createContext({user:null,session:null,loading:!0,signIn:async()=>({error:null}),signUp:async()=>({error:null}),signOut:async()=>{}}),sS=({children:t})=>{const[e,r]=u.useState(null),[n,s]=u.useState(null),[o,i]=u.useState(!0);console.log("AuthProvider render - user:",e,"session:",n,"loading:",o),u.useEffect(()=>{const{data:{subscription:f}}=sr.auth.onAuthStateChange((h,m)=>{s(m),r((m==null?void 0:m.user)??null)});return sr.auth.getSession().then(({data:{session:h}})=>{s(h),r((h==null?void 0:h.user)??null),i(!1)}),()=>f.unsubscribe()},[]);const l=async(f,h)=>{const{error:m}=await sr.auth.signInWithPassword({email:f,password:h});return{error:m}},c=async(f,h)=>{let m;window.location.hostname.includes("github.io")?m=`${window.location.origin}/put-options-se/#/auth/callback`:m=`${window.location.origin}/#/auth/callback`,console.log("SignUp redirect URL:",m);const{error:g}=await sr.auth.signUp({email:f,password:h,options:{emailRedirectTo:m}});return{error:g}},d=async()=>{await sr.auth.signOut()};return a.jsx(vf.Provider,{value:{user:e,session:n,loading:o,signIn:l,signUp:c,signOut:d},children:t})},Xs=()=>u.useContext(vf),Gl=()=>{const{user:t}=Xs(),[e,r]=u.useState([]),[n,s]=u.useState({underlyingValue:1e5,transactionCost:150}),[o,i]=u.useState(!0);u.useEffect(()=>{if(!t){i(!1);return}l()},[t]);const l=async()=>{if(t)try{i(!0);const{data:f,error:h}=await sr.from("user_preferences").select("preference_type, preference_data").eq("user_id",t.id);if(h){console.error("Error loading preferences:",h);return}f==null||f.forEach(m=>{m.preference_type==="column_preferences"?r(m.preference_data):m.preference_type==="calculation_settings"&&s(m.preference_data)})}catch(f){console.error("Error loading preferences:",f)}finally{i(!1)}};return{columnPreferences:e,calculationSettings:n,isLoading:o,saveColumnPreferences:async f=>{if(!t){console.log("User not authenticated, skipping column preferences save");return}try{const{error:h}=await sr.from("user_preferences").upsert({user_id:t.id,preference_type:"column_preferences",preference_data:f},{onConflict:"user_id,preference_type"});if(h){nr.error("Failed to save column preferences"),console.error("Error saving column preferences:",h);return}r(f),nr.success("Column preferences saved")}catch(h){nr.error("Failed to save column preferences"),console.error("Error saving column preferences:",h)}},saveCalculationSettings:async f=>{if(!t){console.log("User not authenticated, skipping calculation settings save");return}try{const{error:h}=await sr.from("user_preferences").upsert({user_id:t.id,preference_type:"calculation_settings",preference_data:f},{onConflict:"user_id,preference_type"});if(h){nr.error("Failed to save calculation settings"),console.error("Error saving calculation settings:",h);return}s(f),nr.success("Calculation settings saved")}catch(h){nr.error("Failed to save calculation settings"),console.error("Error saving calculation settings:",h)}},refreshPreferences:l}},xf=u.createContext(void 0),Js=()=>{const t=u.useContext(xf);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},oS=({children:t})=>{const{calculationSettings:e,saveCalculationSettings:r,isLoading:n}=Gl(),[s,o]=u.useState(1e5),[i,l]=u.useState(150);u.useEffect(()=>{if(!n)if(e.underlyingValue!==1e5||e.transactionCost!==150)o(e.underlyingValue),l(e.transactionCost);else{const f=localStorage.getItem("underlyingValue");if(f){const m=parseInt(f,10);!isNaN(m)&&m>0&&o(m)}const h=localStorage.getItem("transactionCost");if(h){const m=parseInt(h,10);!isNaN(m)&&m>=0&&l(m)}}},[e,n]);const c=f=>{console.log("SettingsContext: Setting underlying value to",f,"Previous value was:",s),o(f),localStorage.setItem("underlyingValue",f.toString()),r({underlyingValue:f,transactionCost:i}),console.log("SettingsContext: Updated both localStorage and database with:",f)},d=f=>{l(f),localStorage.setItem("transactionCost",f.toString()),r({underlyingValue:s,transactionCost:f})};return a.jsx(xf.Provider,{value:{underlyingValue:s,setUnderlyingValue:c,transactionCost:i,setTransactionCost:d},children:t})},Yl=u.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Y("w-full caption-bottom text-sm",t),...e})}));Yl.displayName="Table";const Xl=u.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:Y("[&_tr]:border-b",t),...e}));Xl.displayName="TableHeader";const Jl=u.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:Y("[&_tr:last-child]:border-0",t),...e}));Jl.displayName="TableBody";const aS=u.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:Y("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));aS.displayName="TableFooter";const Ds=u.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:Y("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ds.displayName="TableRow";const Mt=u.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:Y("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Mt.displayName="TableHead";const Ot=u.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:Y("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ot.displayName="TableCell";const iS=u.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:Y("mt-4 text-sm text-muted-foreground",t),...e}));iS.displayName="TableCaption";var lS=u.createContext(void 0);function Xn(t){const e=u.useContext(lS);return t||e||"ltr"}function Rs(t,[e,r]){return Math.min(r,Math.max(e,t))}function cS(t,e){return u.useReducer((r,n)=>e[r][n]??r,t)}var Ql="ScrollArea",[yf,X1]=zt(Ql),[dS,xt]=yf(Ql),bf=u.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=t,[l,c]=u.useState(null),[d,f]=u.useState(null),[h,m]=u.useState(null),[g,v]=u.useState(null),[p,x]=u.useState(null),[y,b]=u.useState(0),[w,_]=u.useState(0),[S,j]=u.useState(!1),[C,N]=u.useState(!1),R=se(e,P=>c(P)),A=Xn(s);return a.jsx(dS,{scope:r,type:n,dir:A,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:f,content:h,onContentChange:m,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:N,onCornerWidthChange:b,onCornerHeightChange:_,children:a.jsx(G.div,{dir:A,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});bf.displayName=Ql;var wf="ScrollAreaViewport",_f=u.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...i}=t,l=xt(wf,r),c=u.useRef(null),d=se(e,c,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),a.jsx(G.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:bS({asChild:s,children:n},f=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});_f.displayName=wf;var qt="ScrollAreaScrollbar",Zl=u.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=xt(qt,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=t.orientation==="horizontal";return u.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(uS,{...n,ref:e,forceMount:r}):s.type==="scroll"?a.jsx(hS,{...n,ref:e,forceMount:r}):s.type==="auto"?a.jsx(Sf,{...n,ref:e,forceMount:r}):s.type==="always"?a.jsx(ec,{...n,ref:e}):null});Zl.displayName=qt;var uS=u.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=xt(qt,t.__scopeScrollArea),[o,i]=u.useState(!1);return u.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Xe,{present:r||o,children:a.jsx(Sf,{"data-state":o?"visible":"hidden",...n,ref:e})})}),hS=u.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=xt(qt,t.__scopeScrollArea),o=t.orientation==="horizontal",i=Ca(()=>c("SCROLL_END"),100),[l,c]=cS("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),u.useEffect(()=>{const d=s.viewport,f=o?"scrollLeft":"scrollTop";if(d){let h=d[f];const m=()=>{const g=d[f];h!==g&&(c("SCROLL"),i()),h=g};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,o,c,i]),a.jsx(Xe,{present:r||l!=="hidden",children:a.jsx(ec,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:V(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:V(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Sf=u.forwardRef((t,e)=>{const r=xt(qt,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,i]=u.useState(!1),l=t.orientation==="horizontal",c=Ca(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?d:f)}},10);return Vn(r.viewport,c),Vn(r.content,c),a.jsx(Xe,{present:n||o,children:a.jsx(ec,{"data-state":o?"visible":"hidden",...s,ref:e})})}),ec=u.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=xt(qt,t.__scopeScrollArea),o=u.useRef(null),i=u.useRef(0),[l,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=kf(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,g){return xS(m,i.current,l,g)}return r==="horizontal"?a.jsx(fS,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,g=Dd(m,l,s.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):r==="vertical"?a.jsx(mS,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,g=Dd(m,l);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),fS=u.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=xt(qt,t.__scopeScrollArea),[i,l]=u.useState(),c=u.useRef(null),d=se(e,c,o.onScrollbarXChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Cf,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ja(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;t.onWheelScroll(m),Tf(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ko(i.paddingLeft),paddingEnd:Ko(i.paddingRight)}})}})}),mS=u.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=xt(qt,t.__scopeScrollArea),[i,l]=u.useState(),c=u.useRef(null),d=se(e,c,o.onScrollbarYChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Cf,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ja(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;t.onWheelScroll(m),Tf(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ko(i.paddingTop),paddingEnd:Ko(i.paddingBottom)}})}})}),[pS,jf]=yf(qt),Cf=u.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:h,...m}=t,g=xt(qt,r),[v,p]=u.useState(null),x=se(e,R=>p(R)),y=u.useRef(null),b=u.useRef(""),w=g.viewport,_=n.content-n.viewport,S=Re(f),j=Re(c),C=Ca(h,10);function N(R){if(y.current){const A=R.clientX-y.current.left,P=R.clientY-y.current.top;d({x:A,y:P})}}return u.useEffect(()=>{const R=A=>{const P=A.target;(v==null?void 0:v.contains(P))&&S(A,_)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[w,v,_,S]),u.useEffect(j,[n,j]),Vn(v,C),Vn(g.content,C),a.jsx(pS,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Re(o),onThumbPointerUp:Re(i),onThumbPositionChange:j,onThumbPointerDown:Re(l),children:a.jsx(G.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:V(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),N(R))}),onPointerMove:V(t.onPointerMove,N),onPointerUp:V(t.onPointerUp,R=>{const A=R.target;A.hasPointerCapture(R.pointerId)&&A.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=b.current,g.viewport&&(g.viewport.style.scrollBehavior=""),y.current=null})})})}),zo="ScrollAreaThumb",Pf=u.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=jf(zo,t.__scopeScrollArea);return a.jsx(Xe,{present:r||s.hasThumb,children:a.jsx(gS,{ref:e,...n})})}),gS=u.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=xt(zo,r),i=jf(zo,r),{onThumbPositionChange:l}=i,c=se(e,h=>i.onThumbChange(h)),d=u.useRef(),f=Ca(()=>{d.current&&(d.current(),d.current=void 0)},100);return u.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(f(),!d.current){const g=yS(h,l);d.current=g,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,f,l]),a.jsx(G.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:V(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),v=h.clientX-g.left,p=h.clientY-g.top;i.onThumbPointerDown({x:v,y:p})}),onPointerUp:V(t.onPointerUp,i.onThumbPointerUp)})});Pf.displayName=zo;var tc="ScrollAreaCorner",Nf=u.forwardRef((t,e)=>{const r=xt(tc,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(vS,{...t,ref:e}):null});Nf.displayName=tc;var vS=u.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=xt(tc,r),[o,i]=u.useState(0),[l,c]=u.useState(0),d=!!(o&&l);return Vn(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),Vn(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),d?a.jsx(G.div,{...n,ref:e,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ko(t){return t?parseInt(t,10):0}function kf(t,e){const r=t/e;return isNaN(r)?0:r}function ja(t){const e=kf(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function xS(t,e,r,n="ltr"){const s=ja(r),o=s/2,i=e||o,l=s-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,h=n==="ltr"?[0,f]:[f*-1,0];return Ef([c,d],h)(t)}function Dd(t,e,r="ltr"){const n=ja(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],d=Rs(t,c);return Ef([0,i],[0,l])(d)}function Ef(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Tf(t,e){return t>0&&t<e}var yS=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Ca(t,e){const r=Re(t),n=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),u.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Vn(t,e){const r=Re(e);Ke(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}function bS(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const s=u.Children.only(n);return u.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var Df=bf,wS=_f,_S=Nf;const Rf=u.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Df,{ref:n,className:Y("relative overflow-hidden",t),...r,children:[a.jsx(wS,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(rc,{}),a.jsx(_S,{})]}));Rf.displayName=Df.displayName;const rc=u.forwardRef(({className:t,orientation:e="vertical",...r},n)=>a.jsx(Zl,{ref:n,orientation:e,className:Y("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:a.jsx(Pf,{className:"relative flex-1 rounded-full bg-border"})}));rc.displayName=Zl.displayName;const SS=aa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=u.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?Dr:"button";return a.jsx(i,{className:Y(SS({variant:e,size:r,className:t})),ref:o,...s})});Q.displayName="Button";const ze=u.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ze.displayName="Input";var ui="focusScope.autoFocusOnMount",hi="focusScope.autoFocusOnUnmount",Rd={bubbles:!1,cancelable:!0},jS="FocusScope",Pa=u.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[l,c]=u.useState(null),d=Re(s),f=Re(o),h=u.useRef(null),m=se(e,p=>c(p)),g=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?h.current=_:yr(h.current,{select:!0})},x=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||yr(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&yr(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),b.disconnect()}}},[n,l,g.paused]),u.useEffect(()=>{if(l){Md.add(g);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(ui,Rd);l.addEventListener(ui,d),l.dispatchEvent(y),y.defaultPrevented||(CS(TS(Af(l)),{select:!0}),document.activeElement===p&&yr(l))}return()=>{l.removeEventListener(ui,d),setTimeout(()=>{const y=new CustomEvent(hi,Rd);l.addEventListener(hi,f),l.dispatchEvent(y),y.defaultPrevented||yr(p??document.body,{select:!0}),l.removeEventListener(hi,f),Md.remove(g)},0)}}},[l,d,f,g]);const v=u.useCallback(p=>{if(!r&&!n||g.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const b=p.currentTarget,[w,_]=PS(b);w&&_?!p.shiftKey&&y===_?(p.preventDefault(),r&&yr(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),r&&yr(_,{select:!0})):y===b&&p.preventDefault()}},[r,n,g.paused]);return a.jsx(G.div,{tabIndex:-1,...i,ref:m,onKeyDown:v})});Pa.displayName=jS;function CS(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(yr(n,{select:e}),document.activeElement!==r)return}function PS(t){const e=Af(t),r=Ad(e,t),n=Ad(e.reverse(),t);return[r,n]}function Af(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ad(t,e){for(const r of t)if(!NS(r,{upTo:e}))return r}function NS(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kS(t){return t instanceof HTMLInputElement&&"select"in t}function yr(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&kS(t)&&e&&t.select()}}var Md=ES();function ES(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Od(t,e),t.unshift(e)},remove(e){var r;t=Od(t,e),(r=t[0])==null||r.resume()}}}function Od(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function TS(t){return t.filter(e=>e.tagName!=="A")}var fi=0;function nc(){u.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Id()),document.body.insertAdjacentElement("beforeend",t[1]??Id()),fi++,()=>{fi===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fi--}},[])}function Id(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bt=function(){return Bt=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Bt.apply(this,arguments)};function Mf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function DS(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var No="right-scroll-bar-position",ko="width-before-scroll-bar",RS="with-scroll-bars-hidden",AS="--removed-body-scroll-bar-size";function mi(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function MS(t,e){var r=u.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var OS=typeof window<"u"?u.useLayoutEffect:u.useEffect,Ld=new WeakMap;function IS(t,e){var r=MS(null,function(n){return t.forEach(function(s){return mi(s,n)})});return OS(function(){var n=Ld.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(l){o.has(l)||mi(l,null)}),o.forEach(function(l){s.has(l)||mi(l,i)})}Ld.set(r,t)},[t]),r}function LS(t){return t}function $S(t,e){e===void 0&&(e=LS);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=e(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var f=i;i=[],f.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){i.push(f),d()},filter:function(f){return i=i.filter(f),r}}}};return s}function FS(t){t===void 0&&(t={});var e=$S(null);return e.options=Bt({async:!0,ssr:!1},t),e}var Of=function(t){var e=t.sideCar,r=Mf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,Bt({},r))};Of.isSideCarExport=!0;function WS(t,e){return t.useMedium(e),Of}var If=FS(),pi=function(){},Na=u.forwardRef(function(t,e){var r=u.useRef(null),n=u.useState({onScrollCapture:pi,onWheelCapture:pi,onTouchMoveCapture:pi}),s=n[0],o=n[1],i=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,g=t.noIsolation,v=t.inert,p=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,b=t.gapMode,w=Mf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,S=IS([r,e]),j=Bt(Bt({},w),s);return u.createElement(u.Fragment,null,f&&u.createElement(_,{sideCar:If,removeScrollBar:d,shards:h,noIsolation:g,inert:v,setCallbacks:o,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?u.cloneElement(u.Children.only(l),Bt(Bt({},j),{ref:S})):u.createElement(y,Bt({},j,{className:c,ref:S}),l))});Na.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Na.classNames={fullWidth:ko,zeroRight:No};var BS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VS(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=BS();return e&&t.setAttribute("nonce",e),t}function US(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function HS(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zS=function(){var t=0,e=null;return{add:function(r){t==0&&(e=VS())&&(US(e,r),HS(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KS=function(){var t=zS();return function(e,r){u.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Lf=function(){var t=KS(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},qS={left:0,top:0,right:0,gap:0},gi=function(t){return parseInt(t||"",10)||0},GS=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[gi(r),gi(n),gi(s)]},YS=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qS;var e=GS(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},XS=Lf(),Cn="data-scroll-locked",JS=function(t,e,r,n){var s=t.left,o=t.top,i=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(RS,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Cn,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(No,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ko,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(No," .").concat(No,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ko," .").concat(ko,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Cn,`] {
    `).concat(AS,": ").concat(l,`px;
  }
`)},$d=function(){var t=parseInt(document.body.getAttribute(Cn)||"0",10);return isFinite(t)?t:0},QS=function(){u.useEffect(function(){return document.body.setAttribute(Cn,($d()+1).toString()),function(){var t=$d()-1;t<=0?document.body.removeAttribute(Cn):document.body.setAttribute(Cn,t.toString())}},[])},ZS=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;QS();var o=u.useMemo(function(){return YS(s)},[s]);return u.createElement(XS,{styles:JS(o,!e,s,r?"":"!important")})},Zi=!1;if(typeof window<"u")try{var vo=Object.defineProperty({},"passive",{get:function(){return Zi=!0,!0}});window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Zi=!1}var vn=Zi?{passive:!1}:!1,ej=function(t){return t.tagName==="TEXTAREA"},$f=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!ej(t)&&r[e]==="visible")},tj=function(t){return $f(t,"overflowY")},rj=function(t){return $f(t,"overflowX")},Fd=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Ff(t,n);if(s){var o=Wf(t,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nj=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},sj=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Ff=function(t,e){return t==="v"?tj(e):rj(e)},Wf=function(t,e){return t==="v"?nj(e):sj(e)},oj=function(t,e){return t==="h"&&e==="rtl"?-1:1},aj=function(t,e,r,n,s){var o=oj(t,window.getComputedStyle(e).direction),i=o*n,l=r.target,c=e.contains(l),d=!1,f=i>0,h=0,m=0;do{var g=Wf(t,l),v=g[0],p=g[1],x=g[2],y=p-x-o*v;(v||y)&&Ff(t,l)&&(h+=y,m+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(d=!0),d},xo=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wd=function(t){return[t.deltaX,t.deltaY]},Bd=function(t){return t&&"current"in t?t.current:t},ij=function(t,e){return t[0]===e[0]&&t[1]===e[1]},lj=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},cj=0,xn=[];function dj(t){var e=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),s=u.useState(cj++)[0],o=u.useState(Lf)[0],i=u.useRef(t);u.useEffect(function(){i.current=t},[t]),u.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=DS([t.lockRef.current],(t.shards||[]).map(Bd),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=u.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=xo(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-y[0],_="deltaY"in p?p.deltaY:b[1]-y[1],S,j=p.target,C=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&C==="h"&&j.type==="range")return!1;var N=Fd(C,j);if(!N)return!0;if(N?S=C:(S=C==="v"?"h":"v",N=Fd(C,j)),!N)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var R=n.current||S;return aj(R,x,p,R==="h"?w:_,!0)},[]),c=u.useCallback(function(p){var x=p;if(!(!xn.length||xn[xn.length-1]!==o)){var y="deltaY"in x?Wd(x):xo(x),b=e.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&ij(S.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(Bd).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=w.length>0?l(x,w[0]):!i.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),d=u.useCallback(function(p,x,y,b){var w={name:p,delta:x,target:y,should:b,shadowParent:uj(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),f=u.useCallback(function(p){r.current=xo(p),n.current=void 0},[]),h=u.useCallback(function(p){d(p.type,Wd(p),p.target,l(p,t.lockRef.current))},[]),m=u.useCallback(function(p){d(p.type,xo(p),p.target,l(p,t.lockRef.current))},[]);u.useEffect(function(){return xn.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,vn),document.addEventListener("touchmove",c,vn),document.addEventListener("touchstart",f,vn),function(){xn=xn.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,vn),document.removeEventListener("touchmove",c,vn),document.removeEventListener("touchstart",f,vn)}},[]);var g=t.removeScrollBar,v=t.inert;return u.createElement(u.Fragment,null,v?u.createElement(o,{styles:lj(s)}):null,g?u.createElement(ZS,{gapMode:t.gapMode}):null)}function uj(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const hj=WS(If,dj);var ka=u.forwardRef(function(t,e){return u.createElement(Na,Bt({},t,{ref:e,sideCar:hj}))});ka.classNames=Na.classNames;var fj=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yn=new WeakMap,yo=new WeakMap,bo={},vi=0,Bf=function(t){return t&&(t.host||Bf(t.parentNode))},mj=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Bf(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},pj=function(t,e,r,n){var s=mj(e,Array.isArray(t)?t:[t]);bo[r]||(bo[r]=new WeakMap);var o=bo[r],i=[],l=new Set,c=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var g=m.getAttribute(n),v=g!==null&&g!=="false",p=(yn.get(m)||0)+1,x=(o.get(m)||0)+1;yn.set(m,p),o.set(m,x),i.push(m),p===1&&v&&yo.set(m,!0),x===1&&m.setAttribute(r,"true"),v||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return f(e),l.clear(),vi++,function(){i.forEach(function(h){var m=yn.get(h)-1,g=o.get(h)-1;yn.set(h,m),o.set(h,g),m||(yo.has(h)||h.removeAttribute(n),yo.delete(h)),g||h.removeAttribute(r)}),vi--,vi||(yn=new WeakMap,yn=new WeakMap,yo=new WeakMap,bo={})}},sc=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=fj(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),pj(n,s,r,"aria-hidden")):function(){return null}},oc="Dialog",[Vf,J1]=zt(oc),[gj,Tt]=Vf(oc),Uf=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,l=u.useRef(null),c=u.useRef(null),[d=!1,f]=Vt({prop:n,defaultProp:s,onChange:o});return a.jsx(gj,{scope:e,triggerRef:l,contentRef:c,contentId:Pt(),titleId:Pt(),descriptionId:Pt(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(h=>!h),[f]),modal:i,children:r})};Uf.displayName=oc;var Hf="DialogTrigger",zf=u.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tt(Hf,r),o=se(e,s.triggerRef);return a.jsx(G.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lc(s.open),...n,ref:o,onClick:V(t.onClick,s.onOpenToggle)})});zf.displayName=Hf;var ac="DialogPortal",[vj,Kf]=Vf(ac,{forceMount:void 0}),qf=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Tt(ac,e);return a.jsx(vj,{scope:e,forceMount:r,children:u.Children.map(n,i=>a.jsx(Xe,{present:r||o.open,children:a.jsx(Hs,{asChild:!0,container:s,children:i})}))})};qf.displayName=ac;var qo="DialogOverlay",Gf=u.forwardRef((t,e)=>{const r=Kf(qo,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Tt(qo,t.__scopeDialog);return o.modal?a.jsx(Xe,{present:n||o.open,children:a.jsx(xj,{...s,ref:e})}):null});Gf.displayName=qo;var xj=u.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tt(qo,r);return a.jsx(ka,{as:Dr,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(G.div,{"data-state":lc(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),tn="DialogContent",Yf=u.forwardRef((t,e)=>{const r=Kf(tn,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Tt(tn,t.__scopeDialog);return a.jsx(Xe,{present:n||o.open,children:o.modal?a.jsx(yj,{...s,ref:e}):a.jsx(bj,{...s,ref:e})})});Yf.displayName=tn;var yj=u.forwardRef((t,e)=>{const r=Tt(tn,t.__scopeDialog),n=u.useRef(null),s=se(e,r.contentRef,n);return u.useEffect(()=>{const o=n.current;if(o)return sc(o)},[]),a.jsx(Xf,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:V(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:V(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:V(t.onFocusOutside,o=>o.preventDefault())})}),bj=u.forwardRef((t,e)=>{const r=Tt(tn,t.__scopeDialog),n=u.useRef(!1),s=u.useRef(!1);return a.jsx(Xf,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Xf=u.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,l=Tt(tn,r),c=u.useRef(null),d=se(e,c);return nc(),a.jsxs(a.Fragment,{children:[a.jsx(Pa,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Un,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":lc(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(wj,{titleId:l.titleId}),a.jsx(Sj,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ic="DialogTitle",Jf=u.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tt(ic,r);return a.jsx(G.h2,{id:s.titleId,...n,ref:e})});Jf.displayName=ic;var Qf="DialogDescription",Zf=u.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tt(Qf,r);return a.jsx(G.p,{id:s.descriptionId,...n,ref:e})});Zf.displayName=Qf;var em="DialogClose",tm=u.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tt(em,r);return a.jsx(G.button,{type:"button",...n,ref:e,onClick:V(t.onClick,()=>s.onOpenChange(!1))})});tm.displayName=em;function lc(t){return t?"open":"closed"}var rm="DialogTitleWarning",[Q1,nm]=kv(rm,{contentName:tn,titleName:ic,docsSlug:"dialog"}),wj=({titleId:t})=>{const e=nm(rm),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return u.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},_j="DialogDescriptionWarning",Sj=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nm(_j).contentName}}.`;return u.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},jj=Uf,Cj=zf,Pj=qf,sm=Gf,om=Yf,am=Jf,im=Zf,Nj=tm;const Ea=jj,Ta=Cj,kj=Pj,lm=u.forwardRef(({className:t,...e},r)=>a.jsx(sm,{ref:r,className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lm.displayName=sm.displayName;const Qs=u.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(kj,{children:[a.jsx(lm,{}),a.jsxs(om,{ref:n,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(Nj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(rh,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qs.displayName=om.displayName;const cc=({className:t,...e})=>a.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cc.displayName="DialogHeader";const dc=u.forwardRef(({className:t,...e},r)=>a.jsx(am,{ref:r,className:Y("text-lg font-semibold leading-none tracking-tight",t),...e}));dc.displayName=am.displayName;const Ej=u.forwardRef(({className:t,...e},r)=>a.jsx(im,{ref:r,className:Y("text-sm text-muted-foreground",t),...e}));Ej.displayName=im.displayName;function uc(t){const e=u.useRef({value:t,previous:t});return u.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var hc="Checkbox",[Tj,Z1]=zt(hc),[Dj,Rj]=Tj(hc),cm=u.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:f,...h}=t,[m,g]=u.useState(null),v=se(e,_=>g(_)),p=u.useRef(!1),x=m?f||!!m.closest("form"):!0,[y=!1,b]=Vt({prop:s,defaultProp:o,onChange:d}),w=u.useRef(y);return u.useEffect(()=>{const _=m==null?void 0:m.form;if(_){const S=()=>b(w.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[m,b]),a.jsxs(Dj,{scope:r,state:y,disabled:l,children:[a.jsx(G.button,{type:"button",role:"checkbox","aria-checked":Tr(y)?"mixed":y,"aria-required":i,"data-state":hm(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onKeyDown:V(t.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:V(t.onClick,_=>{b(S=>Tr(S)?!0:!S),x&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),x&&a.jsx(Aj,{control:m,bubbles:!p.current,name:n,value:c,checked:y,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Tr(o)?!1:o})]})});cm.displayName=hc;var dm="CheckboxIndicator",um=u.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,o=Rj(dm,r);return a.jsx(Xe,{present:n||Tr(o.state)||o.state===!0,children:a.jsx(G.span,{"data-state":hm(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});um.displayName=dm;var Aj=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...o}=t,i=u.useRef(null),l=uc(r),c=Al(e);u.useEffect(()=>{const f=i.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&g){const v=new Event("click",{bubbles:n});f.indeterminate=Tr(r),g.call(f,Tr(r)?!1:r),f.dispatchEvent(v)}},[l,r,n]);const d=u.useRef(Tr(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...o,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Tr(t){return t==="indeterminate"}function hm(t){return Tr(t)?"indeterminate":t?"checked":"unchecked"}var fm=cm,Mj=um;const Ft=u.forwardRef(({className:t,...e},r)=>a.jsx(fm,{ref:r,className:Y("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(Mj,{className:Y("flex items-center justify-center text-current"),children:a.jsx(_l,{className:"h-4 w-4"})})}));Ft.displayName=fm.displayName;const Oj=aa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function As({className:t,variant:e,...r}){return a.jsx("div",{className:Y(Oj({variant:e}),t),...r})}function Ij(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return u.useMemo(()=>n=>{e.forEach(s=>s(n))},e)}const Da=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jn(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function fc(t){return"nodeType"in t}function st(t){var e,r;return t?Jn(t)?t:fc(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function mc(t){const{Document:e}=st(t);return t instanceof e}function Zs(t){return Jn(t)?!1:t instanceof st(t).HTMLElement}function mm(t){return t instanceof st(t).SVGElement}function Qn(t){return t?Jn(t)?t.document:fc(t)?mc(t)?t:Zs(t)||mm(t)?t.ownerDocument:document:document:document}const Ht=Da?u.useLayoutEffect:u.useEffect;function pc(t){const e=u.useRef(t);return Ht(()=>{e.current=t}),u.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function Lj(){const t=u.useRef(null),e=u.useCallback((n,s)=>{t.current=setInterval(n,s)},[]),r=u.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Ms(t,e){e===void 0&&(e=[t]);const r=u.useRef(t);return Ht(()=>{r.current!==t&&(r.current=t)},e),r}function eo(t,e){const r=u.useRef();return u.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function Go(t){const e=pc(t),r=u.useRef(null),n=u.useCallback(s=>{s!==r.current&&(e==null||e(s,r.current)),r.current=s},[]);return[r,n]}function el(t){const e=u.useRef();return u.useEffect(()=>{e.current=t},[t]),e.current}let xi={};function to(t,e){return u.useMemo(()=>{if(e)return e;const r=xi[t]==null?0:xi[t]+1;return xi[t]=r,t+"-"+r},[t,e])}function pm(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((o,i)=>{const l=Object.entries(i);for(const[c,d]of l){const f=o[c];f!=null&&(o[c]=f+t*d)}return o},{...e})}}const Pn=pm(1),Os=pm(-1);function $j(t){return"clientX"in t&&"clientY"in t}function gc(t){if(!t)return!1;const{KeyboardEvent:e}=st(t.target);return e&&t instanceof e}function Fj(t){if(!t)return!1;const{TouchEvent:e}=st(t.target);return e&&t instanceof e}function tl(t){if(Fj(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return $j(t)?{x:t.clientX,y:t.clientY}:null}const Is=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Is.Translate.toString(t),Is.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),Vd="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Wj(t){return t.matches(Vd)?t:t.querySelector(Vd)}const Bj={display:"none"};function Vj(t){let{id:e,value:r}=t;return W.createElement("div",{id:e,style:Bj},r)}function Uj(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return W.createElement("div",{id:e,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function Hj(){const[t,e]=u.useState("");return{announce:u.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const gm=u.createContext(null);function zj(t){const e=u.useContext(gm);u.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Kj(){const[t]=u.useState(()=>new Set),e=u.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[u.useCallback(n=>{let{type:s,event:o}=n;t.forEach(i=>{var l;return(l=i[s])==null?void 0:l.call(i,o)})},[t]),e]}const qj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Gj={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Yj(t){let{announcements:e=Gj,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=qj}=t;const{announce:o,announcement:i}=Hj(),l=to("DndLiveRegion"),[c,d]=u.useState(!1);if(u.useEffect(()=>{d(!0)},[]),zj(u.useMemo(()=>({onDragStart(h){let{active:m}=h;o(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;e.onDragMove&&o(e.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;o(e.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;o(e.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;o(e.onDragCancel({active:m,over:g}))}}),[o,e])),!c)return null;const f=W.createElement(W.Fragment,null,W.createElement(Vj,{id:n,value:s.draggable}),W.createElement(Uj,{id:l,announcement:i}));return r?Ct.createPortal(f,r):f}var Fe;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Fe||(Fe={}));function Yo(){}function Ud(t,e){return u.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Xj(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return u.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Et=Object.freeze({x:0,y:0});function vm(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function xm(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function Jj(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function Hd(t){let{left:e,top:r,height:n,width:s}=t;return[{x:e,y:r},{x:e+s,y:r},{x:e,y:r+n},{x:e+s,y:r+n}]}function ym(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function zd(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const Qj=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=zd(e,e.left,e.top),o=[];for(const i of n){const{id:l}=i,c=r.get(l);if(c){const d=vm(zd(c),s);o.push({id:l,data:{droppableContainer:i,value:d}})}}return o.sort(xm)},Zj=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=Hd(e),o=[];for(const i of n){const{id:l}=i,c=r.get(l);if(c){const d=Hd(c),f=s.reduce((m,g,v)=>m+vm(d[v],g),0),h=Number((f/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:h}})}}return o.sort(xm)};function eC(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),i=s-n,l=o-r;if(n<s&&r<o){const c=e.width*e.height,d=t.width*t.height,f=i*l,h=f/(c+d-f);return Number(h.toFixed(4))}return 0}const tC=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=[];for(const o of n){const{id:i}=o,l=r.get(i);if(l){const c=eC(l,e);c>0&&s.push({id:i,data:{droppableContainer:o,value:c}})}}return s.sort(Jj)};function rC(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function bm(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Et}function nC(t){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((i,l)=>({...i,top:i.top+t*l.y,bottom:i.bottom+t*l.y,left:i.left+t*l.x,right:i.right+t*l.x}),{...r})}}const sC=nC(1);function oC(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function aC(t,e,r){const n=oC(e);if(!n)return t;const{scaleX:s,scaleY:o,x:i,y:l}=n,c=t.left-i-(1-s)*parseFloat(r),d=t.top-l-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),f=s?t.width/s:t.width,h=o?t.height/o:t.height;return{width:f,height:h,top:d,right:c+f,bottom:d+h,left:c}}const iC={ignoreTransform:!1};function Zn(t,e){e===void 0&&(e=iC);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=st(t).getComputedStyle(t);d&&(r=aC(r,d,f))}const{top:n,left:s,width:o,height:i,bottom:l,right:c}=r;return{top:n,left:s,width:o,height:i,bottom:l,right:c}}function Kd(t){return Zn(t,{ignoreTransform:!0})}function lC(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function cC(t,e){return e===void 0&&(e=st(t).getComputedStyle(t)),e.position==="fixed"}function dC(t,e){e===void 0&&(e=st(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?r.test(o):!1})}function Ra(t,e){const r=[];function n(s){if(e!=null&&r.length>=e||!s)return r;if(mc(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!Zs(s)||mm(s)||r.includes(s))return r;const o=st(t).getComputedStyle(s);return s!==t&&dC(s,o)&&r.push(s),cC(s,o)?r:n(s.parentNode)}return t?n(t):r}function wm(t){const[e]=Ra(t,1);return e??null}function yi(t){return!Da||!t?null:Jn(t)?t:fc(t)?mc(t)||t===Qn(t).scrollingElement?window:Zs(t)?t:null:null}function _m(t){return Jn(t)?t.scrollX:t.scrollLeft}function Sm(t){return Jn(t)?t.scrollY:t.scrollTop}function rl(t){return{x:_m(t),y:Sm(t)}}var Ue;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ue||(Ue={}));function jm(t){return!Da||!t?!1:t===document.scrollingElement}function Cm(t){const e={x:0,y:0},r=jm(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,i=t.scrollTop>=n.y,l=t.scrollLeft>=n.x;return{isTop:s,isLeft:o,isBottom:i,isRight:l,maxScroll:n,minScroll:e}}const uC={x:.2,y:.2};function hC(t,e,r,n,s){let{top:o,left:i,right:l,bottom:c}=r;n===void 0&&(n=10),s===void 0&&(s=uC);const{isTop:d,isBottom:f,isLeft:h,isRight:m}=Cm(t),g={x:0,y:0},v={x:0,y:0},p={height:e.height*s.y,width:e.width*s.x};return!d&&o<=e.top+p.height?(g.y=Ue.Backward,v.y=n*Math.abs((e.top+p.height-o)/p.height)):!f&&c>=e.bottom-p.height&&(g.y=Ue.Forward,v.y=n*Math.abs((e.bottom-p.height-c)/p.height)),!m&&l>=e.right-p.width?(g.x=Ue.Forward,v.x=n*Math.abs((e.right-p.width-l)/p.width)):!h&&i<=e.left+p.width&&(g.x=Ue.Backward,v.x=n*Math.abs((e.left+p.width-i)/p.width)),{direction:g,speed:v}}function fC(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:e,left:r,right:n,bottom:s}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:s,width:t.clientWidth,height:t.clientHeight}}function Pm(t){return t.reduce((e,r)=>Pn(e,rl(r)),Et)}function mC(t){return t.reduce((e,r)=>e+_m(r),0)}function pC(t){return t.reduce((e,r)=>e+Sm(r),0)}function gC(t,e){if(e===void 0&&(e=Zn),!t)return;const{top:r,left:n,bottom:s,right:o}=e(t);wm(t)&&(s<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const vC=[["x",["left","right"],mC],["y",["top","bottom"],pC]];class vc{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Ra(r),s=Pm(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,i,l]of vC)for(const c of i)Object.defineProperty(this,c,{get:()=>{const d=l(n),f=s[o]-d;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ys{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var s;(s=this.target)==null||s.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function xC(t){const{EventTarget:e}=st(t);return t instanceof e?t:Qn(t)}function bi(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var pt;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(pt||(pt={}));function qd(t){t.preventDefault()}function yC(t){t.stopPropagation()}var fe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(fe||(fe={}));const Nm={start:[fe.Space,fe.Enter],cancel:[fe.Esc],end:[fe.Space,fe.Enter,fe.Tab]},bC=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case fe.Right:return{...r,x:r.x+25};case fe.Left:return{...r,x:r.x-25};case fe.Down:return{...r,y:r.y+25};case fe.Up:return{...r,y:r.y-25}}};class xc{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new ys(Qn(r)),this.windowListeners=new ys(st(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pt.Resize,this.handleCancel),this.windowListeners.add(pt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&gC(n),r(Et)}handleKeyDown(e){if(gc(e)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:o=Nm,coordinateGetter:i=bC,scrollBehavior:l="smooth"}=s,{code:c}=e;if(o.end.includes(c)){this.handleEnd(e);return}if(o.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=n.current,f=d?{x:d.left,y:d.top}:Et;this.referenceCoordinates||(this.referenceCoordinates=f);const h=i(e,{active:r,context:n.current,currentCoordinates:f});if(h){const m=Os(h,f),g={x:0,y:0},{scrollableAncestors:v}=n.current;for(const p of v){const x=e.code,{isTop:y,isRight:b,isLeft:w,isBottom:_,maxScroll:S,minScroll:j}=Cm(p),C=fC(p),N={x:Math.min(x===fe.Right?C.right-C.width/2:C.right,Math.max(x===fe.Right?C.left:C.left+C.width/2,h.x)),y:Math.min(x===fe.Down?C.bottom-C.height/2:C.bottom,Math.max(x===fe.Down?C.top:C.top+C.height/2,h.y))},R=x===fe.Right&&!b||x===fe.Left&&!w,A=x===fe.Down&&!_||x===fe.Up&&!y;if(R&&N.x!==h.x){const P=p.scrollLeft+m.x,k=x===fe.Right&&P<=S.x||x===fe.Left&&P>=j.x;if(k&&!m.y){p.scrollTo({left:P,behavior:l});return}k?g.x=p.scrollLeft-P:g.x=x===fe.Right?p.scrollLeft-S.x:p.scrollLeft-j.x,g.x&&p.scrollBy({left:-g.x,behavior:l});break}else if(A&&N.y!==h.y){const P=p.scrollTop+m.y,k=x===fe.Down&&P<=S.y||x===fe.Up&&P>=j.y;if(k&&!m.x){p.scrollTo({top:P,behavior:l});return}k?g.y=p.scrollTop-P:g.y=x===fe.Down?p.scrollTop-S.y:p.scrollTop-j.y,g.y&&p.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(e,Pn(Os(h,this.referenceCoordinates),g))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}xc.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=Nm,onActivation:s}=e,{active:o}=r;const{code:i}=t.nativeEvent;if(n.start.includes(i)){const l=o.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function Gd(t){return!!(t&&"distance"in t)}function Yd(t){return!!(t&&"delay"in t)}class yc{constructor(e,r,n){var s;n===void 0&&(n=xC(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:o}=e,{target:i}=o;this.props=e,this.events=r,this.document=Qn(i),this.documentListeners=new ys(this.document),this.listeners=new ys(n),this.windowListeners=new ys(st(i)),this.initialCoordinates=(s=tl(o))!=null?s:Et,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(pt.Resize,this.handleCancel),this.windowListeners.add(pt.DragStart,qd),this.windowListeners.add(pt.VisibilityChange,this.handleCancel),this.windowListeners.add(pt.ContextMenu,qd),this.documentListeners.add(pt.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Yd(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Gd(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(pt.Click,yC,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pt.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!s)return;const c=(r=tl(e))!=null?r:Et,d=Os(s,c);if(!n&&l){if(Gd(l)){if(l.tolerance!=null&&bi(d,l.tolerance))return this.handleCancel();if(bi(d,l.distance))return this.handleStart()}if(Yd(l)&&bi(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),i(c)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===fe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const wC={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bc extends yc{constructor(e){const{event:r}=e,n=Qn(r.target);super(e,wC,n)}}bc.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const _C={move:{name:"mousemove"},end:{name:"mouseup"}};var nl;(function(t){t[t.RightClick=2]="RightClick"})(nl||(nl={}));class SC extends yc{constructor(e){super(e,_C,Qn(e.event.target))}}SC.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===nl.RightClick?!1:(n==null||n({event:r}),!0)}}];const wi={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class jC extends yc{constructor(e){super(e,wi)}static setup(){return window.addEventListener(wi.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(wi.move.name,e)};function e(){}}}jC.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var bs;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(bs||(bs={}));var Xo;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xo||(Xo={}));function CC(t){let{acceleration:e,activator:r=bs.Pointer,canScroll:n,draggingRect:s,enabled:o,interval:i=5,order:l=Xo.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:f,delta:h,threshold:m}=t;const g=NC({delta:h,disabled:!o}),[v,p]=Lj(),x=u.useRef({x:0,y:0}),y=u.useRef({x:0,y:0}),b=u.useMemo(()=>{switch(r){case bs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case bs.DraggableRect:return s}},[r,s,c]),w=u.useRef(null),_=u.useCallback(()=>{const j=w.current;if(!j)return;const C=x.current.x*y.current.x,N=x.current.y*y.current.y;j.scrollBy(C,N)},[]),S=u.useMemo(()=>l===Xo.TreeOrder?[...d].reverse():d,[l,d]);u.useEffect(()=>{if(!o||!d.length||!b){p();return}for(const j of S){if((n==null?void 0:n(j))===!1)continue;const C=d.indexOf(j),N=f[C];if(!N)continue;const{direction:R,speed:A}=hC(j,N,b,e,m);for(const P of["x","y"])g[P][R[P]]||(A[P]=0,R[P]=0);if(A.x>0||A.y>0){p(),w.current=j,v(_,i),x.current=A,y.current=R;return}}x.current={x:0,y:0},y.current={x:0,y:0},p()},[e,_,n,p,o,i,JSON.stringify(b),JSON.stringify(g),v,d,S,f,JSON.stringify(m)])}const PC={x:{[Ue.Backward]:!1,[Ue.Forward]:!1},y:{[Ue.Backward]:!1,[Ue.Forward]:!1}};function NC(t){let{delta:e,disabled:r}=t;const n=el(e);return eo(s=>{if(r||!n||!s)return PC;const o={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Ue.Backward]:s.x[Ue.Backward]||o.x===-1,[Ue.Forward]:s.x[Ue.Forward]||o.x===1},y:{[Ue.Backward]:s.y[Ue.Backward]||o.y===-1,[Ue.Forward]:s.y[Ue.Forward]||o.y===1}}},[r,e,n])}function kC(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return eo(s=>{var o;return e==null?null:(o=n??s)!=null?o:null},[n,e])}function EC(t,e){return u.useMemo(()=>t.reduce((r,n)=>{const{sensor:s}=n,o=s.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,n)}));return[...r,...o]},[]),[t,e])}var Ls;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Ls||(Ls={}));var sl;(function(t){t.Optimized="optimized"})(sl||(sl={}));const Xd=new Map;function TC(t,e){let{dragging:r,dependencies:n,config:s}=e;const[o,i]=u.useState(null),{frequency:l,measure:c,strategy:d}=s,f=u.useRef(t),h=x(),m=Ms(h),g=u.useCallback(function(y){y===void 0&&(y=[]),!m.current&&i(b=>b===null?y:b.concat(y.filter(w=>!b.includes(w))))},[m]),v=u.useRef(null),p=eo(y=>{if(h&&!r)return Xd;if(!y||y===Xd||f.current!==t||o!=null){const b=new Map;for(let w of t){if(!w)continue;if(o&&o.length>0&&!o.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const _=w.node.current,S=_?new vc(c(_),_):null;w.rect.current=S,S&&b.set(w.id,S)}return b}return y},[t,o,r,h,c]);return u.useEffect(()=>{f.current=t},[t]),u.useEffect(()=>{h||g()},[r,h]),u.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),u.useEffect(()=>{h||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{g(),v.current=null},l))},[l,h,g,...n]),{droppableRects:p,measureDroppableContainers:g,measuringScheduled:o!=null};function x(){switch(d){case Ls.Always:return!1;case Ls.BeforeDragging:return r;default:return!r}}}function km(t,e){return eo(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function DC(t,e){return km(t,e)}function RC(t){let{callback:e,disabled:r}=t;const n=pc(e),s=u.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return u.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Aa(t){let{callback:e,disabled:r}=t;const n=pc(e),s=u.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return u.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function AC(t){return new vc(Zn(t),t)}function Jd(t,e,r){e===void 0&&(e=AC);const[n,s]=u.useState(null);function o(){s(c=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=c??r)!=null?d:null}const f=e(t);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const i=RC({callback(c){if(t)for(const d of c){const{type:f,target:h}=d;if(f==="childList"&&h instanceof HTMLElement&&h.contains(t)){o();break}}}}),l=Aa({callback:o});return Ht(()=>{o(),t?(l==null||l.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[t]),n}function MC(t){const e=km(t);return bm(t,e)}const Qd=[];function OC(t){const e=u.useRef(t),r=eo(n=>t?n&&n!==Qd&&t&&e.current&&t.parentNode===e.current.parentNode?n:Ra(t):Qd,[t]);return u.useEffect(()=>{e.current=t},[t]),r}function IC(t){const[e,r]=u.useState(null),n=u.useRef(t),s=u.useCallback(o=>{const i=yi(o.target);i&&r(l=>l?(l.set(i,rl(i)),new Map(l)):null)},[]);return u.useEffect(()=>{const o=n.current;if(t!==o){i(o);const l=t.map(c=>{const d=yi(c);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,rl(d)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=t}return()=>{i(t),i(o)};function i(l){l.forEach(c=>{const d=yi(c);d==null||d.removeEventListener("scroll",s)})}},[s,t]),u.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,i)=>Pn(o,i),Et):Pm(t):Et,[t,e])}function Zd(t,e){e===void 0&&(e=[]);const r=u.useRef(null);return u.useEffect(()=>{r.current=null},e),u.useEffect(()=>{const n=t!==Et;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?Os(t,r.current):Et}function LC(t){u.useEffect(()=>{if(!Da)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function $C(t,e){return u.useMemo(()=>t.reduce((r,n)=>{let{eventName:s,handler:o}=n;return r[s]=i=>{o(i,e)},r},{}),[t,e])}function Em(t){return u.useMemo(()=>t?lC(t):null,[t])}const eu=[];function FC(t,e){e===void 0&&(e=Zn);const[r]=t,n=Em(r?st(r):null),[s,o]=u.useState(eu);function i(){o(()=>t.length?t.map(c=>jm(c)?n:new vc(e(c),c)):eu)}const l=Aa({callback:i});return Ht(()=>{l==null||l.disconnect(),i(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),s}function WC(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Zs(e)?e:t}function BC(t){let{measure:e}=t;const[r,n]=u.useState(null),s=u.useCallback(d=>{for(const{target:f}of d)if(Zs(f)){n(h=>{const m=e(f);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),o=Aa({callback:s}),i=u.useCallback(d=>{const f=WC(d);o==null||o.disconnect(),f&&(o==null||o.observe(f)),n(f?e(f):null)},[e,o]),[l,c]=Go(i);return u.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const VC=[{sensor:bc,options:{}},{sensor:xc,options:{}}],UC={current:{}},Eo={draggable:{measure:Kd},droppable:{measure:Kd,strategy:Ls.WhileDragging,frequency:sl.Optimized},dragOverlay:{measure:Zn}};class ws extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const HC={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ws,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Yo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Eo,measureDroppableContainers:Yo,windowRect:null,measuringScheduled:!1},zC={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Yo,draggableNodes:new Map,over:null,measureDroppableContainers:Yo},Ma=u.createContext(zC),Tm=u.createContext(HC);function KC(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ws}}}function qC(t,e){switch(e.type){case Fe.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Fe.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Fe.DragEnd:case Fe.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fe.RegisterDroppable:{const{element:r}=e,{id:n}=r,s=new ws(t.droppable.containers);return s.set(n,r),{...t,droppable:{...t.droppable,containers:s}}}case Fe.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=e,o=t.droppable.containers.get(r);if(!o||n!==o.key)return t;const i=new ws(t.droppable.containers);return i.set(r,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:i}}}case Fe.UnregisterDroppable:{const{id:r,key:n}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const o=new ws(t.droppable.containers);return o.delete(r),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function GC(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:s}=u.useContext(Ma),o=el(n),i=el(r==null?void 0:r.id);return u.useEffect(()=>{if(!e&&!n&&o&&i!=null){if(!gc(o)||document.activeElement===o.target)return;const l=s.get(i);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[c.current,d.current]){if(!f)continue;const h=Wj(f);if(h){h.focus();break}}})}},[n,e,s,i,o]),null}function YC(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...n}),r):r}function XC(t){return u.useMemo(()=>({draggable:{...Eo.draggable,...t==null?void 0:t.draggable},droppable:{...Eo.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Eo.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function JC(t){let{activeNode:e,measure:r,initialRect:n,config:s=!0}=t;const o=u.useRef(!1),{x:i,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Ht(()=>{if(!i&&!l||!e){o.current=!1;return}if(o.current||!n)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const f=r(d),h=bm(f,n);if(i||(h.x=0),l||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=wm(d);m&&m.scrollBy({top:h.y,left:h.x})}},[e,i,l,n,r])}const Dm=u.createContext({...Et,scaleX:1,scaleY:1});var br;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(br||(br={}));const QC=u.memo(function(e){var r,n,s,o;let{id:i,accessibility:l,autoScroll:c=!0,children:d,sensors:f=VC,collisionDetection:h=tC,measuring:m,modifiers:g,...v}=e;const p=u.useReducer(qC,void 0,KC),[x,y]=p,[b,w]=Kj(),[_,S]=u.useState(br.Uninitialized),j=_===br.Initialized,{draggable:{active:C,nodes:N,translate:R},droppable:{containers:A}}=x,P=C!=null?N.get(C):null,k=u.useRef({initial:null,translated:null}),T=u.useMemo(()=>{var Ne;return C!=null?{id:C,data:(Ne=P==null?void 0:P.data)!=null?Ne:UC,rect:k}:null},[C,P]),D=u.useRef(null),[H,L]=u.useState(null),[F,O]=u.useState(null),M=Ms(v,Object.values(v)),re=to("DndDescribedBy",i),K=u.useMemo(()=>A.getEnabled(),[A]),q=XC(m),{droppableRects:J,measureDroppableContainers:E,measuringScheduled:X}=TC(K,{dragging:j,dependencies:[R.x,R.y],config:q.droppable}),$=kC(N,C),U=u.useMemo(()=>F?tl(F):null,[F]),Z=ht(),ee=DC($,q.draggable.measure);JC({activeNode:C!=null?N.get(C):null,config:Z.layoutShiftCompensation,initialRect:ee,measure:q.draggable.measure});const z=Jd($,q.draggable.measure,ee),oe=Jd($?$.parentElement:null),te=u.useRef({activatorEvent:null,active:null,activeNode:$,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ye=A.getNodeFor((r=te.current.over)==null?void 0:r.id),je=BC({measure:q.dragOverlay.measure}),Oe=(n=je.nodeRef.current)!=null?n:$,Ae=j?(s=je.rect)!=null?s:z:null,B=!!(je.nodeRef.current&&je.rect),Ce=MC(B?null:z),ce=Em(Oe?st(Oe):null),Ie=OC(j?ye??$:null),Gt=FC(Ie),Yt=YC(g,{transform:{x:R.x-Ce.x,y:R.y-Ce.y,scaleX:1,scaleY:1},activatorEvent:F,active:T,activeNodeRect:z,containerNodeRect:oe,draggingNodeRect:Ae,over:te.current.over,overlayNodeRect:je.rect,scrollableAncestors:Ie,scrollableAncestorRects:Gt,windowRect:ce}),dt=U?Pn(U,R):null,ue=IC(Ie),ve=Zd(ue),qe=Zd(ue,[z]),Le=Pn(Yt,ve),Je=Ae?sC(Ae,Yt):null,We=T&&Je?h({active:T,collisionRect:Je,droppableRects:J,droppableContainers:K,pointerCoordinates:dt}):null,Fr=ym(We,"id"),[ut,rs]=u.useState(null),oo=B?Yt:Pn(Yt,qe),qa=rC(oo,(o=ut==null?void 0:ut.rect)!=null?o:null,z),Wr=u.useRef(null),yt=u.useCallback((Ne,Be)=>{let{sensor:Qe,options:cr}=Be;if(D.current==null)return;const ft=N.get(D.current);if(!ft)return;const ot=Ne.nativeEvent,Rt=new Qe({active:D.current,activeNode:ft,event:ot,options:cr,context:te,onAbort(He){if(!N.get(He))return;const{onDragAbort:At}=M.current,Xt={id:He};At==null||At(Xt),b({type:"onDragAbort",event:Xt})},onPending(He,dr,At,Xt){if(!N.get(He))return;const{onDragPending:ss}=M.current,ur={id:He,constraint:dr,initialCoordinates:At,offset:Xt};ss==null||ss(ur),b({type:"onDragPending",event:ur})},onStart(He){const dr=D.current;if(dr==null)return;const At=N.get(dr);if(!At)return;const{onDragStart:Xt}=M.current,ns={activatorEvent:ot,active:{id:dr,data:At.data,rect:k}};Ct.unstable_batchedUpdates(()=>{Xt==null||Xt(ns),S(br.Initializing),y({type:Fe.DragStart,initialCoordinates:He,active:dr}),b({type:"onDragStart",event:ns}),L(Wr.current),O(ot)})},onMove(He){y({type:Fe.DragMove,coordinates:He})},onEnd:un(Fe.DragEnd),onCancel:un(Fe.DragCancel)});Wr.current=Rt;function un(He){return async function(){const{active:At,collisions:Xt,over:ns,scrollAdjustedTranslate:ss}=te.current;let ur=null;if(At&&ss){const{cancelDrop:os}=M.current;ur={activatorEvent:ot,active:At,collisions:Xt,delta:ss,over:ns},He===Fe.DragEnd&&typeof os=="function"&&await Promise.resolve(os(ur))&&(He=Fe.DragCancel)}D.current=null,Ct.unstable_batchedUpdates(()=>{y({type:He}),S(br.Uninitialized),rs(null),L(null),O(null),Wr.current=null;const os=He===Fe.DragEnd?"onDragEnd":"onDragCancel";if(ur){const Ya=M.current[os];Ya==null||Ya(ur),b({type:os,event:ur})}})}}},[N]),Ga=u.useCallback((Ne,Be)=>(Qe,cr)=>{const ft=Qe.nativeEvent,ot=N.get(cr);if(D.current!==null||!ot||ft.dndKit||ft.defaultPrevented)return;const Rt={active:ot};Ne(Qe,Be.options,Rt)===!0&&(ft.dndKit={capturedBy:Be.sensor},D.current=cr,yt(Qe,Be))},[N,yt]),ne=EC(f,Ga);LC(f),Ht(()=>{z&&_===br.Initializing&&S(br.Initialized)},[z,_]),u.useEffect(()=>{const{onDragMove:Ne}=M.current,{active:Be,activatorEvent:Qe,collisions:cr,over:ft}=te.current;if(!Be||!Qe)return;const ot={active:Be,activatorEvent:Qe,collisions:cr,delta:{x:Le.x,y:Le.y},over:ft};Ct.unstable_batchedUpdates(()=>{Ne==null||Ne(ot),b({type:"onDragMove",event:ot})})},[Le.x,Le.y]),u.useEffect(()=>{const{active:Ne,activatorEvent:Be,collisions:Qe,droppableContainers:cr,scrollAdjustedTranslate:ft}=te.current;if(!Ne||D.current==null||!Be||!ft)return;const{onDragOver:ot}=M.current,Rt=cr.get(Fr),un=Rt&&Rt.rect.current?{id:Rt.id,rect:Rt.rect.current,data:Rt.data,disabled:Rt.disabled}:null,He={active:Ne,activatorEvent:Be,collisions:Qe,delta:{x:ft.x,y:ft.y},over:un};Ct.unstable_batchedUpdates(()=>{rs(un),ot==null||ot(He),b({type:"onDragOver",event:He})})},[Fr]),Ht(()=>{te.current={activatorEvent:F,active:T,activeNode:$,collisionRect:Je,collisions:We,droppableRects:J,draggableNodes:N,draggingNode:Oe,draggingNodeRect:Ae,droppableContainers:A,over:ut,scrollableAncestors:Ie,scrollAdjustedTranslate:Le},k.current={initial:Ae,translated:Je}},[T,$,We,Je,N,Oe,Ae,J,A,ut,Ie,Le]),CC({...Z,delta:R,draggingRect:Je,pointerCoordinates:dt,scrollableAncestors:Ie,scrollableAncestorRects:Gt});const Pe=u.useMemo(()=>({active:T,activeNode:$,activeNodeRect:z,activatorEvent:F,collisions:We,containerNodeRect:oe,dragOverlay:je,draggableNodes:N,droppableContainers:A,droppableRects:J,over:ut,measureDroppableContainers:E,scrollableAncestors:Ie,scrollableAncestorRects:Gt,measuringConfiguration:q,measuringScheduled:X,windowRect:ce}),[T,$,z,F,We,oe,je,N,A,J,ut,E,Ie,Gt,q,X,ce]),Se=u.useMemo(()=>({activatorEvent:F,activators:ne,active:T,activeNodeRect:z,ariaDescribedById:{draggable:re},dispatch:y,draggableNodes:N,over:ut,measureDroppableContainers:E}),[F,ne,T,z,y,re,N,ut,E]);return W.createElement(gm.Provider,{value:w},W.createElement(Ma.Provider,{value:Se},W.createElement(Tm.Provider,{value:Pe},W.createElement(Dm.Provider,{value:qa},d)),W.createElement(GC,{disabled:(l==null?void 0:l.restoreFocus)===!1})),W.createElement(Yj,{...l,hiddenTextDescribedById:re}));function ht(){const Ne=(H==null?void 0:H.autoScrollEnabled)===!1,Be=typeof c=="object"?c.enabled===!1:c===!1,Qe=j&&!Ne&&!Be;return typeof c=="object"?{...c,enabled:Qe}:{enabled:Qe}}}),ZC=u.createContext(null),tu="button",eP="Draggable";function tP(t){let{id:e,data:r,disabled:n=!1,attributes:s}=t;const o=to(eP),{activators:i,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:h,over:m}=u.useContext(Ma),{role:g=tu,roleDescription:v="draggable",tabIndex:p=0}=s??{},x=(c==null?void 0:c.id)===e,y=u.useContext(x?Dm:ZC),[b,w]=Go(),[_,S]=Go(),j=$C(i,e),C=Ms(r);Ht(()=>(h.set(e,{id:e,key:o,node:b,activatorNode:_,data:C}),()=>{const R=h.get(e);R&&R.key===o&&h.delete(e)}),[h,e]);const N=u.useMemo(()=>({role:g,tabIndex:p,"aria-disabled":n,"aria-pressed":x&&g===tu?!0:void 0,"aria-roledescription":v,"aria-describedby":f.draggable}),[n,g,p,x,v,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:N,isDragging:x,listeners:n?void 0:j,node:b,over:m,setNodeRef:w,setActivatorNodeRef:S,transform:y}}function rP(){return u.useContext(Tm)}const nP="Droppable",sP={timeout:25};function oP(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:s}=t;const o=to(nP),{active:i,dispatch:l,over:c,measureDroppableContainers:d}=u.useContext(Ma),f=u.useRef({disabled:r}),h=u.useRef(!1),m=u.useRef(null),g=u.useRef(null),{disabled:v,updateMeasurementsFor:p,timeout:x}={...sP,...s},y=Ms(p??n),b=u.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(y.current)?y.current:[y.current]),g.current=null},x)},[x]),w=Aa({callback:b,disabled:v||!i}),_=u.useCallback((N,R)=>{w&&(R&&(w.unobserve(R),h.current=!1),N&&w.observe(N))},[w]),[S,j]=Go(_),C=Ms(e);return u.useEffect(()=>{!w||!S.current||(w.disconnect(),h.current=!1,w.observe(S.current))},[S,w]),u.useEffect(()=>(l({type:Fe.RegisterDroppable,element:{id:n,key:o,disabled:r,node:S,rect:m,data:C}}),()=>l({type:Fe.UnregisterDroppable,key:o,id:n})),[n]),u.useEffect(()=>{r!==f.current.disabled&&(l({type:Fe.SetDroppableDisabled,id:n,key:o,disabled:r}),f.current.disabled=r)},[n,o,r,l]),{active:i,rect:m,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:j}}function wc(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function aP(t,e){return t.reduce((r,n,s)=>{const o=e.get(n);return o&&(r[s]=o),r},Array(t.length))}function wo(t){return t!==null&&t>=0}function iP(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function lP(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Rm=t=>{let{rects:e,activeIndex:r,overIndex:n,index:s}=t;const o=wc(e,n,r),i=e[s],l=o[s];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},_o={scaleX:1,scaleY:1},cP=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:s,rects:o,overIndex:i}=t;const l=(e=o[r])!=null?e:n;if(!l)return null;if(s===r){const d=o[i];return d?{x:0,y:r<i?d.top+d.height-(l.top+l.height):d.top-l.top,..._o}:null}const c=dP(o,s,r);return s>r&&s<=i?{x:0,y:-l.height-c,..._o}:s<r&&s>=i?{x:0,y:l.height+c,..._o}:{x:0,y:0,..._o}};function dP(t,e,r){const n=t[e],s=t[e-1],o=t[e+1];return n?r<e?s?n.top-(s.top+s.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const Am="Sortable",Mm=W.createContext({activeIndex:-1,containerId:Am,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Rm,disabled:{draggable:!1,droppable:!1}});function uP(t){let{children:e,id:r,items:n,strategy:s=Rm,disabled:o=!1}=t;const{active:i,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:f}=rP(),h=to(Am,r),m=l.rect!==null,g=u.useMemo(()=>n.map(j=>typeof j=="object"&&"id"in j?j.id:j),[n]),v=i!=null,p=i?g.indexOf(i.id):-1,x=d?g.indexOf(d.id):-1,y=u.useRef(g),b=!iP(g,y.current),w=x!==-1&&p===-1||b,_=lP(o);Ht(()=>{b&&v&&f(g)},[b,g,v,f]),u.useEffect(()=>{y.current=g},[g]);const S=u.useMemo(()=>({activeIndex:p,containerId:h,disabled:_,disableTransforms:w,items:g,overIndex:x,useDragOverlay:m,sortedRects:aP(g,c),strategy:s}),[p,h,_.draggable,_.droppable,w,g,x,c,m,s]);return W.createElement(Mm.Provider,{value:S},e)}const hP=t=>{let{id:e,items:r,activeIndex:n,overIndex:s}=t;return wc(r,n,s).indexOf(e)},fP=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:s,items:o,newIndex:i,previousItems:l,previousContainerId:c,transition:d}=t;return!d||!n||l!==o&&s===i?!1:r?!0:i!==s&&e===c},mP={duration:200,easing:"ease"},Om="transform",pP=Is.Transition.toString({property:Om,duration:0,easing:"linear"}),gP={roleDescription:"sortable"};function vP(t){let{disabled:e,index:r,node:n,rect:s}=t;const[o,i]=u.useState(null),l=u.useRef(r);return Ht(()=>{if(!e&&r!==l.current&&n.current){const c=s.current;if(c){const d=Zn(n.current,{ignoreTransform:!0}),f={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(f.x||f.y)&&i(f)}}r!==l.current&&(l.current=r)},[e,r,n,s]),u.useEffect(()=>{o&&i(null)},[o]),o}function xP(t){let{animateLayoutChanges:e=fP,attributes:r,disabled:n,data:s,getNewIndex:o=hP,id:i,strategy:l,resizeObserverConfig:c,transition:d=mP}=t;const{items:f,containerId:h,activeIndex:m,disabled:g,disableTransforms:v,sortedRects:p,overIndex:x,useDragOverlay:y,strategy:b}=u.useContext(Mm),w=yP(n,g),_=f.indexOf(i),S=u.useMemo(()=>({sortable:{containerId:h,index:_,items:f},...s}),[h,s,_,f]),j=u.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:C,node:N,isOver:R,setNodeRef:A}=oP({id:i,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...c}}),{active:P,activatorEvent:k,activeNodeRect:T,attributes:D,setNodeRef:H,listeners:L,isDragging:F,over:O,setActivatorNodeRef:M,transform:re}=tP({id:i,data:S,attributes:{...gP,...r},disabled:w.draggable}),K=Ij(A,H),q=!!P,J=q&&!v&&wo(m)&&wo(x),E=!y&&F,X=E&&J?re:null,U=J?X??(l??b)({rects:p,activeNodeRect:T,activeIndex:m,overIndex:x,index:_}):null,Z=wo(m)&&wo(x)?o({id:i,items:f,activeIndex:m,overIndex:x}):_,ee=P==null?void 0:P.id,z=u.useRef({activeId:ee,items:f,newIndex:Z,containerId:h}),oe=f!==z.current.items,te=e({active:P,containerId:h,isDragging:F,isSorting:q,id:i,index:_,items:f,newIndex:z.current.newIndex,previousItems:z.current.items,previousContainerId:z.current.containerId,transition:d,wasDragging:z.current.activeId!=null}),ye=vP({disabled:!te,index:_,node:N,rect:C});return u.useEffect(()=>{q&&z.current.newIndex!==Z&&(z.current.newIndex=Z),h!==z.current.containerId&&(z.current.containerId=h),f!==z.current.items&&(z.current.items=f)},[q,Z,h,f]),u.useEffect(()=>{if(ee===z.current.activeId)return;if(ee!=null&&z.current.activeId==null){z.current.activeId=ee;return}const Oe=setTimeout(()=>{z.current.activeId=ee},50);return()=>clearTimeout(Oe)},[ee]),{active:P,activeIndex:m,attributes:D,data:S,rect:C,index:_,newIndex:Z,items:f,isOver:R,isSorting:q,isDragging:F,listeners:L,node:N,overIndex:x,over:O,setNodeRef:K,setActivatorNodeRef:M,setDroppableNodeRef:A,setDraggableNodeRef:H,transform:ye??U,transition:je()};function je(){if(ye||oe&&z.current.newIndex===_)return pP;if(!(E&&!gc(k)||!d)&&(q||te))return Is.Transition.toString({...d,property:Om})}}function yP(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}function Jo(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const bP=[fe.Down,fe.Right,fe.Up,fe.Left],wP=(t,e)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:o,over:i,scrollableAncestors:l}}=e;if(bP.includes(t.code)){if(t.preventDefault(),!r||!n)return;const c=[];o.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=s.get(h.id);if(m)switch(t.code){case fe.Down:n.top<m.top&&c.push(h);break;case fe.Up:n.top>m.top&&c.push(h);break;case fe.Left:n.left>m.left&&c.push(h);break;case fe.Right:n.left<m.left&&c.push(h);break}});const d=Zj({active:r,collisionRect:n,droppableRects:s,droppableContainers:c,pointerCoordinates:null});let f=ym(d,"id");if(f===(i==null?void 0:i.id)&&d.length>1&&(f=d[1].id),f!=null){const h=o.get(r.id),m=o.get(f),g=m?s.get(m.id):null,v=m==null?void 0:m.node.current;if(v&&g&&h&&m){const x=Ra(v).some((j,C)=>l[C]!==j),y=Im(h,m),b=_P(h,m),w=x||!y?{x:0,y:0}:{x:b?n.width-g.width:0,y:b?n.height-g.height:0},_={x:g.left,y:g.top};return w.x&&w.y?_:Os(_,w)}}}};function Im(t,e){return!Jo(t)||!Jo(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function _P(t,e){return!Jo(t)||!Jo(e)||!Im(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const SP=({column:t,onVisibilityChange:e})=>{const{attributes:r,listeners:n,setNodeRef:s,transform:o,transition:i,isDragging:l}=xP({id:t.key}),c={transform:Is.Transform.toString(o),transition:i,opacity:l?.5:1},d=f=>f.replace(/([A-Z])/g," $1").replace(/^./,h=>h.toUpperCase()).replace(/_/g," ");return a.jsxs("div",{ref:s,style:c,className:"flex items-center space-x-3 p-3 bg-card rounded-lg border hover:bg-accent transition-colors",children:[a.jsx("div",{...r,...n,className:"cursor-grab active:cursor-grabbing p-1 hover:bg-muted rounded",children:a.jsx(_x,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(Ft,{checked:t.visible,onCheckedChange:f=>e(!!f),className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),a.jsx("span",{className:"flex-1 text-sm font-medium",children:d(t.key)}),a.jsx(As,{variant:t.visible?"default":"secondary",className:"text-xs",children:t.visible?"Visible":"Hidden"})]})},jP=({visibleColumns:t,onVisibilityChange:e,onColumnOrderChange:r})=>{const[n,s]=u.useState(!1),{columnPreferences:o,saveColumnPreferences:i,isLoading:l}=Gl(),[c,d]=u.useState([]),f=Xj(Ud(bc),Ud(xc,{coordinateGetter:wP})),h=["StockName","OptionName","ExpiryDate","DaysToExpiry","StrikePrice","Premium","NumberOfContractsBasedOnLimit","1_2_3_ProbOfWorthless_Weighted"],m=()=>["StockName","OptionName","ExpiryDate","FinancialReport","X-Day","Premium","PoW_Simulation_Mean_Earnings","100k_Invested_Loss_Mean","1_2_3_ProbOfWorthless_Weighted","ProbWorthless_Bayesian_IsoCal","1_ProbOfWorthless_Original","2_ProbOfWorthless_Calibrated","3_ProbOfWorthless_Historical_IV","Lower_Bound_at_Accuracy","LossAtBadDecline","LossAtWorstDecline","PoW_Stats_MedianLossPct","PoW_Stats_WorstLossPct","PoW_Stats_MedianLoss","PoW_Stats_WorstLoss","PoW_Stats_MedianProbOfWorthless","PoW_Stats_MinProbOfWorthless","PoW_Stats_MaxProbOfWorthless","LossAt100DayWorstDecline","LossAt_2008_100DayWorstDecline","Mean_Accuracy","Lower_Bound_HistMedianIV_at_Accuracy","Lower_Bound","Lower_Bound_HistMedianIV","Bid_Ask_Mid_Price","Option_Price_Min","NumberOfContractsBasedOnLimit","Bid","ProfitLossPctLeastBad","Loss_Least_Bad","IV_AllMedianIV_Maximum100DaysToExp_Ratio","StockPrice","DaysToExpiry","AskBidSpread","Underlying_Value","StrikePrice","StockPrice_After_2008_100DayWorstDecline","LossAt50DayWorstDecline","LossAt_2008_50DayWorstDecline","ProfitLossPctBad","ProfitLossPctWorst","ProfitLossPct100DayWorst","ImpliedVolatility","TodayStockMedianIV_Maximum100DaysToExp","AllMedianIV_Maximum100DaysToExp","ExpiryDate_Lower_Bound_Minus_Pct_Based_on_Accuracy","StrikeBelowLowerAtAcc","Ask","WorstHistoricalDecline","BadHistoricalDecline","ImpliedVolatilityUntilExpiry","StockPrice_After_100DayWorstDecline","StockPrice_After_50DayWorstDecline","StockPrice_After_2008_50DayWorstDecline","100DayMaxPrice","100DayMaxPriceDate","50DayMaxPrice","50DayMaxPriceDate","Historical100DaysWorstDecline","Historical50DaysWorstDecline","2008_100DaysWorstDecline","2008_50DaysWorstDecline","IV_ClosestToStrike","IV_UntilExpiryClosestToStrike","LowerBoundClosestToStrike","LowerBoundDistanceFromCurrentPrice","LowerBoundDistanceFromStrike","ImpliedDownPct","ToStrikePct","SafetyMultiple","SigmasToStrike","ProbAssignment","SafetyCategory","CushionMinusIVPct","PotentialLossAtLowerBound"];u.useEffect(()=>{const y=m(),b=new Map(o.map(_=>[_.key,_])),w=y.map((_,S)=>b.get(_)||{key:_,visible:h.includes(_),order:b.size+S});w.sort((_,S)=>{const j=b.has(_.key),C=b.has(S.key);return j&&C?_.order-S.order:j?-1:C?1:_.order-S.order}),d(w)},[o]);const g=y=>{const{active:b,over:w}=y;b.id!==(w==null?void 0:w.id)&&d(_=>{const S=_.findIndex(N=>N.key===b.id),j=_.findIndex(N=>N.key===(w==null?void 0:w.id));return wc(_,S,j).map((N,R)=>({...N,order:R}))})},v=(y,b)=>{d(w=>w.map(_=>_.key===y?{..._,visible:b}:_))},p=async()=>{await i(c);const y=c.filter(b=>b.visible).sort((b,w)=>b.order-w.order).map(b=>b.key);r(y),s(!1)},x=c.filter(y=>y.visible).length;return a.jsxs(Ea,{open:n,onOpenChange:s,children:[a.jsx(Ta,{asChild:!0,children:a.jsxs(Q,{variant:"outline",size:"sm",className:"ml-2",children:[a.jsx(Sl,{className:"h-4 w-4 mr-1"}),"Columns (",x,")"]})}),a.jsxs(Qs,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs(cc,{children:[a.jsx(dc,{children:"Manage Table Columns"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag to reorder columns and check/uncheck to show/hide them. Click Save to persist your preferences."})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:!l&&c.length>0&&a.jsx(QC,{sensors:f,collisionDetection:Qj,onDragEnd:g,children:a.jsx(uP,{items:c.map(y=>y.key),strategy:cP,children:c.sort((y,b)=>y.order-b.order).map(y=>a.jsx(SP,{column:y,onVisibilityChange:b=>v(y.key,b)},y.key))})})}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:[x," of ",c.length," columns visible"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Q,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(Q,{onClick:p,disabled:l,children:[a.jsx(Cx,{className:"h-4 w-4 mr-1"}),"Save Preferences"]})]})]})]})]})},Lm=({data:t,onRowClick:e,onStockClick:r,columnFilters:n=[],onColumnFiltersChange:s=()=>{},sortField:o,sortDirection:i,onSortChange:l,enableFiltering:c=!0})=>{const{columnPreferences:d,isLoading:f}=Gl(),[h,m]=u.useState([]),[g,v]=u.useState(null),p=u.useRef(null),x=["StockName","OptionName","ExpiryDate","DaysToExpiry","StrikePrice","Premium","NumberOfContractsBasedOnLimit","1_2_3_ProbOfWorthless_Weighted"];u.useEffect(()=>{if(!f)if(d.length>0){const P=d.filter(k=>k.visible).sort((k,T)=>k.order-T.order).map(k=>k.key);m(P)}else m(x)},[d,f]),u.useEffect(()=>{const P=k=>{p.current&&!p.current.contains(k.target)&&v(null)};if(g&&c)return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[g,c]);const y=P=>{if(P==="recalculatedNumberOfContracts")return"Number Of Contracts";const k={IV_ClosestToStrike:"IV Closest To Strike",IV_UntilExpiryClosestToStrike:"IV Until Expiry Closest To Strike",LowerBoundClosestToStrike:"Lower Bound Closest To Strike",LowerBoundDistanceFromCurrentPrice:"Lower Bound Distance From Current Price",LowerBoundDistanceFromStrike:"Lower Bound Distance From Strike",ImpliedDownPct:"Implied Down %",ToStrikePct:"To Strike %",SafetyMultiple:"Safety Multiple",SigmasToStrike:"Sigmas To Strike",ProbAssignment:"Prob Assignment",SafetyCategory:"Safety Category",CushionMinusIVPct:"Cushion Minus IV %",PotentialLossAtLowerBound:"Potential Loss At IV Lower Bound"};return k[P]?k[P]:P.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^\w/,T=>T.toUpperCase()).replace(/\b\w/g,T=>T.toUpperCase())},b=P=>{o===P?l(P,i==="asc"?"desc":"asc"):l(P,"asc")},w=[...t].sort((P,k)=>{if(!o)return 0;const T=P[o],D=k[o];if(typeof T=="number"&&typeof D=="number")return i==="asc"?T-D:D-T;const H=String(T).toLowerCase(),L=String(D).toLowerCase();return i==="asc"?H.localeCompare(L):L.localeCompare(H)}),_=P=>t.length===0?"text":typeof t[0][P]=="number"?"number":"text",S=c?w.filter(P=>n.every(k=>{const T=P[k.field];return k.type==="text"?k.textValue?String(T).toLowerCase().includes(k.textValue.toLowerCase()):!0:typeof T!="number"?!0:!(k.minValue!==void 0&&T<k.minValue||k.maxValue!==void 0&&T>k.maxValue)})):w,j=(P,k)=>{if(!c)return;const T=n,D=T.findIndex(F=>F.field===P),H=_(P);let L;if(D>=0){const F=[...T];F[D]={...F[D],...k},H==="text"&&!F[D].textValue?L=F.filter((O,M)=>M!==D):H==="number"&&F[D].minValue===void 0&&F[D].maxValue===void 0?L=F.filter((O,M)=>M!==D):L=F}else H==="text"&&!k.textValue||H==="number"&&k.minValue===void 0&&k.maxValue===void 0?L=T:L=[...T,{field:P,type:H,...k}];s(L)},C=P=>n.find(k=>k.field===P),N=(P,k)=>Mo(P,k),R=(P,k)=>{k?h.includes(P)||m(T=>[...T,P]):m(T=>T.filter(D=>D!==P))},A=P=>{m(P)};return a.jsx(ma,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Click on column headers to filter"})]}),a.jsx(jP,{visibleColumns:h,onVisibilityChange:R,onColumnOrderChange:A})]}),a.jsxs(Rf,{className:"w-full whitespace-nowrap rounded-md border",children:[a.jsxs(Yl,{children:[a.jsx(Xl,{children:a.jsx(Ds,{children:h.map(P=>{const k=_(P),T=C(P),D=!!T;return a.jsx(Mt,{className:P==="StockName"?"w-28 max-w-28":"min-w-[120px]",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(Q,{variant:"ghost",onClick:()=>b(P),className:"h-8 p-0 font-medium",title:y(P),children:[y(P)," ",a.jsx(Ao,{className:"ml-1 h-3 w-3"})]}),P==="OptionName"&&a.jsxs(Wo,{children:[a.jsx(Bo,{asChild:!0,children:a.jsx(ar,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(Ns,{side:"top",className:"max-w-xs",children:a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsx("div",{className:"font-medium"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),a.jsx("span",{children:"Financial Report"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),a.jsx("span",{children:"Ex-Dividend Day"})]})]})})]}),P==="PotentialLossAtLowerBound"&&a.jsxs(Wo,{children:[a.jsx(Bo,{asChild:!0,children:a.jsx(ar,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(Ns,{side:"top",align:"center",sideOffset:5,className:"z-[9999] border bg-popover text-popover-foreground shadow-md !max-w-none !w-auto",style:{width:"auto",minWidth:"max-content",maxWidth:"none",whiteSpace:"normal"},children:a.jsxs("div",{className:"text-xs leading-relaxed p-3",style:{width:"auto",minWidth:"max-content"},children:[a.jsx("div",{className:"font-medium mb-2",children:"How this field is calculated:"}),a.jsx("div",{className:"mb-2",children:"This field represents the maximum potential loss if the stock price falls to its IV-based lower bound at expiration."}),a.jsx("div",{className:"mb-2 font-mono text-xs bg-muted/50 p-2 rounded",children:"Premium + (LowerBoundValue × Contracts × 100) - (StrikePrice × Contracts × 100)"}),a.jsx("div",{children:"The lower bound is derived from implied volatility analysis to estimate worst-case scenarios for the option position."})]})})]})]}),c&&a.jsxs("div",{className:"relative",children:[a.jsxs(Q,{variant:D?"default":"outline",size:"sm",onClick:()=>v(g===P?null:P),className:"h-6 w-full text-xs",children:[a.jsx(Kc,{className:"h-3 w-3 mr-1"}),D?"Filtered":"Filter"]}),g===P&&a.jsxs("div",{ref:p,className:"absolute top-8 left-0 z-50 bg-background border rounded-md shadow-md p-2 min-w-48",children:[k==="text"?a.jsx(ze,{placeholder:"Search...",value:(T==null?void 0:T.textValue)||"",onChange:H=>j(P,{textValue:H.target.value.slice(0,100)}),className:"h-8",maxLength:100,autoFocus:!0}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{type:"number",placeholder:"Min value",value:(T==null?void 0:T.minValue)||"",onChange:H=>{const L=H.target.value,F=L?parseFloat(L):void 0;(F===void 0||!isNaN(F)&&isFinite(F))&&j(P,{minValue:F})},className:"h-8"}),a.jsx(ze,{type:"number",placeholder:"Max value",value:(T==null?void 0:T.maxValue)||"",onChange:H=>{const L=H.target.value,F=L?parseFloat(L):void 0;(F===void 0||!isNaN(F)&&isFinite(F))&&j(P,{maxValue:F})},className:"h-8"})]}),a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{j(P,k==="text"?{textValue:""}:{minValue:void 0,maxValue:void 0}),v(null)},className:"mt-2 h-6 w-full text-xs",children:"Clear"})]})]})]})},P)})})}),a.jsx(Jl,{children:S.map((P,k)=>a.jsx(Ds,{className:"hover:bg-muted/50",children:h.map(T=>{const D=()=>T!=="OptionName"?"":P.FinancialReport==="Y"?"text-orange-600 dark:text-orange-400":P["X-Day"]&&String(P["X-Day"]).toUpperCase()==="Y"?"text-red-600 dark:text-red-400":"text-primary";return a.jsx(Ot,{className:`${T==="StockName"?"w-28 max-w-28 truncate":"min-w-[120px]"} ${T==="OptionName"||T==="StockName"?"cursor-pointer hover:bg-accent/50 transition-colors":""}`,onClick:T==="OptionName"?()=>e==null?void 0:e(P):T==="StockName"?()=>r==null?void 0:r(P.StockName):void 0,children:T==="OptionName"?a.jsx("span",{className:`font-medium ${D()} hover:opacity-80 transition-all`,children:N(P[T],T)}):T==="StockName"?a.jsx("span",{className:"font-medium text-secondary-foreground hover:text-primary transition-colors",children:N(P[T],T)}):N(P[T],T)},T)})},`${P.StockName}-${P.OptionName}-${k}`))})]}),a.jsx(rc,{orientation:"horizontal"})]})]})})},me=u.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));me.displayName="Card";const we=u.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Y("flex flex-col space-y-1.5 p-6",t),...e}));we.displayName="CardHeader";const _e=u.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:Y("text-2xl font-semibold leading-none tracking-tight",t),...e}));_e.displayName="CardTitle";const CP=u.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:Y("text-sm text-muted-foreground",t),...e}));CP.displayName="CardDescription";const pe=u.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Y("p-6 pt-0",t),...e}));pe.displayName="CardContent";const PP=u.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Y("flex items-center p-6 pt-0",t),...e}));PP.displayName="CardFooter";function NP(t,e=[]){let r=[];function n(o,i){const l=u.createContext(i),c=r.length;r=[...r,i];function d(h){const{scope:m,children:g,...v}=h,p=(m==null?void 0:m[t][c])||l,x=u.useMemo(()=>v,Object.values(v));return a.jsx(p.Provider,{value:x,children:g})}function f(h,m){const g=(m==null?void 0:m[t][c])||l,v=u.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,f]}const s=()=>{const o=r.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,kP(s,...e)]}function kP(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var _i="rovingFocusGroup.onEntryFocus",EP={bubbles:!1,cancelable:!0},Oa="RovingFocusGroup",[ol,$m,TP]=Us(Oa),[DP,Ia]=NP(Oa,[TP]),[RP,AP]=DP(Oa),Fm=u.forwardRef((t,e)=>a.jsx(ol.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(ol.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(MP,{...t,ref:e})})}));Fm.displayName=Oa;var MP=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=t,m=u.useRef(null),g=se(e,m),v=Xn(o),[p=null,x]=Vt({prop:i,defaultProp:l,onChange:c}),[y,b]=u.useState(!1),w=Re(d),_=$m(r),S=u.useRef(!1),[j,C]=u.useState(0);return u.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(_i,w),()=>N.removeEventListener(_i,w)},[w]),a.jsx(RP,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:p,onItemFocus:u.useCallback(N=>x(N),[x]),onItemShiftTab:u.useCallback(()=>b(!0),[]),onFocusableItemAdd:u.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:u.useCallback(()=>C(N=>N-1),[]),children:a.jsx(G.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:V(t.onMouseDown,()=>{S.current=!0}),onFocus:V(t.onFocus,N=>{const R=!S.current;if(N.target===N.currentTarget&&R&&!y){const A=new CustomEvent(_i,EP);if(N.currentTarget.dispatchEvent(A),!A.defaultPrevented){const P=_().filter(L=>L.focusable),k=P.find(L=>L.active),T=P.find(L=>L.id===p),H=[k,T,...P].filter(Boolean).map(L=>L.ref.current);Vm(H,f)}}S.current=!1}),onBlur:V(t.onBlur,()=>b(!1))})})}),Wm="RovingFocusGroupItem",Bm=u.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=t,l=Pt(),c=o||l,d=AP(Wm,r),f=d.currentTabStopId===c,h=$m(r),{onFocusableItemAdd:m,onFocusableItemRemove:g}=d;return u.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(ol.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(G.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:e,onMouseDown:V(t.onMouseDown,v=>{n?d.onItemFocus(c):v.preventDefault()}),onFocus:V(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:V(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=LP(v,d.orientation,d.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const b=y.indexOf(v.currentTarget);y=d.loop?$P(y,b+1):y.slice(b+1)}setTimeout(()=>Vm(y))}})})})});Bm.displayName=Wm;var OP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IP(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function LP(t,e,r){const n=IP(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return OP[n]}function Vm(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function $P(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Um=Fm,Hm=Bm,_c="Tabs",[FP,eT]=zt(_c,[Ia]),zm=Ia(),[WP,Sc]=FP(_c),Km=u.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=Xn(l),[h,m]=Vt({prop:n,onChange:s,defaultProp:o});return a.jsx(WP,{scope:r,baseId:Pt(),value:h,onValueChange:m,orientation:i,dir:f,activationMode:c,children:a.jsx(G.div,{dir:f,"data-orientation":i,...d,ref:e})})});Km.displayName=_c;var qm="TabsList",Gm=u.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=Sc(qm,r),i=zm(r);return a.jsx(Um,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(G.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});Gm.displayName=qm;var Ym="TabsTrigger",Xm=u.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,i=Sc(Ym,r),l=zm(r),c=Zm(i.baseId,n),d=ep(i.baseId,n),f=n===i.value;return a.jsx(Hm,{asChild:!0,...l,focusable:!s,active:f,children:a.jsx(G.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:V(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:V(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:V(t.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(n)})})})});Xm.displayName=Ym;var Jm="TabsContent",Qm=u.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=t,l=Sc(Jm,r),c=Zm(l.baseId,n),d=ep(l.baseId,n),f=n===l.value,h=u.useRef(f);return u.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Xe,{present:s||f,children:({present:m})=>a.jsx(G.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});Qm.displayName=Jm;function Zm(t,e){return`${t}-trigger-${e}`}function ep(t,e){return`${t}-content-${e}`}var BP=Km,tp=Gm,rp=Xm,np=Qm;const jc=BP,La=u.forwardRef(({className:t,...e},r)=>a.jsx(tp,{ref:r,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));La.displayName=tp.displayName;const rn=u.forwardRef(({className:t,...e},r)=>a.jsx(rp,{ref:r,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));rn.displayName=rp.displayName;const nn=u.forwardRef(({className:t,...e},r)=>a.jsx(np,{ref:r,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));nn.displayName=np.displayName;var VP="Label",sp=u.forwardRef((t,e)=>a.jsx(G.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));sp.displayName=VP;var op=sp;const UP=aa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=u.forwardRef(({className:t,...e},r)=>a.jsx(op,{ref:r,className:Y(UP(),t),...e}));De.displayName=op.displayName;const HP=({data:t})=>{const[e,r]=u.useState(["ProbWorthless_Bayesian_IsoCal"]),n=[{value:"1_2_3_ProbOfWorthless_Weighted",label:"1_2_3_ProbOfWorthless_Weighted"},{value:"ProbWorthless_Bayesian_IsoCal",label:"ProbWorthless_Bayesian_IsoCal"},{value:"1_ProbOfWorthless_Original",label:"1_ProbOfWorthless_Original"},{value:"2_ProbOfWorthless_Calibrated",label:"2_ProbOfWorthless_Calibrated"},{value:"3_ProbOfWorthless_Historical_IV",label:"3_ProbOfWorthless_Historical_IV"}],s=["#2563eb","#dc2626","#16a34a","#ca8a04","#9333ea"],o=t.map(d=>{const f={name:d.OptionName,x:d.Premium,z:d.DaysToExpiry,stockName:d.StockName};return e.forEach(h=>{f[h]=d[h]}),f}),i=t.reduce((d,f)=>{const h=f.ProbWorthless_Bayesian_IsoCal??f["1_2_3_ProbOfWorthless_Weighted"],m=h<=.6?"High Risk":h<.8?"Medium Risk":"Low Risk";return d[m]=(d[m]||0)+1,d},{}),l=Object.entries(i).map(([d,f])=>({risk:d,count:f})),c=d=>{r(f=>f.includes(d)?f.filter(h=>h!==d):[...f,d])};return a.jsxs(jc,{defaultValue:"scatter",className:"w-full",children:[a.jsxs(La,{className:"grid w-full grid-cols-2",children:[a.jsx(rn,{value:"scatter",children:"Risk vs Premium"}),a.jsx(rn,{value:"distribution",children:"Risk Distribution"})]}),a.jsx(nn,{value:"scatter",children:a.jsxs(me,{children:[a.jsxs(we,{className:"space-y-4",children:[a.jsx(_e,{children:"Premium vs Probability of Worthless"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{children:"Select Probability Fields:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:n.map(d=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ft,{id:d.value,checked:e.includes(d.value),onCheckedChange:()=>c(d.value)}),a.jsx("label",{htmlFor:d.value,className:"text-sm cursor-pointer",children:d.label})]},d.value))})]})]}),a.jsx(pe,{children:a.jsx(In,{width:"100%",height:400,children:a.jsxs(Su,{data:o,margin:{top:20,right:20,bottom:20,left:20},children:[a.jsx(_s,{strokeDasharray:"3 3"}),a.jsx(Qr,{type:"number",dataKey:"x",name:"Premium",domain:["dataMin","dataMax"]}),a.jsx(Er,{type:"number",name:"Prob of Worthless",tickFormatter:d=>`${(d*100).toFixed(0)}%`}),a.jsx(Zr,{content:({active:d,payload:f})=>{if(d&&f&&f.length>0){const h=f[0].payload;return a.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[a.jsxs("div",{className:"font-semibold text-foreground mb-2",children:[h.stockName," - ",h.name]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Premium:"})," ",Number(h.x).toLocaleString()]}),e.map(m=>a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"font-medium",children:[m,":"]})," ",(Number(h[m])*100).toFixed(2),"%"]},m)),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Days to Expiry:"})," ",h.z]})]})]})}return null}}),a.jsx(Pi,{}),e.map((d,f)=>a.jsx(ju,{name:d,dataKey:d,fill:s[f%s.length]},d))]})})})]})}),a.jsx(nn,{value:"distribution",children:a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Options Risk Distribution"})}),a.jsx(pe,{children:a.jsx(In,{width:"100%",height:400,children:a.jsxs(Cu,{data:l,children:[a.jsx(_s,{strokeDasharray:"3 3"}),a.jsx(Qr,{dataKey:"risk"}),a.jsx(Er,{}),a.jsx(Zr,{}),a.jsx(pl,{dataKey:"count",fill:"hsl(var(--primary))"})]})})})]})})]})},zP=()=>{const[t,e]=u.useState([]),[r,n]=u.useState(!1),[s,o]=u.useState(null),i=u.useCallback(async d=>{console.log("📥 Loading CSV:",d),n(!0),o(null);const f=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/${d}?${Date.now()}`,`https://raw.githubusercontent.com/datamilo/put-options-se/main/public/data/${d}?${Date.now()}`,`${window.location.origin}/put-options-sedata/${d}?${Date.now()}`];let h=null;for(const m of f)try{console.log("🔗 Trying URL:",m);const g=await fetch(m);if(!g.ok)throw new Error(`Failed to fetch CSV: ${g.status} ${g.statusText}`);const v=await g.text();if(!v||v.trim().length===0)throw new Error("Empty CSV file received");console.log("✅ Successfully loaded CSV from:",m);const p=await new Promise((x,y)=>{Ln.parse(v,{header:!0,skipEmptyLines:!0,transformHeader:b=>b.trim(),transform:(b,w)=>{if(typeof w=="string"&&["X-Day","Premium","PoW_Simulation_Mean_Earnings","100k_Invested_Loss_Mean","1_2_3_ProbOfWorthless_Weighted","ProbWorthless_Bayesian_IsoCal","1_ProbOfWorthless_Original","2_ProbOfWorthless_Calibrated","3_ProbOfWorthless_Historical_IV","Lower_Bound_at_Accuracy","LossAtBadDecline","LossAtWorstDecline","PoW_Stats_MedianLossPct","PoW_Stats_WorstLossPct","PoW_Stats_MedianLoss","PoW_Stats_WorstLoss","PoW_Stats_MedianProbOfWorthless","PoW_Stats_MinProbOfWorthless","PoW_Stats_MaxProbOfWorthless","LossAt100DayWorstDecline","LossAt_2008_100DayWorstDecline","Mean_Accuracy","Lower_Bound_HistMedianIV_at_Accuracy","Lower_Bound","Lower_Bound_HistMedianIV","Bid_Ask_Mid_Price","Option_Price_Min","NumberOfContractsBasedOnLimit","Bid","ProfitLossPctLeastBad","Loss_Least_Bad","IV_AllMedianIV_Maximum100DaysToExp_Ratio","StockPrice","DaysToExpiry","AskBidSpread","Underlying_Value","StrikePrice","StockPrice_After_2008_100DayWorstDecline","LossAt50DayWorstDecline","LossAt_2008_50DayWorstDecline","ProfitLossPctBad","ProfitLossPctWorst","ProfitLossPct100DayWorst","ImpliedVolatility","TodayStockMedianIV_Maximum100DaysToExp","AllMedianIV_Maximum100DaysToExp","ExpiryDate_Lower_Bound_Minus_Pct_Based_on_Accuracy","Ask","WorstHistoricalDecline","BadHistoricalDecline","ImpliedVolatilityUntilExpiry","StockPrice_After_100DayWorstDecline","StockPrice_After_50DayWorstDecline","StockPrice_After_2008_50DayWorstDecline","100DayMaxPrice","50DayMaxPrice","Historical100DaysWorstDecline","Historical50DaysWorstDecline","2008_100DaysWorstDecline","2008_50DaysWorstDecline"].includes(w)){const S=parseFloat(b);return isNaN(S)?null:S}return b},complete:b=>{if(b.errors.length>0){console.warn("CSV parsing warnings:",b.errors);const w=b.errors.filter(_=>_.type==="Delimiter"||_.type==="Quotes");if(w.length>0){y(new Error(`CSV parsing errors: ${w.map(_=>_.message).join(", ")}`));return}}b.data&&b.data.length>0?(console.log(`✅ Parsed ${b.data.length} rows from CSV`),x(b.data)):(console.warn("No data found in CSV, trying next URL..."),y(new Error("No data found in CSV")))},error:b=>{y(new Error(`Failed to parse CSV: ${b.message}`))}})});e(p),n(!1);return}catch(g){console.warn(`❌ Failed to load from ${m}:`,g),h=g;continue}console.warn("❌ All CSV loading attempts failed, using mock data"),o(`Failed to load data from any source. Last error: ${h==null?void 0:h.message}`),c(),n(!1)},[]),l=u.useCallback(d=>{n(!0),o(null),Ln.parse(d,{header:!0,skipEmptyLines:!0,transformHeader:f=>f.trim(),transform:(f,h)=>{if(typeof h=="string"&&["X-Day","Premium","PoW_Simulation_Mean_Earnings","100k_Invested_Loss_Mean","1_2_3_ProbOfWorthless_Weighted","ProbWorthless_Bayesian_IsoCal","1_ProbOfWorthless_Original","2_ProbOfWorthless_Calibrated","3_ProbOfWorthless_Historical_IV","Lower_Bound_at_Accuracy","LossAtBadDecline","LossAtWorstDecline","PoW_Stats_MedianLossPct","PoW_Stats_WorstLossPct","PoW_Stats_MedianLoss","PoW_Stats_WorstLoss","PoW_Stats_MedianProbOfWorthless","PoW_Stats_MinProbOfWorthless","PoW_Stats_MaxProbOfWorthless","LossAt100DayWorstDecline","LossAt_2008_100DayWorstDecline","Mean_Accuracy","Lower_Bound_HistMedianIV_at_Accuracy","Lower_Bound","Lower_Bound_HistMedianIV","Bid_Ask_Mid_Price","Option_Price_Min","NumberOfContractsBasedOnLimit","Bid","ProfitLossPctLeastBad","Loss_Least_Bad","IV_AllMedianIV_Maximum100DaysToExp_Ratio","StockPrice","DaysToExpiry","AskBidSpread","Underlying_Value","StrikePrice","StockPrice_After_2008_100DayWorstDecline","LossAt50DayWorstDecline","LossAt_2008_50DayWorstDecline","ProfitLossPctBad","ProfitLossPctWorst","ProfitLossPct100DayWorst","ImpliedVolatility","TodayStockMedianIV_Maximum100DaysToExp","AllMedianIV_Maximum100DaysToExp","ExpiryDate_Lower_Bound_Minus_Pct_Based_on_Accuracy","Ask","WorstHistoricalDecline","BadHistoricalDecline","ImpliedVolatilityUntilExpiry","StockPrice_After_100DayWorstDecline","StockPrice_After_50DayWorstDecline","StockPrice_After_2008_50DayWorstDecline","100DayMaxPrice","50DayMaxPrice","Historical100DaysWorstDecline","Historical50DaysWorstDecline","2008_100DaysWorstDecline","2008_50DaysWorstDecline"].includes(h)){const g=parseFloat(f);return isNaN(g)?null:g}return f},complete:f=>{f.errors.length>0?o(`CSV parsing errors: ${f.errors.map(h=>h.message).join(", ")}`):e(f.data),n(!1)},error:f=>{o(`Failed to parse CSV: ${f.message}`),n(!1)}})},[]),c=u.useCallback(()=>{console.log("📦 Loading mock data..."),e([{StockName:"AAK AB",OptionName:"AAK5T240",Premium:250,ExpiryDate:"2024-12-15","1_2_3_ProbOfWorthless_Weighted":.898455,ProbWorthless_Bayesian_IsoCal:.810947,"1_ProbOfWorthless_Original":.884279,"2_ProbOfWorthless_Calibrated":.85,"3_ProbOfWorthless_Historical_IV":.12,Lower_Bound_at_Accuracy:.75,LossAtBadDecline:-21150,LossAtWorstDecline:-25e3,PoW_Stats_MedianLossPct:.15,PoW_Stats_WorstLossPct:.25,PoW_Stats_MedianLoss:-18e3,PoW_Stats_WorstLoss:-3e4,PoW_Stats_MedianProbOfWorthless:.82,PoW_Stats_MinProbOfWorthless:.75,PoW_Stats_MaxProbOfWorthless:.95,LossAt100DayWorstDecline:-22e3,LossAt_2008_100DayWorstDecline:-45e3,Mean_Accuracy:.78,Lower_Bound_HistMedianIV_at_Accuracy:.22,Lower_Bound:195,Lower_Bound_HistMedianIV:.21,Bid_Ask_Mid_Price:248,Option_Price_Min:240,NumberOfContractsBasedOnLimit:400,Bid:245,ProfitLossPctLeastBad:.02,Loss_Least_Bad:-5e3,IV_AllMedianIV_Maximum100DaysToExp_Ratio:1.15,StockPrice:280,DaysToExpiry:45,AskBidSpread:10,Underlying_Value:280,StrikePrice:290,StockPrice_After_2008_100DayWorstDecline:220,LossAt50DayWorstDecline:-21150,LossAt_2008_50DayWorstDecline:-48910,ProfitLossPctBad:.02,ProfitLossPctWorst:.01,ProfitLossPct100DayWorst:.021,ImpliedVolatility:.298041,TodayStockMedianIV_Maximum100DaysToExp:.22951,AllMedianIV_Maximum100DaysToExp:.216361,ExpiryDate_Lower_Bound_Minus_Pct_Based_on_Accuracy:.2,StrikeBelowLowerAtAcc:"Y",Ask:255,"X-Day":0,PoW_Simulation_Mean_Earnings:12e3,"100k_Invested_Loss_Mean":-15e3,WorstHistoricalDecline:-.45,BadHistoricalDecline:-.35,ImpliedVolatilityUntilExpiry:.298,StockPrice_After_100DayWorstDecline:210,StockPrice_After_50DayWorstDecline:215,StockPrice_After_2008_50DayWorstDecline:180,"100DayMaxPrice":320,"50DayMaxPrice":310,Historical100DaysWorstDecline:-.42,Historical50DaysWorstDecline:-.38,"2008_100DaysWorstDecline":-.55,"2008_50DaysWorstDecline":-.52}])},[]);return u.useEffect(()=>{let d=!0;return(async()=>{if(d)try{await i("data.csv")}catch(h){console.warn("❌ All CSV loading attempts failed:",h),d&&c()}})(),()=>{d=!1}},[i,c]),{data:t,isLoading:r,error:s,loadCSVFile:l,loadCSVFromGitHub:i,loadMockData:c,setData:e}},$a=t=>{const{underlyingValue:e,transactionCost:r}=Js();return u.useMemo(()=>(console.log("useRecalculatedOptions: Recalculating with underlyingValue:",e,"transactionCost:",r,"options count:",t.length),t.map(n=>{const s=Math.round(e/n.StrikePrice/100),o=(n.Bid+(n.Ask||n.Bid))/2,i=Math.round(o*s*100-r);return{...n,originalPremium:n.Premium,recalculatedPremium:i,recalculatedNumberOfContracts:s,recalculatedBid_Ask_Mid_Price:o,Premium:i,NumberOfContractsBasedOnLimit:s,Bid_Ask_Mid_Price:o}})),[t,e,r])};let ge={data:[],isLoading:!1,error:null,loaded:!1};const KP=()=>{const[t,e]=u.useState(ge.data),[r,n]=u.useState(ge.isLoading),[s,o]=u.useState(ge.error);console.log("🔍 useIVData hook called, singleton loaded:",ge.loaded,"data length:",ge.data.length);const i=u.useCallback(async()=>{if(ge.loaded&&ge.data.length>0){console.log("🚀 IV data already loaded in singleton, using cached data:",ge.data.length),e(ge.data),n(!1),o(ge.error);return}console.log("📥 Loading IV data..."),n(!0),ge.isLoading=!0,o(null),ge.error=null;const l=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/IV_PotentialDecline.csv?${Date.now()}`,`${window.location.origin}/put-options-sedata/IV_PotentialDecline.csv?${Date.now()}`];let c=null;for(const d of l)try{console.log("🔗 Trying IV URL:",d);const f=await fetch(d);if(!f.ok)throw new Error(`Failed to fetch CSV: ${f.status} ${f.statusText}`);const h=await f.text();if(!h||h.trim().length===0)throw new Error("Empty CSV file received");console.log("✅ Successfully loaded IV CSV from:",d),Ln.parse(h,{header:!0,skipEmptyLines:!0,delimiter:"|",transformHeader:m=>m.trim(),transform:(m,g)=>{const v=String(g||"");if(["IV_ClosestToStrike","IV_UntilExpiryClosestToStrike","LowerBoundClosestToStrike","LowerBoundDistanceFromCurrentPrice","LowerBoundDistanceFromStrike","ImpliedDownPct","ToStrikePct","SafetyMultiple","SigmasToStrike","ProbAssignment","CushionMinusIVPct"].includes(v)&&m!==""){const x=parseFloat(String(m));return isNaN(x)?0:x}return String(m||"").trim()},complete:m=>{if(m.errors.length>0){console.warn("IV CSV parsing warnings:",m.errors);const g=m.errors.filter(v=>v.type==="Delimiter"||v.type==="Quotes");if(g.length>0){o(`IV CSV parsing errors: ${g.map(v=>v.message).join(", ")}`),n(!1),ge.isLoading=!1;return}}if(m.data&&m.data.length>0){console.log(`✅ Parsed ${m.data.length} IV rows from CSV - STORING IN SINGLETON`);const g=m.data;ge.data=g,ge.loaded=!0,ge.isLoading=!1,ge.error=null,e(g),n(!1),o(null);return}else throw new Error("No IV data found in CSV")},error:m=>{throw new Error(`Failed to parse IV CSV: ${m.message}`)}});break}catch(f){console.warn(`❌ Failed to load IV data from ${d}:`,f),c=f;continue}if(!ge.loaded||ge.data.length===0){console.warn("❌ All IV CSV loading attempts failed, current singleton data length:",ge.data.length);const d=`Failed to load IV data from any source. Last error: ${c==null?void 0:c.message}`;o(d),ge.error=d}n(!1),ge.isLoading=!1},[]);return u.useEffect(()=>{if(console.log("🚀 useIVData useEffect triggered, singleton loaded:",ge.loaded,"data length:",ge.data.length),ge.loaded&&ge.data.length>0){console.log("📋 Using cached IV data from singleton:",ge.data.length),e(ge.data),n(ge.isLoading),o(ge.error);return}let l=!0;return(async()=>{if(!l){console.log("⚠️ Component unmounted, aborting load");return}console.log("📥 Starting IV data load...");try{await i()}catch(d){console.warn("❌ useEffect: All IV CSV loading attempts failed:",d)}})(),()=>{l=!1}},[]),{data:t,isLoading:r,error:s,loadIVDataFromGitHub:i,setData:l=>{e(l),ge.data=l,ge.loaded=l.length>0}}},Cc=()=>{const{data:t,isLoading:e,error:r,...n}=zP(),s=$a(t),{data:o,isLoading:i,error:l}=KP(),{underlyingValue:c,transactionCost:d}=Js();return{data:u.useMemo(()=>s.length?(console.log("🔄 Enriching options data with IV data...",{optionsDataLength:s.length,ivDataLength:o.length}),s.map(h=>{const m=o.find(v=>v.OptionName===h.OptionName);m||console.log("⚠️ No IV data found for option:",h.OptionName);let g=0;if(m!=null&&m.LowerBoundClosestToStrike){const v=h.NumberOfContractsBasedOnLimit||0,p=h.StrikePrice*v*100,x=v*m.LowerBoundClosestToStrike*100,y=x-p;g=h.Premium+y,g>=0&&(g=0),g<0&&(g=g-(g*75e-6+d)),h.OptionName==="HOLMB5U356"&&console.log("🎯 HOLMB5U356 Debug - Full Calculation:",{optionName:h.OptionName,strikePrice:h.StrikePrice,numberOfContracts:v,lowerBoundClosestToStrike:m.LowerBoundClosestToStrike,premium:h.Premium,transactionCost:d,"1_underlyingValueInvestment":p,"2_underlyingValueLowerBoundClosestToStrike":x,"3_lossLowerBoundClosestToStrike":y,"4_beforeTransactionCost":h.Premium+y,"5_potentialLossAtLowerBound_FINAL":g,expectedResult:-2402.8272,expectedCalc_step1:356*3*100,expectedCalc_step2:3*345.9*100,expectedCalc_step3:3*345.9*100-356*3*100,expectedCalc_step4:726+(3*345.9*100-356*3*100),expectedCalc_step5:726+(3*345.9*100-356*3*100)-((726+(3*345.9*100-356*3*100))*75e-6+99)})}return{...h,IV_ClosestToStrike:(m==null?void 0:m.IV_ClosestToStrike)??void 0,IV_UntilExpiryClosestToStrike:(m==null?void 0:m.IV_UntilExpiryClosestToStrike)??void 0,LowerBoundClosestToStrike:(m==null?void 0:m.LowerBoundClosestToStrike)??void 0,LowerBoundDistanceFromCurrentPrice:(m==null?void 0:m.LowerBoundDistanceFromCurrentPrice)??void 0,LowerBoundDistanceFromStrike:(m==null?void 0:m.LowerBoundDistanceFromStrike)??void 0,ImpliedDownPct:(m==null?void 0:m.ImpliedDownPct)??void 0,ToStrikePct:(m==null?void 0:m.ToStrikePct)??void 0,SafetyMultiple:(m==null?void 0:m.SafetyMultiple)??void 0,SigmasToStrike:(m==null?void 0:m.SigmasToStrike)??void 0,ProbAssignment:(m==null?void 0:m.ProbAssignment)??void 0,SafetyCategory:(m==null?void 0:m.SafetyCategory)??void 0,CushionMinusIVPct:(m==null?void 0:m.CushionMinusIVPct)??void 0,PotentialLossAtLowerBound:g}})):s,[s,o,c,d]),isLoading:e||i,error:r||l,...n}},Fa=()=>{const[t,e]=u.useState([]),[r,n]=u.useState(!0),[s,o]=u.useState(null);u.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0),o(null);const h=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/stock_data.csv?${Date.now()}`,`${window.location.origin}/put-options-sedata/stock_data.csv?${Date.now()}`];let m=null,g=null;for(const p of h)try{if(console.log("🔗 Trying stock data URL:",p),g=await fetch(p),g.ok){console.log("✅ Successfully loaded CSV from:",p);break}}catch(x){console.warn("❌ Failed to load from:",p,x),m=x}if(!g||!g.ok)throw m||new Error("Failed to load stock data from any URL");const v=await g.text();Ln.parse(v,{header:!0,delimiter:"|",skipEmptyLines:!0,transform:(p,x)=>x==="close"||x==="volume"||x==="pct_change_close"?p===""||p===null||p===void 0?x==="volume"?0:null:parseFloat(p):p,complete:p=>{console.log("Raw CSV data loaded:",p.data.slice(0,5)),console.log("Total rows loaded:",p.data.length);const x=p.data.filter(y=>y.name==="AAK AB");console.log("AAK AB data found:",x.length,"rows"),console.log("Latest AAK AB entries:",x.slice(-5)),e(p.data),n(!1)},error:p=>{console.error("Error parsing CSV:",p),o("Failed to parse stock data"),n(!1)}})}catch(h){console.error("Error loading stock data:",h),o("Failed to load stock data"),n(!1)}},l=h=>t.filter(m=>m.name===h).sort((m,g)=>new Date(m.date).getTime()-new Date(g.date).getTime());return{allStockData:t,isLoading:r,error:s,getStockData:l,getStockSummary:h=>{const m=l(h);if(m.length===0)return null;console.log(`Stock data for ${h}:`,m.slice(-5)),console.log(`Latest data for ${h}:`,m[m.length-1]);const g=m[m.length-1],v=m[m.length-2],p=v?g.close-v.close:0,x=v?p/v.close*100:0,y=new Date;y.setFullYear(y.getFullYear()-1);const b=m.filter(k=>new Date(k.date)>=y),w=b.map(k=>k.close),_=Math.max(...w),S=Math.min(...w),j=b.slice(1).map((k,T)=>(k.close-b[T].close)/b[T].close),C=j.reduce((k,T)=>k+T,0)/j.length,N=j.reduce((k,T)=>k+Math.pow(T-C,2),0)/j.length,R=Math.sqrt(N)*Math.sqrt(252)*100,A=b.map(k=>k.volume).sort((k,T)=>k-T),P=A.length%2===0?(A[A.length/2-1]+A[A.length/2])/2:A[Math.floor(A.length/2)];return{name:h,currentPrice:g.close,priceChange:p,priceChangePercent:x,volume:g.volume,medianVolume:P,highPrice52Week:_,lowPrice52Week:S,volatility:R}},getLowPriceForPeriod:(h,m)=>{const g=l(h);if(g.length===0)return null;const v=new Date;v.setDate(v.getDate()-m);const p=g.filter(y=>new Date(y.date)>=v);if(p.length===0)return null;const x=p.map(y=>y.close);return Math.min(...x)},getPriceRangeForPeriod:(h,m)=>{const g=l(h);if(g.length===0)return null;const v=new Date;v.setDate(v.getDate()-m);const p=g.filter(y=>new Date(y.date)>=v);if(p.length===0)return null;const x=p.map(y=>y.close);return{high:Math.max(...x),low:Math.min(...x)}},loadStockData:i}};function Dt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function sn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const ap=6048e5,qP=864e5;let GP={};function Wa(){return GP}function $s(t,e){var l,c,d,f;const r=Wa(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Dt(t),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Qo(t){return $s(t,{weekStartsOn:1})}function ip(t){const e=Dt(t),r=e.getFullYear(),n=sn(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Qo(n),o=sn(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Qo(o);return e.getTime()>=s.getTime()?r+1:e.getTime()>=i.getTime()?r:r-1}function ru(t){const e=Dt(t);return e.setHours(0,0,0,0),e}function nu(t){const e=Dt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function YP(t,e){const r=ru(t),n=ru(e),s=+r-nu(r),o=+n-nu(n);return Math.round((s-o)/qP)}function XP(t){const e=ip(t),r=sn(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Qo(r)}function JP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function QP(t){if(!JP(t)&&typeof t!="number")return!1;const e=Dt(t);return!isNaN(Number(e))}function ZP(t){const e=Dt(t),r=sn(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const eN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tN=(t,e,r)=>{let n;const s=eN[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Si(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const rN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oN={date:Si({formats:rN,defaultWidth:"full"}),time:Si({formats:nN,defaultWidth:"full"}),dateTime:Si({formats:sN,defaultWidth:"full"})},aN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iN=(t,e,r,n)=>aN[t];function cs(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const lN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mN=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pN={ordinalNumber:mN,era:cs({values:lN,defaultWidth:"wide"}),quarter:cs({values:cN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cs({values:dN,defaultWidth:"wide"}),day:cs({values:uN,defaultWidth:"wide"}),dayPeriod:cs({values:hN,defaultWidth:"wide",formattingValues:fN,defaultFormattingWidth:"wide"})};function ds(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const i=o[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?vN(l,h=>h.test(i)):gN(l,h=>h.test(i));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const f=e.slice(i.length);return{value:d,rest:f}}}function gN(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function vN(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function xN(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(s.length);return{value:i,rest:l}}}const yN=/^(\d+)(th|st|nd|rd)?/i,bN=/\d+/i,wN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_N={any:[/^b/i,/^(a|c)/i]},SN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jN={any:[/1/i,/2/i,/3/i,/4/i]},CN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DN={ordinalNumber:xN({matchPattern:yN,parsePattern:bN,valueCallback:t=>parseInt(t,10)}),era:ds({matchPatterns:wN,defaultMatchWidth:"wide",parsePatterns:_N,defaultParseWidth:"any"}),quarter:ds({matchPatterns:SN,defaultMatchWidth:"wide",parsePatterns:jN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ds({matchPatterns:CN,defaultMatchWidth:"wide",parsePatterns:PN,defaultParseWidth:"any"}),day:ds({matchPatterns:NN,defaultMatchWidth:"wide",parsePatterns:kN,defaultParseWidth:"any"}),dayPeriod:ds({matchPatterns:EN,defaultMatchWidth:"any",parsePatterns:TN,defaultParseWidth:"any"})},RN={code:"en-US",formatDistance:tN,formatLong:oN,formatRelative:iN,localize:pN,match:DN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AN(t){const e=Dt(t);return YP(e,ZP(e))+1}function MN(t){const e=Dt(t),r=+Qo(e)-+XP(e);return Math.round(r/ap)+1}function lp(t,e){var f,h,m,g;const r=Dt(t),n=r.getFullYear(),s=Wa(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=sn(t,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=$s(i,e),c=sn(t,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const d=$s(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function ON(t,e){var l,c,d,f;const r=Wa(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=lp(t,e),o=sn(t,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),$s(o,e)}function IN(t,e){const r=Dt(t),n=+$s(r,e)-+ON(r,e);return Math.round(n/ap)+1}function be(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const gr={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return be(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):be(r+1,2)},d(t,e){return be(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return be(t.getHours()%12||12,e.length)},H(t,e){return be(t.getHours(),e.length)},m(t,e){return be(t.getMinutes(),e.length)},s(t,e){return be(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return be(s,e.length)}},bn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},su={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return gr.y(t,e)},Y:function(t,e,r,n){const s=lp(t,n),o=s>0?s:1-s;if(e==="YY"){const i=o%100;return be(i,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):be(o,e.length)},R:function(t,e){const r=ip(t);return be(r,e.length)},u:function(t,e){const r=t.getFullYear();return be(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return be(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return be(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return gr.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return be(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=IN(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):be(s,e.length)},I:function(t,e,r){const n=MN(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):be(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):gr.d(t,e)},D:function(t,e,r){const n=AN(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):be(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return be(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return be(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return be(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=bn.noon:n===0?s=bn.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=bn.evening:n>=12?s=bn.afternoon:n>=4?s=bn.morning:s=bn.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return gr.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):gr.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):be(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):be(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):gr.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):gr.s(t,e)},S:function(t,e){return gr.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return au(n);case"XXXX":case"XX":return Hr(n);case"XXXXX":case"XXX":default:return Hr(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return au(n);case"xxxx":case"xx":return Hr(n);case"xxxxx":case"xxx":default:return Hr(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ou(n,":");case"OOOO":default:return"GMT"+Hr(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ou(n,":");case"zzzz":default:return"GMT"+Hr(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return be(n,e.length)},T:function(t,e,r){const n=t.getTime();return be(n,e.length)}};function ou(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+e+be(o,2)}function au(t,e){return t%60===0?(t>0?"-":"+")+be(Math.abs(t)/60,2):Hr(t,e)}function Hr(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=be(Math.trunc(n/60),2),o=be(n%60,2);return r+s+e+o}const iu=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cp=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},LN=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return iu(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",iu(n,e)).replace("{{time}}",cp(s,e))},$N={p:cp,P:LN},FN=/^D+$/,WN=/^Y+$/,BN=["D","DD","YY","YYYY"];function VN(t){return FN.test(t)}function UN(t){return WN.test(t)}function HN(t,e,r){const n=zN(t,e,r);if(console.warn(n),BN.includes(t))throw new RangeError(n)}function zN(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GN=/^'([^]*?)'?$/,YN=/''/g,XN=/[a-zA-Z]/;function lu(t,e,r){var f,h,m,g;const n=Wa(),s=n.locale??RN,o=n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=Dt(t);if(!QP(l))throw new RangeError("Invalid time value");let c=e.match(qN).map(v=>{const p=v[0];if(p==="p"||p==="P"){const x=$N[p];return x(v,s.formatLong)}return v}).join("").match(KN).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const p=v[0];if(p==="'")return{isToken:!1,value:JN(v)};if(su[p])return{isToken:!0,value:v};if(p.match(XN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const p=v.value;(UN(p)||VN(p))&&HN(p,e,String(t));const x=su[p[0]];return x(l,p,s.localize,d)}).join("")}function JN(t){const e=t.match(GN);return e?e[1].replace(YN,"'"):t}const QN=()=>{const[t,e]=u.useState(null),[r,n]=u.useState(!0);return u.useEffect(()=>{console.log("🚀 TimestampDisplay component mounted"),(async()=>{console.log("📡 About to fetch timestamps...");try{const o=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/last_updated.json?${Date.now()}`,`${window.location.origin}/put-options-sedata/last_updated.json?${Date.now()}`];let i=null,l=null;for(const c of o)try{if(console.log("🔗 Trying timestamp URL:",c),l=await fetch(c),l.ok){console.log("✅ Successfully loaded timestamps from:",c);break}}catch(d){console.warn("❌ Failed to load from:",c,d),i=d}if(!l||!l.ok)throw i||new Error("Failed to load timestamps from any URL");if(console.log("📨 Got response:",l.status),l.ok){const c=await l.json();console.log("✅ Got data:",c),e(c)}else console.error("❌ Bad response:",l.status)}catch(o){console.error("❌ Fetch error:",o)}finally{n(!1)}})()},[]),console.log("🔍 Render - timestamps:",t,"loading:",r),r?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading timestamp information..."}):t?a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsxs("p",{children:["Options data last updated: ",lu(new Date(t.optionsData.lastUpdated),"yyyy-MM-dd HH:mm")]}),a.jsxs("p",{children:["Stock data last updated: ",lu(new Date(t.stockData.lastUpdated),"yyyy-MM-dd HH:mm")]})]}):a.jsx("div",{className:"text-sm text-destructive",children:"Failed to load timestamps"})};var dp=["PageUp","PageDown"],up=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hp={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},es="Slider",[al,ZN,ek]=Us(es),[fp,tT]=zt(es,[ek]),[tk,Ba]=fp(es),mp=u.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:v,...p}=t,x=u.useRef(new Set),y=u.useRef(0),w=i==="horizontal"?rk:nk,[_=[],S]=Vt({prop:f,defaultProp:d,onChange:P=>{var T;(T=[...x.current][y.current])==null||T.focus(),h(P)}}),j=u.useRef(_);function C(P){const k=lk(_,P);A(P,k)}function N(P){A(P,y.current)}function R(){const P=j.current[y.current];_[y.current]!==P&&m(_)}function A(P,k,{commit:T}={commit:!1}){const D=hk(o),H=fk(Math.round((P-n)/o)*o+n,D),L=Rs(H,[n,s]);S((F=[])=>{const O=ak(F,L,k);if(uk(O,c*o)){y.current=O.indexOf(L);const M=String(O)!==String(F);return M&&T&&m(O),M?O:F}else return F})}return a.jsx(tk,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:y,thumbs:x.current,values:_,orientation:i,form:v,children:a.jsx(al.Provider,{scope:t.__scopeSlider,children:a.jsx(al.Slot,{scope:t.__scopeSlider,children:a.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:e,onPointerDown:V(p.onPointerDown,()=>{l||(j.current=_)}),min:n,max:s,inverted:g,onSlideStart:l?void 0:C,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:R,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(s,_.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:k})=>{if(!l){const H=dp.includes(P.key)||P.shiftKey&&up.includes(P.key)?10:1,L=y.current,F=_[L],O=o*H*k;A(F+O,L,{commit:!0})}}})})})})});mp.displayName=es;var[pp,gp]=fp(es,{startEdge:"left",endEdge:"right",size:"width",direction:1}),rk=u.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[h,m]=u.useState(null),g=se(e,w=>m(w)),v=u.useRef(),p=Xn(s),x=p==="ltr",y=x&&!o||!x&&o;function b(w){const _=v.current||h.getBoundingClientRect(),S=[0,_.width],C=Pc(S,y?[r,n]:[n,r]);return v.current=_,C(w-_.left)}return a.jsx(pp,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:a.jsx(vp,{dir:p,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=b(w.clientX);i==null||i(_)},onSlideMove:w=>{const _=b(w.clientX);l==null||l(_)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const S=hp[y?"from-left":"from-right"].includes(w.key);d==null||d({event:w,direction:S?-1:1})}})})}),nk=u.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=u.useRef(null),h=se(e,f),m=u.useRef(),g=!s;function v(p){const x=m.current||f.current.getBoundingClientRect(),y=[0,x.height],w=Pc(y,g?[n,r]:[r,n]);return m.current=x,w(p-x.top)}return a.jsx(pp,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:a.jsx(vp,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=v(p.clientY);o==null||o(x)},onSlideMove:p=>{const x=v(p.clientY);i==null||i(x)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:p=>{const y=hp[g?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:y?-1:1})}})})}),vp=u.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=Ba(es,r);return a.jsx(G.span,{...d,ref:e,onKeyDown:V(t.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):dp.concat(up).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:V(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(m)?m.focus():n(h)}),onPointerMove:V(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:V(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),o(h))})})}),xp="SliderTrack",yp=u.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Ba(xp,r);return a.jsx(G.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});yp.displayName=xp;var il="SliderRange",bp=u.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Ba(il,r),o=gp(il,r),i=u.useRef(null),l=se(e,i),c=s.values.length,d=s.values.map(m=>_p(m,s.min,s.max)),f=c>1?Math.min(...d):0,h=100-Math.max(...d);return a.jsx(G.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[o.startEdge]:f+"%",[o.endEdge]:h+"%"}})});bp.displayName=il;var ll="SliderThumb",wp=u.forwardRef((t,e)=>{const r=ZN(t.__scopeSlider),[n,s]=u.useState(null),o=se(e,l=>s(l)),i=u.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(sk,{...t,ref:o,index:i})}),sk=u.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...o}=t,i=Ba(ll,r),l=gp(ll,r),[c,d]=u.useState(null),f=se(e,b=>d(b)),h=c?i.form||!!c.closest("form"):!0,m=Al(c),g=i.values[n],v=g===void 0?0:_p(g,i.min,i.max),p=ik(n,i.values.length),x=m==null?void 0:m[l.size],y=x?ck(x,v,l.direction):0;return u.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${y}px)`},children:[a.jsx(al.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(G.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":g,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:f,style:g===void 0?{display:"none"}:t.style,onFocus:V(t.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),h&&a.jsx(ok,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:g},n)]})});wp.displayName=ll;var ok=t=>{const{value:e,...r}=t,n=u.useRef(null),s=uc(e);return u.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==e&&c){const d=new Event("input",{bubbles:!0});c.call(o,e),o.dispatchEvent(d)}},[s,e]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function ak(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,o)=>s-o)}function _p(t,e,r){const o=100/(r-e)*(t-e);return Rs(o,[0,100])}function ik(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function lk(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function ck(t,e,r){const n=t/2,o=Pc([0,50],[0,n]);return(n-o(e)*r)*r}function dk(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function uk(t,e){if(e>0){const r=dk(t);return Math.min(...r)>=e}return!0}function Pc(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function hk(t){return(String(t).split(".")[1]||"").length}function fk(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var Sp=mp,mk=yp,pk=bp,gk=wp;const Nc=u.forwardRef(({className:t,...e},r)=>a.jsxs(Sp,{ref:r,className:Y("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(mk,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(pk,{className:"absolute h-full bg-primary"})}),a.jsx(gk,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Nc.displayName=Sp.displayName;const vk=()=>{const{underlyingValue:t,setUnderlyingValue:e,transactionCost:r,setTransactionCost:n}=Js(),[s,o]=u.useState(t),[i,l]=u.useState(r),[c,d]=u.useState(t.toString()),[f,h]=u.useState(!1),m=w=>{const _=w[0];o(_),d(_.toString())},g=w=>{d(w.target.value)},v=()=>{const w=c.replace(/[^0-9]/g,""),_=parseInt(w,10);if(isNaN(_))d(s.toString());else{const S=Math.max(1e4,Math.min(1e6,_));o(S),d(S.toString())}},p=w=>{const _=w.target.value.replace(/[^0-9]/g,""),S=parseInt(_,10);!isNaN(S)&&S>=0&&l(S)},x=()=>{s>=1e4&&s<=1e6?(e(s),n(i),h(!1),nr.success(`Settings updated: Underlying value ${s.toLocaleString()}, Transaction cost ${i}`)):nr.error("Please enter a value between 10,000 and 1,000,000")},y=()=>{o(t),l(r),d(t.toString()),h(!1)},b=w=>w.toLocaleString();return a.jsxs(Ea,{open:f,onOpenChange:h,children:[a.jsx(Ta,{asChild:!0,children:a.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>{o(t),l(r),d(t.toString()),h(!0)},children:[a.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Settings"]})}),a.jsxs(Qs,{className:"sm:max-w-md",children:[a.jsx(cc,{children:a.jsx(dc,{children:"Calculation Settings"})}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"underlying-value",children:"Underlying Stock Value for Premium Calculation"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This value is used to calculate the number of contracts and Premium. Default is 100,000."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(De,{children:["Current Value: ",b(s)]}),a.jsx(Nc,{value:[s],onValueChange:m,max:1e6,min:1e4,step:1e3,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"10,000"}),a.jsx("span",{children:"1,000,000"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"underlying-input",children:"Or enter exact value:"}),a.jsx(ze,{id:"underlying-input",type:"text",value:c,onChange:g,onBlur:v,placeholder:"100,000"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"transaction-cost",children:"Transaction Cost"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The transaction cost that will be subtracted from the premium calculation. Default is 150."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"transaction-cost-input",children:"Transaction Cost:"}),a.jsx(ze,{id:"transaction-cost-input",type:"text",value:i.toString(),onChange:p,placeholder:"150"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(Q,{variant:"outline",onClick:y,children:"Cancel"}),a.jsx(Q,{onClick:x,children:"Apply Settings"})]})]})]})]})};var cl=["Enter"," "],xk=["ArrowDown","PageUp","Home"],jp=["ArrowUp","PageDown","End"],yk=[...xk,...jp],bk={ltr:[...cl,"ArrowRight"],rtl:[...cl,"ArrowLeft"]},wk={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ro="Menu",[Fs,_k,Sk]=Us(ro),[cn,Cp]=zt(ro,[Sk,qn,Ia]),Va=qn(),Pp=Ia(),[jk,dn]=cn(ro),[Ck,no]=cn(ro),Np=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=t,l=Va(e),[c,d]=u.useState(null),f=u.useRef(!1),h=Re(o),m=Xn(s);return u.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),a.jsx(Il,{...l,children:a.jsx(jk,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:a.jsx(Ck,{scope:e,onClose:u.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:i,children:n})})})};Np.displayName=ro;var Pk="MenuAnchor",kc=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Va(r);return a.jsx(Ll,{...s,...n,ref:e})});kc.displayName=Pk;var Ec="MenuPortal",[Nk,kp]=cn(Ec,{forceMount:void 0}),Ep=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=dn(Ec,e);return a.jsx(Nk,{scope:e,forceMount:r,children:a.jsx(Xe,{present:r||o.open,children:a.jsx(Hs,{asChild:!0,container:s,children:n})})})};Ep.displayName=Ec;var gt="MenuContent",[kk,Tc]=cn(gt),Tp=u.forwardRef((t,e)=>{const r=kp(gt,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=dn(gt,t.__scopeMenu),i=no(gt,t.__scopeMenu);return a.jsx(Fs.Provider,{scope:t.__scopeMenu,children:a.jsx(Xe,{present:n||o.open,children:a.jsx(Fs.Slot,{scope:t.__scopeMenu,children:i.modal?a.jsx(Ek,{...s,ref:e}):a.jsx(Tk,{...s,ref:e})})})})}),Ek=u.forwardRef((t,e)=>{const r=dn(gt,t.__scopeMenu),n=u.useRef(null),s=se(e,n);return u.useEffect(()=>{const o=n.current;if(o)return sc(o)},[]),a.jsx(Dc,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:V(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Tk=u.forwardRef((t,e)=>{const r=dn(gt,t.__scopeMenu);return a.jsx(Dc,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Dc=u.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...p}=t,x=dn(gt,r),y=no(gt,r),b=Va(r),w=Pp(r),_=_k(r),[S,j]=u.useState(null),C=u.useRef(null),N=se(e,C,x.onContentChange),R=u.useRef(0),A=u.useRef(""),P=u.useRef(0),k=u.useRef(null),T=u.useRef("right"),D=u.useRef(0),H=v?ka:u.Fragment,L=v?{as:Dr,allowPinchZoom:!0}:void 0,F=M=>{var U,Z;const re=A.current+M,K=_().filter(ee=>!ee.disabled),q=document.activeElement,J=(U=K.find(ee=>ee.ref.current===q))==null?void 0:U.textValue,E=K.map(ee=>ee.textValue),X=Vk(E,re,J),$=(Z=K.find(ee=>ee.textValue===X))==null?void 0:Z.ref.current;(function ee(z){A.current=z,window.clearTimeout(R.current),z!==""&&(R.current=window.setTimeout(()=>ee(""),1e3))})(re),$&&setTimeout(()=>$.focus())};u.useEffect(()=>()=>window.clearTimeout(R.current),[]),nc();const O=u.useCallback(M=>{var K,q;return T.current===((K=k.current)==null?void 0:K.side)&&Hk(M,(q=k.current)==null?void 0:q.area)},[]);return a.jsx(kk,{scope:r,searchRef:A,onItemEnter:u.useCallback(M=>{O(M)&&M.preventDefault()},[O]),onItemLeave:u.useCallback(M=>{var re;O(M)||((re=C.current)==null||re.focus(),j(null))},[O]),onTriggerLeave:u.useCallback(M=>{O(M)&&M.preventDefault()},[O]),pointerGraceTimerRef:P,onPointerGraceIntentChange:u.useCallback(M=>{k.current=M},[]),children:a.jsx(H,{...L,children:a.jsx(Pa,{asChild:!0,trapped:s,onMountAutoFocus:V(o,M=>{var re;M.preventDefault(),(re=C.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Un,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:a.jsx(Um,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:j,onEntryFocus:V(c,M=>{y.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx($l,{role:"menu","aria-orientation":"vertical","data-state":Kp(x.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:N,style:{outline:"none",...p.style},onKeyDown:V(p.onKeyDown,M=>{const K=M.target.closest("[data-radix-menu-content]")===M.currentTarget,q=M.ctrlKey||M.altKey||M.metaKey,J=M.key.length===1;K&&(M.key==="Tab"&&M.preventDefault(),!q&&J&&F(M.key));const E=C.current;if(M.target!==E||!yk.includes(M.key))return;M.preventDefault();const $=_().filter(U=>!U.disabled).map(U=>U.ref.current);jp.includes(M.key)&&$.reverse(),Wk($)}),onBlur:V(t.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(R.current),A.current="")}),onPointerMove:V(t.onPointerMove,Ws(M=>{const re=M.target,K=D.current!==M.clientX;if(M.currentTarget.contains(re)&&K){const q=M.clientX>D.current?"right":"left";T.current=q,D.current=M.clientX}}))})})})})})})});Tp.displayName=gt;var Dk="MenuGroup",Rc=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(G.div,{role:"group",...n,ref:e})});Rc.displayName=Dk;var Rk="MenuLabel",Dp=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(G.div,{...n,ref:e})});Dp.displayName=Rk;var Zo="MenuItem",cu="menu.itemSelect",Ua=u.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=u.useRef(null),i=no(Zo,t.__scopeMenu),l=Tc(Zo,t.__scopeMenu),c=se(e,o),d=u.useRef(!1),f=()=>{const h=o.current;if(!r&&h){const m=new CustomEvent(cu,{bubbles:!0,cancelable:!0});h.addEventListener(cu,g=>n==null?void 0:n(g),{once:!0}),xl(h,m),m.defaultPrevented?d.current=!1:i.onClose()}};return a.jsx(Rp,{...s,ref:c,disabled:r,onClick:V(t.onClick,f),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),d.current=!0},onPointerUp:V(t.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:V(t.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||cl.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ua.displayName=Zo;var Rp=u.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,i=Tc(Zo,r),l=Pp(r),c=u.useRef(null),d=se(e,c),[f,h]=u.useState(!1),[m,g]=u.useState("");return u.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[o.children]),a.jsx(Fs.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:a.jsx(Hm,{asChild:!0,...l,focusable:!n,children:a.jsx(G.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:V(t.onPointerMove,Ws(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:V(t.onPointerLeave,Ws(v=>i.onItemLeave(v))),onFocus:V(t.onFocus,()=>h(!0)),onBlur:V(t.onBlur,()=>h(!1))})})})}),Ak="MenuCheckboxItem",Ap=u.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return a.jsx($p,{scope:t.__scopeMenu,checked:r,children:a.jsx(Ua,{role:"menuitemcheckbox","aria-checked":ea(r)?"mixed":r,...s,ref:e,"data-state":Mc(r),onSelect:V(s.onSelect,()=>n==null?void 0:n(ea(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ap.displayName=Ak;var Mp="MenuRadioGroup",[Mk,Ok]=cn(Mp,{value:void 0,onValueChange:()=>{}}),Op=u.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=Re(n);return a.jsx(Mk,{scope:t.__scopeMenu,value:r,onValueChange:o,children:a.jsx(Rc,{...s,ref:e})})});Op.displayName=Mp;var Ip="MenuRadioItem",Lp=u.forwardRef((t,e)=>{const{value:r,...n}=t,s=Ok(Ip,t.__scopeMenu),o=r===s.value;return a.jsx($p,{scope:t.__scopeMenu,checked:o,children:a.jsx(Ua,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":Mc(o),onSelect:V(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});Lp.displayName=Ip;var Ac="MenuItemIndicator",[$p,Ik]=cn(Ac,{checked:!1}),Fp=u.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=Ik(Ac,r);return a.jsx(Xe,{present:n||ea(o.checked)||o.checked===!0,children:a.jsx(G.span,{...s,ref:e,"data-state":Mc(o.checked)})})});Fp.displayName=Ac;var Lk="MenuSeparator",Wp=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(G.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Wp.displayName=Lk;var $k="MenuArrow",Bp=u.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Va(r);return a.jsx(Fl,{...s,...n,ref:e})});Bp.displayName=$k;var Fk="MenuSub",[rT,Vp]=cn(Fk),fs="MenuSubTrigger",Up=u.forwardRef((t,e)=>{const r=dn(fs,t.__scopeMenu),n=no(fs,t.__scopeMenu),s=Vp(fs,t.__scopeMenu),o=Tc(fs,t.__scopeMenu),i=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},f=u.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return u.useEffect(()=>f,[f]),u.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(kc,{asChild:!0,...d,children:a.jsx(Rp,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Kp(r.open),...t,ref:na(e,s.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:V(t.onPointerMove,Ws(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:V(t.onPointerLeave,Ws(h=>{var g,v;f();const m=(g=r.content)==null?void 0:g.getBoundingClientRect();if(m){const p=(v=r.content)==null?void 0:v.dataset.side,x=p==="right",y=x?-5:5,b=m[x?"left":"right"],w=m[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:b,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:b,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:V(t.onKeyDown,h=>{var g;const m=o.searchRef.current!=="";t.disabled||m&&h.key===" "||bk[n.dir].includes(h.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),h.preventDefault())})})})});Up.displayName=fs;var Hp="MenuSubContent",zp=u.forwardRef((t,e)=>{const r=kp(gt,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=dn(gt,t.__scopeMenu),i=no(gt,t.__scopeMenu),l=Vp(Hp,t.__scopeMenu),c=u.useRef(null),d=se(e,c);return a.jsx(Fs.Provider,{scope:t.__scopeMenu,children:a.jsx(Xe,{present:n||o.open,children:a.jsx(Fs.Slot,{scope:t.__scopeMenu,children:a.jsx(Dc,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:V(t.onFocusOutside,f=>{f.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:V(t.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:V(t.onKeyDown,f=>{var g;const h=f.currentTarget.contains(f.target),m=wk[i.dir].includes(f.key);h&&m&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),f.preventDefault())})})})})})});zp.displayName=Hp;function Kp(t){return t?"open":"closed"}function ea(t){return t==="indeterminate"}function Mc(t){return ea(t)?"indeterminate":t?"checked":"unchecked"}function Wk(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Bk(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Vk(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=Bk(t,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Uk(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o].x,c=e[o].y,d=e[i].x,f=e[i].y;c>n!=f>n&&r<(d-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function Hk(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Uk(r,e)}function Ws(t){return e=>e.pointerType==="mouse"?t(e):void 0}var zk=Np,Kk=kc,qk=Ep,Gk=Tp,Yk=Rc,Xk=Dp,Jk=Ua,Qk=Ap,Zk=Op,eE=Lp,tE=Fp,rE=Wp,nE=Bp,sE=Up,oE=zp,Oc="DropdownMenu",[aE,nT]=zt(Oc,[Cp]),tt=Cp(),[iE,qp]=aE(Oc),Gp=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=t,c=tt(e),d=u.useRef(null),[f=!1,h]=Vt({prop:s,defaultProp:o,onChange:i});return a.jsx(iE,{scope:e,triggerId:Pt(),triggerRef:d,contentId:Pt(),open:f,onOpenChange:h,onOpenToggle:u.useCallback(()=>h(m=>!m),[h]),modal:l,children:a.jsx(zk,{...c,open:f,onOpenChange:h,dir:n,modal:l,children:r})})};Gp.displayName=Oc;var Yp="DropdownMenuTrigger",Xp=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=qp(Yp,r),i=tt(r);return a.jsx(Kk,{asChild:!0,...i,children:a.jsx(G.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:na(e,o.triggerRef),onPointerDown:V(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:V(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Xp.displayName=Yp;var lE="DropdownMenuPortal",Jp=t=>{const{__scopeDropdownMenu:e,...r}=t,n=tt(e);return a.jsx(qk,{...n,...r})};Jp.displayName=lE;var Qp="DropdownMenuContent",Zp=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=qp(Qp,r),o=tt(r),i=u.useRef(!1);return a.jsx(Gk,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:V(t.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:V(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!s.modal||f)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zp.displayName=Qp;var cE="DropdownMenuGroup",dE=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(Yk,{...s,...n,ref:e})});dE.displayName=cE;var uE="DropdownMenuLabel",eg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(Xk,{...s,...n,ref:e})});eg.displayName=uE;var hE="DropdownMenuItem",tg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(Jk,{...s,...n,ref:e})});tg.displayName=hE;var fE="DropdownMenuCheckboxItem",rg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(Qk,{...s,...n,ref:e})});rg.displayName=fE;var mE="DropdownMenuRadioGroup",pE=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(Zk,{...s,...n,ref:e})});pE.displayName=mE;var gE="DropdownMenuRadioItem",ng=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(eE,{...s,...n,ref:e})});ng.displayName=gE;var vE="DropdownMenuItemIndicator",sg=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(tE,{...s,...n,ref:e})});sg.displayName=vE;var xE="DropdownMenuSeparator",og=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(rE,{...s,...n,ref:e})});og.displayName=xE;var yE="DropdownMenuArrow",bE=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(nE,{...s,...n,ref:e})});bE.displayName=yE;var wE="DropdownMenuSubTrigger",ag=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(sE,{...s,...n,ref:e})});ag.displayName=wE;var _E="DropdownMenuSubContent",ig=u.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=tt(r);return a.jsx(oE,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ig.displayName=_E;var SE=Gp,jE=Xp,CE=Jp,lg=Zp,cg=eg,dg=tg,ug=rg,hg=ng,fg=sg,mg=og,pg=ag,gg=ig;const Kr=SE,qr=jE,PE=u.forwardRef(({className:t,inset:e,children:r,...n},s)=>a.jsxs(pg,{ref:s,className:Y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,a.jsx(xx,{className:"ml-auto h-4 w-4"})]}));PE.displayName=pg.displayName;const NE=u.forwardRef(({className:t,...e},r)=>a.jsx(gg,{ref:r,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));NE.displayName=gg.displayName;const kr=u.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(CE,{children:a.jsx(lg,{ref:n,sideOffset:e,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));kr.displayName=lg.displayName;const _r=u.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(dg,{ref:n,className:Y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));_r.displayName=dg.displayName;const kE=u.forwardRef(({className:t,children:e,checked:r,...n},s)=>a.jsxs(ug,{ref:s,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(fg,{children:a.jsx(_l,{className:"h-4 w-4"})})}),e]}));kE.displayName=ug.displayName;const EE=u.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(hg,{ref:n,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(fg,{children:a.jsx(bx,{className:"h-2 w-2 fill-current"})})}),e]}));EE.displayName=hg.displayName;const TE=u.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(cg,{ref:n,className:Y("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));TE.displayName=cg.displayName;const DE=u.forwardRef(({className:t,...e},r)=>a.jsx(mg,{ref:r,className:Y("-mx-1 my-1 h-px bg-muted",t),...e}));DE.displayName=mg.displayName;function RE(){const{setTheme:t,theme:e}=fh();return a.jsxs(Q,{variant:"outline",size:"icon",onClick:()=>t(e==="light"?"dark":"light"),children:[a.jsx(Px,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(jx,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const AE=()=>{var J;console.log("🏠 Index component rendering");const t=an(),[e,r]=gl(),{data:n,isLoading:s,error:o,loadMockData:i}=Cc(),{getStockSummary:l,getLowPriceForPeriod:c}=Fa(),d=$a(n),[f,h]=u.useState(()=>{const E=e.get("stocks");if(!E)return[];try{const X=decodeURIComponent(E),$=JSON.parse(X);return Array.isArray($)?$:[]}catch{return E.split(",").filter(Boolean)}}),[m,g]=u.useState(()=>{const E=e.get("expiryDates");if(!E)return[];try{const X=decodeURIComponent(E),$=JSON.parse(X);return Array.isArray($)?$:[]}catch{return E.split(",").filter(Boolean)}}),[v,p]=u.useState(()=>{const E=e.get("strikeBelowPeriod");return E?parseInt(E,10):null}),[x,y]=u.useState(()=>{const E=e.get("riskLevels");if(!E)return[];try{const X=decodeURIComponent(E),$=JSON.parse(X);return Array.isArray($)?$:[]}catch{return E.split(",").filter(Boolean)}}),[b,w]=u.useState(()=>e.get("sortField")||null),[_,S]=u.useState(()=>e.get("sortDirection")==="desc"?"desc":"asc"),j=[{label:"1 Week Low",days:7},{label:"1 Month Low",days:30},{label:"3 Months Low",days:90},{label:"6 Months Low",days:180},{label:"9 Months Low",days:270},{label:"1 Year Low",days:365}],C=[{value:"High Risk",label:"High Risk"},{value:"Medium Risk",label:"Medium Risk"},{value:"Low Risk",label:"Low Risk"}],N=E=>{const X=E.ProbWorthless_Bayesian_IsoCal??E["1_2_3_ProbOfWorthless_Weighted"];return X<=.6?"High Risk":X<.8?"Medium Risk":"Low Risk"},R=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(ma,{children:a.jsxs(Wo,{children:[a.jsx(Bo,{asChild:!0,children:a.jsx(ar,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(Ns,{className:"max-w-sm bg-background border z-50",children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsx("p",{className:"font-medium",children:"Risk Level Classification:"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"High Risk:"})," ≤60% probability of being worthless"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Medium Risk:"})," ",">","60% and ","<","80% probability of being worthless"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Low Risk:"})," ≥80% probability of being worthless"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on ProbWorthless_Bayesian_IsoCal field, or 1_2_3_ProbOfWorthless_Weighted as fallback. No overlapping values between categories."})]})})]})})}),a.jsx("div",{className:"md:hidden",children:a.jsxs(Ea,{children:[a.jsx(Ta,{asChild:!0,children:a.jsx(ar,{className:"h-3 w-3 text-muted-foreground cursor-pointer"})}),a.jsx(Qs,{className:"max-w-sm",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium",children:"Risk Level Classification"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"High Risk:"})," ≤60% probability of being worthless"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Medium Risk:"})," ",">","60% and ","<","80% probability of being worthless"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Low Risk:"})," ≥80% probability of being worthless"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on ProbWorthless_Bayesian_IsoCal field, or 1_2_3_ProbOfWorthless_Weighted as fallback. No overlapping values between categories."})]})})]})})]});u.useEffect(()=>{const E=new URLSearchParams;f.length>0&&E.set("stocks",encodeURIComponent(JSON.stringify(f))),m.length>0&&E.set("expiryDates",encodeURIComponent(JSON.stringify(m))),v!==null&&E.set("strikeBelowPeriod",v.toString()),x.length>0&&E.set("riskLevels",encodeURIComponent(JSON.stringify(x))),b!==null&&E.set("sortField",b),_!=="asc"&&E.set("sortDirection",_),r(E,{replace:!0})},[f,m,v,x,b,_,r]),u.useEffect(()=>{if(d.length>0&&m.length===0&&!e.has("expiryDates")){const E=new Date,X=new Date(E.getFullYear(),E.getMonth()+1,1),$=new Date(X),Z=(5-$.getDay()+7)%7;$.setDate($.getDate()+Z);const ee=new Date($);ee.setDate(ee.getDate()+14);const z=[...new Set(d.map(ye=>ye.ExpiryDate))];let oe=z[0],te=1/0;z.forEach(ye=>{const je=new Date(ye),Oe=Math.abs(je.getTime()-ee.getTime());Oe<te&&(te=Oe,oe=ye)}),oe&&g([oe])}},[d,m.length,e]);const[A,P]=u.useState(""),[k,T]=u.useState(""),[D,H]=u.useState([]),L=u.useMemo(()=>{if(v===null)return new Map;const E=new Map;return[...new Set(d.map($=>$.StockName))].forEach($=>{E.set($,c($,v))}),E},[d,v,c]),F=u.useMemo(()=>d.filter(E=>{const X=f.length===0||f.includes(E.StockName),$=m.length===0||m.includes(E.ExpiryDate);if(v!==null){const Z=L.get(E.StockName);if(Z==null||E.StrikePrice>Z)return!1}const U=x.length===0||x.includes(N(E));return X&&$&&U}),[d,f,m,v,x,L,N]),O=u.useMemo(()=>{let E=d;return m.length>0&&(E=E.filter($=>m.includes($.ExpiryDate))),v!==null&&(E=E.filter($=>{const U=L.get($.StockName);return U!=null&&$.StrikePrice<=U})),[...new Set(E.map($=>$.StockName))].filter($=>$.toLowerCase().includes(A.toLowerCase())).sort()},[d,m,v,L,A]),M=u.useMemo(()=>{let E=d;return f.length>0&&(E=E.filter($=>f.includes($.StockName))),v!==null&&(E=E.filter($=>{const U=L.get($.StockName);return U!=null&&$.StrikePrice<=U})),[...new Set(E.map($=>$.ExpiryDate))].filter($=>$.toLowerCase().includes(k.toLowerCase())).sort()},[d,f,v,L,k]),re=()=>{i(),nr.success("Mock data loaded")},K=E=>{const X=encodeURIComponent(E.OptionName);t(`/option/${X}?${e.toString()}`)},q=E=>{t(`/stock/${encodeURIComponent(E)}?${e.toString()}`)};return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Put Options Data"}),a.jsx(QN,{})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(Q,{onClick:()=>{console.log("🔄 Navigating to portfolio generator..."),console.log("🔄 Current location:",window.location.href),t("/portfolio-generator"),console.log("🔄 Navigation triggered")},variant:"outline",size:"sm",className:"bg-white text-black border-gray-300 hover:bg-gray-50",children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),"Portfolio Generator"]}),a.jsxs(Q,{onClick:()=>t("/monthly-analysis"),variant:"outline",size:"sm",className:"bg-white text-black border-gray-300 hover:bg-gray-50",children:[a.jsx($n,{className:"mr-2 h-4 w-4"}),"Monthly Analysis"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vk,{}),a.jsx(RE,{})]})]}),d.length===0?a.jsxs(me,{className:"max-w-2xl mx-auto",children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(wx,{className:"h-5 w-5"}),"Loading Options Data"]})}),a.jsxs(pe,{className:"space-y-4",children:[o&&a.jsxs("div",{className:"text-sm text-destructive bg-destructive/10 p-3 rounded",children:[o,a.jsx("div",{className:"mt-2 space-y-2",children:a.jsx("div",{className:"text-center",children:a.jsx(Q,{onClick:re,variant:"outline",disabled:s,children:"Load Sample Data Instead"})})})]}),s&&a.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Loading..."}),!s&&!o&&a.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Loading..."})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:[F.length," Options Available"]}),a.jsxs("p",{className:"text-muted-foreground",children:["From ",O.length," different stocks"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-1 min-h-5",children:a.jsx(De,{children:"Strike Price Below"})}),a.jsxs(Kr,{children:[a.jsx(qr,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"min-w-[200px] justify-between",children:[v===null?"Select Period":`✓ ${(J=j.find(E=>E.days===v))==null?void 0:J.label}`,a.jsx(or,{className:"h-4 w-4"})]})}),a.jsxs(kr,{className:"w-[200px] bg-background z-50",children:[a.jsx(_r,{onClick:()=>p(null),children:"Clear Filter"}),j.map(E=>a.jsx(_r,{onClick:()=>p(E.days),children:E.label},E.days))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-1 min-h-5",children:[a.jsx(De,{children:"Risk Level"}),a.jsx(R,{})]}),a.jsxs(Kr,{children:[a.jsx(qr,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"min-w-[200px] justify-between",children:[x.length===0?"All Risk Levels":x.length===1?x[0]:`${x.length} levels selected`,a.jsx(or,{className:"h-4 w-4"})]})}),a.jsx(kr,{className:"w-[200px] p-3 bg-background z-50",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 border-b pb-2",children:[a.jsx(Ft,{id:"select-all-risk",checked:x.length===C.length,onCheckedChange:E=>{y(E?C.map(X=>X.value):[])}}),a.jsx("label",{htmlFor:"select-all-risk",className:"text-sm cursor-pointer font-medium",children:"Select All"})]}),C.map(E=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ft,{id:`risk-${E.value}`,checked:x.includes(E.value),onCheckedChange:X=>{y(X?$=>[...$,E.value]:$=>$.filter(U=>U!==E.value))}}),a.jsx("label",{htmlFor:`risk-${E.value}`,className:"text-sm cursor-pointer",children:E.label})]},E.value))]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-1 min-h-5",children:a.jsx(De,{children:"Filter by Stock"})}),a.jsxs(Kr,{children:[a.jsx(qr,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"min-w-[200px] justify-between",children:[f.length===0?"All Stocks":f.length===1?f[0]:`${f.length} stocks selected`,a.jsx(or,{className:"h-4 w-4"})]})}),a.jsx(kr,{className:"w-[200px] p-3 max-h-60 overflow-y-auto bg-background z-50",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{placeholder:"Search stocks...",value:A,onChange:E=>P(E.target.value.slice(0,50)),className:"h-8",maxLength:50}),a.jsxs("div",{className:"flex items-center space-x-2 border-b pb-2",children:[a.jsx(Ft,{id:"select-all-stocks",checked:f.length===O.length&&O.length>0,onCheckedChange:E=>{h(E?O:[])}}),a.jsx("label",{htmlFor:"select-all-stocks",className:"text-sm cursor-pointer font-medium",children:"Select All"})]}),O.map(E=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ft,{id:`stock-${E}`,checked:f.includes(E),onCheckedChange:X=>{h(X?$=>[...$,E]:$=>$.filter(U=>U!==E))}}),a.jsx("label",{htmlFor:`stock-${E}`,className:"text-sm cursor-pointer",children:E})]},E))]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-1 min-h-5",children:a.jsx(De,{children:"Filter by Expiry Date"})}),a.jsxs(Kr,{children:[a.jsx(qr,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"min-w-[200px] justify-between",children:[m.length===0?"All Expiry Dates":m.length===1?m[0]:`${m.length} dates selected`,a.jsx(or,{className:"h-4 w-4"})]})}),a.jsx(kr,{className:"w-[200px] p-3 max-h-60 overflow-y-auto bg-background z-50",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{placeholder:"Search dates...",value:k,onChange:E=>T(E.target.value.slice(0,50)),className:"h-8",maxLength:50}),a.jsxs("div",{className:"flex items-center space-x-2 border-b pb-2",children:[a.jsx(Ft,{id:"select-all-expiry",checked:m.length===M.length&&M.length>0,onCheckedChange:E=>{g(E?M:[])}}),a.jsx("label",{htmlFor:"select-all-expiry",className:"text-sm cursor-pointer font-medium",children:"Select All"})]}),M.map(E=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ft,{id:`expiry-${E}`,checked:m.includes(E),onCheckedChange:X=>{g(X?$=>[...$,E]:$=>$.filter(U=>U!==E))}}),a.jsx("label",{htmlFor:`expiry-${E}`,className:"text-sm cursor-pointer",children:E})]},E))]})})]})]})]})]}),a.jsxs(jc,{defaultValue:"table",className:"w-full",children:[a.jsxs(La,{className:"grid w-full grid-cols-2",children:[a.jsxs(rn,{value:"table",className:"flex items-center gap-2",children:[a.jsx(Nx,{className:"h-4 w-4"}),"Table View"]}),a.jsxs(rn,{value:"charts",className:"flex items-center gap-2",children:[a.jsx(js,{className:"h-4 w-4"}),"Charts"]})]}),a.jsx(nn,{value:"table",children:a.jsx(Lm,{data:F,onRowClick:K,onStockClick:q,columnFilters:D,onColumnFiltersChange:H,sortField:b,sortDirection:_,onSortChange:(E,X)=>{w(E),S(X)},enableFiltering:!0})}),a.jsx(nn,{value:"charts",children:a.jsx(HP,{data:F})})]})]})]})},ME=()=>{var Oe,Ae;const t=an(),{data:e,isLoading:r,error:n}=Cc(),s=$a(e||[]),{getLowPriceForPeriod:o}=Fa(),{underlyingValue:i,setUnderlyingValue:l,transactionCost:c}=Js(),[d,f]=u.useState(()=>{const B=localStorage.getItem("portfolioGenerator_totalPremiumTarget");return B?parseInt(B):500}),[h,m]=u.useState(()=>{const B=localStorage.getItem("portfolioGenerator_totalPremiumTarget");return B||"500"}),[g,v]=u.useState(()=>{const B=localStorage.getItem("portfolioGenerator_strikeBelowPeriod");return B?parseInt(B):null}),[p,x]=u.useState(()=>{const B=localStorage.getItem("portfolioGenerator_minProbabilityWorthless");return B?parseInt(B):null}),[y,b]=u.useState(()=>localStorage.getItem("portfolioGenerator_selectedExpiryDate")||""),[w,_]=u.useState(()=>{const B=localStorage.getItem("portfolioGenerator_underlyingStockValue");return B||i.toString()}),[S,j]=u.useState(()=>localStorage.getItem("portfolioGenerator_selectedProbabilityField")||"ProbWorthless_Bayesian_IsoCal"),[C,N]=u.useState(()=>{const B=localStorage.getItem("portfolioGenerator_generatedPortfolio");return B?JSON.parse(B):[]}),[R,A]=u.useState(()=>localStorage.getItem("portfolioGenerator_portfolioGenerated")==="true"),[P,k]=u.useState(()=>{const B=localStorage.getItem("portfolioGenerator_totalUnderlyingValue");return B?parseInt(B):0}),[T,D]=u.useState(()=>localStorage.getItem("portfolioGenerator_portfolioMessage")||""),[H,L]=u.useState(()=>{const B=localStorage.getItem("portfolioGenerator_totalPotentialLoss");return B?parseFloat(B):0}),[F,O]=u.useState(null),[M,re]=u.useState("asc"),[K,q]=u.useState(!1),J=B=>{F===B?re(M==="asc"?"desc":"asc"):(O(B),re("asc"))},E=[{label:"1 Week Low",days:7},{label:"1 Month Low",days:30},{label:"3 Months Low",days:90},{label:"6 Months Low",days:180},{label:"9 Months Low",days:270},{label:"1 Year Low",days:365}],X=[{value:"ProbWorthless_Bayesian_IsoCal",label:"Bayesian Calibrated"},{value:"1_2_3_ProbOfWorthless_Weighted",label:"Weighted Average"},{value:"1_ProbOfWorthless_Original",label:"Original"},{value:"2_ProbOfWorthless_Calibrated",label:"Calibrated"},{value:"3_ProbOfWorthless_Historical_IV",label:"Historical IV"}],$=u.useMemo(()=>[...new Set(s.map(B=>B.ExpiryDate))].sort(),[s]),U=B=>{const Ce=parseInt(B)||500,ce=Math.max(500,Math.min(1e6,Ce));f(ce),m(ce.toString()),localStorage.setItem("portfolioGenerator_totalPremiumTarget",ce.toString())},Z=B=>{_(B)},ee=()=>{const B=parseInt(w)||1e4,Ce=Math.max(1e4,Math.min(1e6,B));l(Ce),_(Ce.toString()),localStorage.setItem("portfolioGenerator_underlyingStockValue",Ce.toString()),R&&(N([]),A(!1),D(""),L(0),localStorage.removeItem("portfolioGenerator_generatedPortfolio"),localStorage.removeItem("portfolioGenerator_portfolioGenerated"),localStorage.removeItem("portfolioGenerator_portfolioMessage"),localStorage.removeItem("portfolioGenerator_totalUnderlyingValue"),localStorage.removeItem("portfolioGenerator_totalPotentialLoss"))},z=B=>{const Ce=B[S],ce=B["1_2_3_ProbOfWorthless_Weighted"];return Ce||ce||0},oe=()=>{try{const B=[],Ce=new Set;let ce=0,Ie=s.filter(ue=>{if(ue.Premium<=0)return!1;if(g){const ve=o(ue.StockName,g);if(!ve||ue.StrikePrice>ve)return!1}if(y&&ue.ExpiryDate!==y)return!1;if(p){const ve=z(ue),qe=p/100;if(ve<qe)return!1}return!0});Ie.forEach(ue=>{const ve=z(ue),qe=Math.abs(ue.PotentialLossAtLowerBound||1),Le=ue.Premium,Je=Le-(1-ve)*qe,We=ue.NumberOfContractsBasedOnLimit*ue.StrikePrice*100,Fr=We>0?Je/We:0,ut=qe>0?Le/qe*ve:ve;ue.expectedValue=Je,ue.expectedValuePerCapital=Fr,ue.riskAdjustedScore=ut}),Ie.sort((ue,ve)=>{const qe=ue.riskAdjustedScore||0,Le=ve.riskAdjustedScore||0;if(Le!==qe)return Le-qe;const Je=ue.expectedValuePerCapital||0,We=ve.expectedValuePerCapital||0;return We!==Je?We-Je:ve.Premium-ue.Premium});for(const ue of Ie)Ce.has(ue.StockName)||ce+ue.Premium<=d&&(B.push(ue),Ce.add(ue.StockName),ce+=ue.Premium);if(ce<d){const ue=Ie.filter(ve=>!Ce.has(ve.StockName)&&ve.Premium<=d-ce);for(const ve of ue)ce+ve.Premium<=d&&(B.push(ve),Ce.add(ve.StockName),ce+=ve.Premium)}const Gt=B.reduce((ue,ve)=>ue+ve.NumberOfContractsBasedOnLimit*ve.StrikePrice*100,0),Yt=B.reduce((ue,ve)=>{const qe=ve.PotentialLossAtLowerBound||0;return ue+qe},0);let dt="";if(ce<d){const ue=d-ce;dt=`Portfolio generated with ${ce} SEK premium (${ue} SEK below target). `}else dt=`Portfolio successfully generated with ${ce} SEK premium.`;N(B),k(Gt),D(dt),A(!0),L(Yt),localStorage.setItem("portfolioGenerator_generatedPortfolio",JSON.stringify(B)),localStorage.setItem("portfolioGenerator_totalUnderlyingValue",Gt.toString()),localStorage.setItem("portfolioGenerator_portfolioMessage",dt),localStorage.setItem("portfolioGenerator_totalPotentialLoss",Yt.toString()),localStorage.setItem("portfolioGenerator_portfolioGenerated","true")}catch(B){console.error("Error:",B),D(`Error generating portfolio: ${B}`)}},te=B=>{const Ce=encodeURIComponent(B.OptionName);t(`/option/${Ce}`)},ye=B=>{t(`/stock/${encodeURIComponent(B)}`)},je=()=>{t("/")};return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs(Q,{variant:"ghost",onClick:je,className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"h-4 w-4"}),"Back to Options"]}),a.jsx("h1",{className:"text-3xl font-bold",children:"Automatic Portfolio Generator"}),a.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>q(!K),className:"ml-auto flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[a.jsx(ar,{className:"h-4 w-4"}),"How it works"]})]}),K&&a.jsx(me,{className:"border-muted bg-muted/20",children:a.jsx(pe,{className:"pt-4",children:a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"The Portfolio Generator uses an algorithm to evaluate each option's probability of expiring worthless, potential loss, and premium. It calculates risk-adjusted scores and expected values, ranks all options, and automatically selects a diversified set that maximizes premium while minimizing risk. It will always pick just one option per stock."})})}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(Sl,{className:"h-5 w-5"}),"Portfolio Configuration"]})}),a.jsxs(pe,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"totalPremium",children:"Total Portfolio Premium"}),a.jsx(ze,{id:"totalPremium",type:"number",value:h,onChange:B=>m(B.target.value),onBlur:B=>U(B.target.value),placeholder:"500 - 1,000,000"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Range: 500 - 1,000,000 SEK"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"underlyingValue",children:"Underlying Stock Value Per Option"}),a.jsx(ze,{id:"underlyingValue",type:"number",value:w,onChange:B=>Z(B.target.value),onBlur:ee,placeholder:"10,000 - 1,000,000"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Range: 10,000 - 1,000,000 SEK"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{children:"Strike Price Below"}),a.jsxs(Kr,{children:[a.jsx(qr,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"w-full justify-between",children:[g===null?"Select Period (Optional)":(Oe=E.find(B=>B.days===g))==null?void 0:Oe.label,a.jsx(or,{className:"h-4 w-4"})]})}),a.jsxs(kr,{className:"w-full bg-background z-50",children:[a.jsx(_r,{onClick:()=>{v(null),localStorage.setItem("portfolioGenerator_strikeBelowPeriod","")},children:"No Filter"}),E.map(B=>a.jsx(_r,{onClick:()=>{v(B.days),localStorage.setItem("portfolioGenerator_strikeBelowPeriod",B.days.toString())},children:B.label},B.days))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"minProbability",children:"Minimum Probability of Worthless (%)"}),a.jsx(ze,{id:"minProbability",type:"number",min:"40",max:"100",value:p||"",onChange:B=>{const Ce=B.target.value?parseInt(B.target.value):null;x(Ce),localStorage.setItem("portfolioGenerator_minProbabilityWorthless",Ce?Ce.toString():"")},placeholder:"40-100% (Optional)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{children:"Probability Field to Use"}),a.jsxs(Kr,{children:[a.jsx(qr,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"w-full justify-between",children:[((Ae=X.find(B=>B.value===S))==null?void 0:Ae.label)||"Select Field",a.jsx(or,{className:"h-4 w-4"})]})}),a.jsx(kr,{className:"w-full bg-background z-50",children:X.map(B=>a.jsx(_r,{onClick:()=>{j(B.value),localStorage.setItem("portfolioGenerator_selectedProbabilityField",B.value)},children:B.label},B.value))})]})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(De,{children:"Expiry Date"}),a.jsxs(Kr,{children:[a.jsx(qr,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"w-full justify-between",children:[y||"Select Expiry Date (Optional)",a.jsx(or,{className:"h-4 w-4"})]})}),a.jsxs(kr,{className:"w-full bg-background z-50 max-h-[200px] overflow-y-auto",children:[a.jsx(_r,{onClick:()=>{b(""),localStorage.setItem("portfolioGenerator_selectedExpiryDate","")},children:"All Expiry Dates"}),$.map(B=>a.jsx(_r,{onClick:()=>{b(B),localStorage.setItem("portfolioGenerator_selectedExpiryDate",B)},children:B},B))]})]})]})]}),a.jsx(Q,{onClick:oe,className:"w-full md:w-auto",size:"lg",children:"Generate Portfolio Automatically"})]})]}),R&&a.jsxs(me,{children:[a.jsxs(we,{children:[a.jsxs(_e,{children:["Generated Portfolio (",C.length," options)"]}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsx("p",{children:T}),a.jsxs("p",{children:["Total Underlying Stock Value: ",P.toLocaleString()," SEK"]}),a.jsxs("p",{children:["Total Premium: ",C.reduce((B,Ce)=>B+Ce.Premium,0).toLocaleString()," SEK (Based on ",i.toLocaleString()," SEK underlying value, ",c," SEK transaction cost per option included)"]}),a.jsxs("p",{children:["Total Calculated Risk of Loss: ",Math.round(H).toLocaleString()," SEK"]})]})]}),a.jsx(pe,{children:a.jsx(Lm,{data:C,onRowClick:te,onStockClick:ye,sortField:F,sortDirection:M,onSortChange:J,enableFiltering:!1})})]})]})};var OE=[" ","Enter","ArrowUp","ArrowDown"],IE=[" ","Enter"],so="Select",[Ha,za,LE]=Us(so),[ts,sT]=zt(so,[LE,qn]),Ka=qn(),[$E,Lr]=ts(so),[FE,WE]=ts(so),vg=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:h,disabled:m,required:g,form:v}=t,p=Ka(e),[x,y]=u.useState(null),[b,w]=u.useState(null),[_,S]=u.useState(!1),j=Xn(d),[C=!1,N]=Vt({prop:n,defaultProp:s,onChange:o}),[R,A]=Vt({prop:i,defaultProp:l,onChange:c}),P=u.useRef(null),k=x?v||!!x.closest("form"):!0,[T,D]=u.useState(new Set),H=Array.from(T).map(L=>L.props.value).join(";");return a.jsx(Il,{...p,children:a.jsxs($E,{required:g,scope:e,trigger:x,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Pt(),value:R,onValueChange:A,open:C,onOpenChange:N,dir:j,triggerPointerDownPosRef:P,disabled:m,children:[a.jsx(Ha.Provider,{scope:e,children:a.jsx(FE,{scope:t.__scopeSelect,onNativeOptionAdd:u.useCallback(L=>{D(F=>new Set(F).add(L))},[]),onNativeOptionRemove:u.useCallback(L=>{D(F=>{const O=new Set(F);return O.delete(L),O})},[]),children:r})}),k?a.jsxs(Vg,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:R,onChange:L=>A(L.target.value),disabled:m,form:v,children:[R===void 0?a.jsx("option",{value:""}):null,Array.from(T)]},H):null]})})};vg.displayName=so;var xg="SelectTrigger",yg=u.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=Ka(r),i=Lr(xg,r),l=i.disabled||n,c=se(e,i.onTriggerChange),d=za(r),f=u.useRef("touch"),[h,m,g]=Ug(p=>{const x=d().filter(w=>!w.disabled),y=x.find(w=>w.value===i.value),b=Hg(x,p,y);b!==void 0&&i.onValueChange(b.value)}),v=p=>{l||(i.onOpenChange(!0),g()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(Ll,{asChild:!0,...o,children:a.jsx(G.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Bg(i.value)?"":void 0,...s,ref:c,onClick:V(s.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&v(p)}),onPointerDown:V(s.onPointerDown,p=>{f.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:V(s.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(x&&p.key===" ")&&OE.includes(p.key)&&(v(),p.preventDefault())})})})});yg.displayName=xg;var bg="SelectValue",wg=u.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=t,c=Lr(bg,r),{onValueNodeHasChildrenChange:d}=c,f=o!==void 0,h=se(e,c.onValueNodeChange);return Ke(()=>{d(f)},[d,f]),a.jsx(G.span,{...l,ref:h,style:{pointerEvents:"none"},children:Bg(c.value)?a.jsx(a.Fragment,{children:i}):o})});wg.displayName=bg;var BE="SelectIcon",_g=u.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return a.jsx(G.span,{"aria-hidden":!0,...s,ref:e,children:n||"▼"})});_g.displayName=BE;var VE="SelectPortal",Sg=t=>a.jsx(Hs,{asChild:!0,...t});Sg.displayName=VE;var on="SelectContent",jg=u.forwardRef((t,e)=>{const r=Lr(on,t.__scopeSelect),[n,s]=u.useState();if(Ke(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ct.createPortal(a.jsx(Cg,{scope:t.__scopeSelect,children:a.jsx(Ha.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),o):null}return a.jsx(Pg,{...t,ref:e})});jg.displayName=on;var wt=10,[Cg,$r]=ts(on),UE="SelectContentImpl",Pg=u.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:x,...y}=t,b=Lr(on,r),[w,_]=u.useState(null),[S,j]=u.useState(null),C=se(e,U=>_(U)),[N,R]=u.useState(null),[A,P]=u.useState(null),k=za(r),[T,D]=u.useState(!1),H=u.useRef(!1);u.useEffect(()=>{if(w)return sc(w)},[w]),nc();const L=u.useCallback(U=>{const[Z,...ee]=k().map(te=>te.ref.current),[z]=ee.slice(-1),oe=document.activeElement;for(const te of U)if(te===oe||(te==null||te.scrollIntoView({block:"nearest"}),te===Z&&S&&(S.scrollTop=0),te===z&&S&&(S.scrollTop=S.scrollHeight),te==null||te.focus(),document.activeElement!==oe))return},[k,S]),F=u.useCallback(()=>L([N,w]),[L,N,w]);u.useEffect(()=>{T&&F()},[T,F]);const{onOpenChange:O,triggerPointerDownPosRef:M}=b;u.useEffect(()=>{if(w){let U={x:0,y:0};const Z=z=>{var oe,te;U={x:Math.abs(Math.round(z.pageX)-(((oe=M.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(z.pageY)-(((te=M.current)==null?void 0:te.y)??0))}},ee=z=>{U.x<=10&&U.y<=10?z.preventDefault():w.contains(z.target)||O(!1),document.removeEventListener("pointermove",Z),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ee,{capture:!0})}}},[w,O,M]),u.useEffect(()=>{const U=()=>O(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[O]);const[re,K]=Ug(U=>{const Z=k().filter(oe=>!oe.disabled),ee=Z.find(oe=>oe.ref.current===document.activeElement),z=Hg(Z,U,ee);z&&setTimeout(()=>z.ref.current.focus())}),q=u.useCallback((U,Z,ee)=>{const z=!H.current&&!ee;(b.value!==void 0&&b.value===Z||z)&&(R(U),z&&(H.current=!0))},[b.value]),J=u.useCallback(()=>w==null?void 0:w.focus(),[w]),E=u.useCallback((U,Z,ee)=>{const z=!H.current&&!ee;(b.value!==void 0&&b.value===Z||z)&&P(U)},[b.value]),X=n==="popper"?dl:Ng,$=X===dl?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(Cg,{scope:r,content:w,viewport:S,onViewportChange:j,itemRefCallback:q,selectedItem:N,onItemLeave:J,itemTextRefCallback:E,focusSelectedItem:F,selectedItemText:A,position:n,isPositioned:T,searchRef:re,children:a.jsx(ka,{as:Dr,allowPinchZoom:!0,children:a.jsx(Pa,{asChild:!0,trapped:b.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:V(s,U=>{var Z;(Z=b.trigger)==null||Z.focus({preventScroll:!0}),U.preventDefault()}),children:a.jsx(Un,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:a.jsx(X,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:U=>U.preventDefault(),...y,...$,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:V(y.onKeyDown,U=>{const Z=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!Z&&U.key.length===1&&K(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let z=k().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(U.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const oe=U.target,te=z.indexOf(oe);z=z.slice(te+1)}setTimeout(()=>L(z)),U.preventDefault()}})})})})})})});Pg.displayName=UE;var HE="SelectItemAlignedPosition",Ng=u.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=Lr(on,r),i=$r(on,r),[l,c]=u.useState(null),[d,f]=u.useState(null),h=se(e,C=>f(C)),m=za(r),g=u.useRef(!1),v=u.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:b}=i,w=u.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&p&&x&&y){const C=o.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(o.dir!=="rtl"){const oe=A.left-N.left,te=R.left-oe,ye=C.left-te,je=C.width+ye,Oe=Math.max(je,N.width),Ae=window.innerWidth-wt,B=Rs(te,[wt,Math.max(wt,Ae-Oe)]);l.style.minWidth=je+"px",l.style.left=B+"px"}else{const oe=N.right-A.right,te=window.innerWidth-R.right-oe,ye=window.innerWidth-C.right-te,je=C.width+ye,Oe=Math.max(je,N.width),Ae=window.innerWidth-wt,B=Rs(te,[wt,Math.max(wt,Ae-Oe)]);l.style.minWidth=je+"px",l.style.right=B+"px"}const P=m(),k=window.innerHeight-wt*2,T=p.scrollHeight,D=window.getComputedStyle(d),H=parseInt(D.borderTopWidth,10),L=parseInt(D.paddingTop,10),F=parseInt(D.borderBottomWidth,10),O=parseInt(D.paddingBottom,10),M=H+L+T+O+F,re=Math.min(x.offsetHeight*5,M),K=window.getComputedStyle(p),q=parseInt(K.paddingTop,10),J=parseInt(K.paddingBottom,10),E=C.top+C.height/2-wt,X=k-E,$=x.offsetHeight/2,U=x.offsetTop+$,Z=H+L+U,ee=M-Z;if(Z<=E){const oe=P.length>0&&x===P[P.length-1].ref.current;l.style.bottom="0px";const te=d.clientHeight-p.offsetTop-p.offsetHeight,ye=Math.max(X,$+(oe?J:0)+te+F),je=Z+ye;l.style.height=je+"px"}else{const oe=P.length>0&&x===P[0].ref.current;l.style.top="0px";const ye=Math.max(E,H+p.offsetTop+(oe?q:0)+$)+ee;l.style.height=ye+"px",p.scrollTop=Z-E+p.offsetTop}l.style.margin=`${wt}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,o.trigger,o.valueNode,l,d,p,x,y,o.dir,n]);Ke(()=>w(),[w]);const[_,S]=u.useState();Ke(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const j=u.useCallback(C=>{C&&v.current===!0&&(w(),b==null||b(),v.current=!1)},[w,b]);return a.jsx(KE,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(G.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ng.displayName=HE;var zE="SelectPopperPosition",dl=u.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=wt,...o}=t,i=Ka(r);return a.jsx($l,{...i,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dl.displayName=zE;var[KE,Ic]=ts(on,{}),ul="SelectViewport",kg=u.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=$r(ul,r),i=Ic(ul,r),l=se(e,o.onViewportChange),c=u.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ha.Slot,{scope:r,children:a.jsx(G.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:V(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const g=Math.abs(c.current-f.scrollTop);if(g>0){const v=window.innerHeight-wt*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<v){const b=y+g,w=Math.min(v,b),_=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});kg.displayName=ul;var Eg="SelectGroup",[qE,GE]=ts(Eg),YE=u.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Pt();return a.jsx(qE,{scope:r,id:s,children:a.jsx(G.div,{role:"group","aria-labelledby":s,...n,ref:e})})});YE.displayName=Eg;var Tg="SelectLabel",Dg=u.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=GE(Tg,r);return a.jsx(G.div,{id:s.id,...n,ref:e})});Dg.displayName=Tg;var ta="SelectItem",[XE,Rg]=ts(ta),Ag=u.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=t,l=Lr(ta,r),c=$r(ta,r),d=l.value===n,[f,h]=u.useState(o??""),[m,g]=u.useState(!1),v=se(e,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,s)}),p=Pt(),x=u.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(XE,{scope:r,value:n,disabled:s,textId:p,isSelected:d,onItemTextChange:u.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:a.jsx(Ha.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:a.jsx(G.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:V(i.onFocus,()=>g(!0)),onBlur:V(i.onBlur,()=>g(!1)),onClick:V(i.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:V(i.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:V(i.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:V(i.onPointerMove,b=>{var w;x.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:V(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:V(i.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(IE.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});Ag.displayName=ta;var ms="SelectItemText",Mg=u.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,i=Lr(ms,r),l=$r(ms,r),c=Rg(ms,r),d=WE(ms,r),[f,h]=u.useState(null),m=se(e,y=>h(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),g=f==null?void 0:f.textContent,v=u.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=d;return Ke(()=>(p(v),()=>x(v)),[p,x,v]),a.jsxs(a.Fragment,{children:[a.jsx(G.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ct.createPortal(o.children,i.valueNode):null]})});Mg.displayName=ms;var Og="SelectItemIndicator",Ig=u.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Rg(Og,r).isSelected?a.jsx(G.span,{"aria-hidden":!0,...n,ref:e}):null});Ig.displayName=Og;var hl="SelectScrollUpButton",Lg=u.forwardRef((t,e)=>{const r=$r(hl,t.__scopeSelect),n=Ic(hl,t.__scopeSelect),[s,o]=u.useState(!1),i=se(e,n.onScrollButtonChange);return Ke(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(Fg,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Lg.displayName=hl;var fl="SelectScrollDownButton",$g=u.forwardRef((t,e)=>{const r=$r(fl,t.__scopeSelect),n=Ic(fl,t.__scopeSelect),[s,o]=u.useState(!1),i=se(e,n.onScrollButtonChange);return Ke(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;o(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(Fg,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$g.displayName=fl;var Fg=u.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=$r("SelectScrollButton",r),i=u.useRef(null),l=za(r),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Ke(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(G.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:V(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:V(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:V(s.onPointerLeave,()=>{c()})})}),JE="SelectSeparator",Wg=u.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(G.div,{"aria-hidden":!0,...n,ref:e})});Wg.displayName=JE;var ml="SelectArrow",QE=u.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Ka(r),o=Lr(ml,r),i=$r(ml,r);return o.open&&i.position==="popper"?a.jsx(Fl,{...s,...n,ref:e}):null});QE.displayName=ml;function Bg(t){return t===""||t===void 0}var Vg=u.forwardRef((t,e)=>{const{value:r,...n}=t,s=u.useRef(null),o=se(e,s),i=uc(r);return u.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&f){const h=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(h)}},[i,r]),a.jsx(zs,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});Vg.displayName="BubbleSelect";function Ug(t){const e=Re(t),r=u.useRef(""),n=u.useRef(0),s=u.useCallback(i=>{const l=r.current+i;e(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=u.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function Hg(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=ZE(t,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function ZE(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var e1=vg,zg=yg,t1=wg,r1=_g,n1=Sg,Kg=jg,s1=kg,qg=Dg,Gg=Ag,o1=Mg,a1=Ig,Yg=Lg,Xg=$g,Jg=Wg;const ji=e1,Ci=t1,To=u.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(zg,{ref:n,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(r1,{asChild:!0,children:a.jsx(or,{className:"h-4 w-4 opacity-50"})})]}));To.displayName=zg.displayName;const Qg=u.forwardRef(({className:t,...e},r)=>a.jsx(Yg,{ref:r,className:Y("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(yx,{className:"h-4 w-4"})}));Qg.displayName=Yg.displayName;const Zg=u.forwardRef(({className:t,...e},r)=>a.jsx(Xg,{ref:r,className:Y("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(or,{className:"h-4 w-4"})}));Zg.displayName=Xg.displayName;const Do=u.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>a.jsx(n1,{children:a.jsxs(Kg,{ref:s,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(Qg,{}),a.jsx(s1,{className:Y("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(Zg,{})]})}));Do.displayName=Kg.displayName;const i1=u.forwardRef(({className:t,...e},r)=>a.jsx(qg,{ref:r,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));i1.displayName=qg.displayName;const er=u.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Gg,{ref:n,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(a1,{children:a.jsx(_l,{className:"h-4 w-4"})})}),a.jsx(o1,{children:e})]}));er.displayName=Gg.displayName;const l1=u.forwardRef(({className:t,...e},r)=>a.jsx(Jg,{ref:r,className:Y("-mx-1 my-1 h-px bg-muted",t),...e}));l1.displayName=Jg.displayName;const c1=()=>{const[t,e]=u.useState([]),[r,n]=u.useState([]),[s,o]=u.useState(!0),[i,l]=u.useState(null),c=async()=>{try{o(!0),l(null);const h=["/data/Stocks_Monthly_Data.csv","https://raw.githubusercontent.com/yourusername/yourrepo/main/data/Stocks_Monthly_Data.csv"];let m="";for(const x of h)try{const y=await fetch(x);if(y.ok){m=await y.text();break}}catch(y){console.warn(`Failed to fetch from ${x}:`,y)}if(!m)throw new Error("Could not load monthly stock data from any source");const g=Ln.parse(m,{header:!0,skipEmptyLines:!0,transform:(x,y)=>["month","year","day_low_day_of_month","day_high_day_of_month"].includes(y)?parseInt(x)||0:["open","high","low","close","close_previous_month","low_previous_month","pct_return_month","pct_open_to_low","pct_low_to_high","pct_low_previous_month_to_low_current_month"].includes(y)?parseFloat(x)||0:x});g.errors.length>0&&console.warn("CSV parsing warnings:",g.errors);const v=g.data.filter(x=>x.name&&x.month&&x.year);e(v);const p=d(v);n(p)}catch(h){console.error("Error loading monthly data:",h),l(h instanceof Error?h.message:"Unknown error occurred")}finally{o(!1)}},d=h=>{const m=new Map,g=h.reduce((p,x)=>{const y=`${x.name}-${x.month}`;return p[y]||(p[y]=[]),p[y].push(x),p},{});for(const[p,x]of Object.entries(g)){const[y,b]=p.split("-"),w=parseInt(b),_=x.filter(A=>A.pct_return_month>=0).length,S=x.length,j=x.reduce((A,P)=>A+P.pct_return_month,0)/S,C=x.reduce((A,P)=>A+P.pct_open_to_low,0)/S,N=Math.min(...x.map(A=>A.pct_open_to_low)),R=Math.max(...x.map(A=>A.pct_open_to_low));m.set(p,{name:y,month:w,number_of_months_available:S,number_of_months_positive_return:_,pct_pos_return_months:_/S*100,return_month_mean_pct_return_month:j,open_to_low_mean_pct_return_month:C,open_to_low_min_pct_return_month:N,open_to_low_max_pct_return_month:R,top_5_accumulated_score:0})}const v=Array.from(m.values());return f(v),v},f=h=>{for(let m=1;m<=12;m++){const g=h.filter(p=>p.month===m&&p.number_of_months_available>=3);["pct_pos_return_months","return_month_mean_pct_return_month","open_to_low_mean_pct_return_month"].forEach(p=>{[...g].sort((y,b)=>b[p]-y[p]).slice(0,5).forEach((y,b)=>{y.top_5_accumulated_score+=5-b})})}};return u.useEffect(()=>{c()},[]),{monthlyData:t,monthlyStats:r,isLoading:s,error:i,loadMonthlyData:c}},du=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d1=({data:t})=>{const e=Array.from(new Set(t.map(i=>i.name))).slice(0,20),r=Array.from({length:12},(i,l)=>l+1),s=e.map(i=>{const l=r.map(c=>{const d=t.find(f=>f.name===i&&f.month===c);return d?d.pct_pos_return_months:null});return{stock:i,data:l}}),o=i=>i===null?"bg-muted":i>=80?"bg-green-600":i>=70?"bg-green-500":i>=60?"bg-green-400":i>=50?"bg-yellow-400":i>=40?"bg-orange-400":i>=30?"bg-red-400":"bg-red-500";return a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("div",{className:"min-w-[800px]",children:[a.jsxs("div",{className:"grid grid-cols-13 gap-1 mb-2",children:[a.jsx("div",{className:"text-xs font-medium text-muted-foreground p-2",children:"Stock"}),du.map(i=>a.jsx("div",{className:"text-xs font-medium text-muted-foreground text-center p-1",children:i},i))]}),a.jsx("div",{className:"space-y-1",children:s.map(({stock:i,data:l})=>a.jsxs("div",{className:"grid grid-cols-13 gap-1",children:[a.jsx("div",{className:"text-xs font-medium p-2 truncate bg-muted rounded",children:i}),l.map((c,d)=>a.jsx("div",{className:`h-8 rounded flex items-center justify-center text-xs font-medium text-white ${o(c)}`,title:c!==null?`${i} - ${du[d]}: ${c.toFixed(1)}%`:"No data",children:c!==null?c.toFixed(0):"-"},d))]},i))}),a.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"% Positive Months:"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),a.jsx("span",{className:"text-xs",children:"0-30%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-400 rounded"}),a.jsx("span",{className:"text-xs",children:"30-50%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded"}),a.jsx("span",{className:"text-xs",children:"50-60%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-green-400 rounded"}),a.jsx("span",{className:"text-xs",children:"60-70%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),a.jsx("span",{className:"text-xs",children:"70%+"})]})]})]})})},u1=({data:t,metric:e,month:r})=>{const n={pct_pos_return_months:"Positive Months %",return_month_mean_pct_return_month:"Avg Return %",top_5_accumulated_score:"Score"},o=(()=>{let c=t;return r>0&&(c=t.filter(d=>d.month===r)),c.filter(d=>d.number_of_months_available>=3).sort((d,f)=>f[e]-d[e]).slice(0,10).map(d=>({name:d.name,value:d[e],months:d.number_of_months_available}))})(),i=(c,d)=>{const f=["#10b981","#06b6d4","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#ef4444"];return f[d%f.length]},l=c=>e==="top_5_accumulated_score"?c.toFixed(0):c.toFixed(1)+"%";return o.length===0?a.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No data available for the selected filters"}):a.jsx("div",{className:"h-64",children:a.jsx(In,{width:"100%",height:"100%",children:a.jsxs(Cu,{data:o,layout:"horizontal",margin:{top:5,right:30,left:50,bottom:5},children:[a.jsx(Qr,{type:"number"}),a.jsx(Er,{type:"category",dataKey:"name",width:40,tick:{fontSize:10},tickFormatter:c=>c.length>8?c.substring(0,8)+"...":c}),a.jsx(Zr,{formatter:(c,d)=>[l(c),n[e]],labelFormatter:c=>`Stock: ${c}`,content:({active:c,payload:d,label:f})=>{if(c&&d&&d.length){const h=d[0].payload;return a.jsxs("div",{className:"bg-background border rounded-lg p-3 shadow-lg",children:[a.jsx("p",{className:"font-medium",children:f}),a.jsxs("p",{className:"text-primary",children:[n[e],": ",l(d[0].value)]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["History: ",h.months," months"]})]})}return null}}),a.jsx(pl,{dataKey:"value",radius:[0,2,2,0],children:o.map((c,d)=>a.jsx(Pu,{fill:i(c.value,d)},`cell-${d}`))})]})})})},h1=({data:t})=>{const e=t.filter(s=>s.number_of_months_available>=3).slice(0,50).map(s=>({x:s.return_month_mean_pct_return_month,y:Math.abs(s.open_to_low_mean_pct_return_month),z:s.number_of_months_available,name:s.name,score:s.top_5_accumulated_score,posMonths:s.pct_pos_return_months})),r=s=>s>=10?"#10b981":s>=5?"#3b82f6":s>=2?"#f59e0b":"#ef4444",n=s=>20+80*Math.min(s/24,1);return e.length===0?a.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No data available for scatter plot"}):a.jsxs("div",{className:"h-64",children:[a.jsx(In,{width:"100%",height:"100%",children:a.jsxs(Su,{data:e,margin:{top:20,right:20,bottom:20,left:20},children:[a.jsx(Qr,{type:"number",dataKey:"x",name:"Avg Return",unit:"%",domain:["dataMin - 1","dataMax + 1"]}),a.jsx(Er,{type:"number",dataKey:"y",name:"Avg Drawdown",unit:"%",domain:[0,"dataMax + 1"]}),a.jsx(Zr,{cursor:{strokeDasharray:"3 3"},content:({active:s,payload:o})=>{if(s&&o&&o.length){const i=o[0].payload;return a.jsxs("div",{className:"bg-background border rounded-lg p-3 shadow-lg",children:[a.jsx("p",{className:"font-medium",children:i.name}),a.jsxs("p",{className:"text-primary",children:["Avg Return: ",i.x.toFixed(2),"%"]}),a.jsxs("p",{className:"text-orange-500",children:["Avg Drawdown: ",i.y.toFixed(2),"%"]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["History: ",i.z," months"]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["Score: ",i.score]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["Positive Months: ",i.posMonths.toFixed(1),"%"]})]})}return null}}),a.jsx(ju,{dataKey:"y",fill:"#8884d8",children:e.map((s,o)=>a.jsx(Pu,{fill:r(s.score),r:Math.sqrt(n(s.z))/3},`cell-${o}`))})]})}),a.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{children:"High Score (10+)"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsx("span",{children:"Medium Score (5-9)"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),a.jsx("span",{children:"Low Score (2-4)"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsx("span",{children:"Very Low (0-1)"})]}),a.jsx("span",{className:"text-muted-foreground",children:"• Bubble size = History depth"})]})]})},f1=({data:t})=>{const[e,r]=u.useState("top_5_accumulated_score"),[n,s]=u.useState("desc"),[o,i]=u.useState(""),[l,c]=u.useState(1),d=20,f=y=>{e===y?s(n==="asc"?"desc":"asc"):(r(y),s("desc")),c(1)},h=u.useMemo(()=>{let y=t;return o&&(y=t.filter(b=>b.name.toLowerCase().includes(o.toLowerCase()))),y.sort((b,w)=>{const _=b[e],S=w[e];return n==="asc"?_-S:S-_})},[t,o,e,n]),m=u.useMemo(()=>{const y=(l-1)*d;return h.slice(y,y+d)},[h,l]),g=Math.ceil(h.length/d),v=y=>e!==y?a.jsx(Ao,{className:"h-4 w-4"}):n==="asc"?a.jsx(px,{className:"h-4 w-4"}):a.jsx(mx,{className:"h-4 w-4"}),p=(y,b=2)=>y.toFixed(b),x=y=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][y-1]||"All";return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ze,{placeholder:"Search stocks...",value:o,onChange:y=>{i(y.target.value),c(1)},className:"max-w-sm"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.length," results"]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Yl,{children:[a.jsx(Xl,{children:a.jsxs(Ds,{children:[a.jsx(Mt,{className:"w-20",children:a.jsxs(Q,{variant:"ghost",onClick:()=>f("name"),className:"h-auto p-0 font-medium",children:["Stock ",v("name")]})}),a.jsx(Mt,{className:"w-16",children:a.jsxs(Q,{variant:"ghost",onClick:()=>f("month"),className:"h-auto p-0 font-medium",children:["Month ",v("month")]})}),a.jsx(Mt,{className:"w-20",children:a.jsxs(Q,{variant:"ghost",onClick:()=>f("number_of_months_available"),className:"h-auto p-0 font-medium text-xs",children:["History ",v("number_of_months_available")]})}),a.jsx(Mt,{className:"w-20",children:a.jsxs(Q,{variant:"ghost",onClick:()=>f("pct_pos_return_months"),className:"h-auto p-0 font-medium text-xs",children:["Pos % ",v("pct_pos_return_months")]})}),a.jsx(Mt,{className:"w-20",children:a.jsxs(Q,{variant:"ghost",onClick:()=>f("return_month_mean_pct_return_month"),className:"h-auto p-0 font-medium text-xs",children:["Avg Ret % ",v("return_month_mean_pct_return_month")]})}),a.jsx(Mt,{className:"w-20",children:a.jsxs(Q,{variant:"ghost",onClick:()=>f("open_to_low_mean_pct_return_month"),className:"h-auto p-0 font-medium text-xs",children:["Avg DD % ",v("open_to_low_mean_pct_return_month")]})}),a.jsx(Mt,{className:"w-20",children:a.jsxs(Q,{variant:"ghost",onClick:()=>f("open_to_low_min_pct_return_month"),className:"h-auto p-0 font-medium text-xs",children:["Worst DD % ",v("open_to_low_min_pct_return_month")]})}),a.jsx(Mt,{className:"w-16",children:a.jsxs(Q,{variant:"ghost",onClick:()=>f("top_5_accumulated_score"),className:"h-auto p-0 font-medium",children:["Score ",v("top_5_accumulated_score")]})})]})}),a.jsx(Jl,{children:m.map((y,b)=>a.jsxs(Ds,{children:[a.jsx(Ot,{className:"font-medium",children:y.name}),a.jsx(Ot,{children:x(y.month)}),a.jsx(Ot,{children:y.number_of_months_available}),a.jsx(Ot,{children:a.jsxs("span",{className:y.pct_pos_return_months>=70?"text-green-600":y.pct_pos_return_months>=50?"text-yellow-600":"text-red-600",children:[p(y.pct_pos_return_months,1),"%"]})}),a.jsx(Ot,{children:a.jsxs("span",{className:y.return_month_mean_pct_return_month>=0?"text-green-600":"text-red-600",children:[p(y.return_month_mean_pct_return_month),"%"]})}),a.jsx(Ot,{children:a.jsxs("span",{className:y.open_to_low_mean_pct_return_month>=-5?"text-green-600":"text-red-600",children:[p(y.open_to_low_mean_pct_return_month),"%"]})}),a.jsx(Ot,{children:a.jsxs("span",{className:"text-red-600",children:[p(y.open_to_low_min_pct_return_month),"%"]})}),a.jsx(Ot,{children:a.jsx("span",{className:y.top_5_accumulated_score>=10?"text-green-600 font-medium":y.top_5_accumulated_score>=5?"text-blue-600":"text-muted-foreground",children:p(y.top_5_accumulated_score,0)})})]},`${y.name}-${y.month}-${b}`))})]})})}),g>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>c(Math.max(1,l-1)),disabled:l===1,children:"Previous"}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,g)},(y,b)=>{let w;return g<=5||l<=3?w=b+1:l>=g-2?w=g-4+b:w=l-2+b,a.jsx(Q,{variant:l===w?"default":"outline",size:"sm",onClick:()=>c(w),className:"w-8 h-8 p-0",children:w},w)})}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>c(Math.min(g,l+1)),disabled:l===g,children:"Next"})]})]})},uu=["All Months","January","February","March","April","May","June","July","August","September","October","November","December"],m1=()=>{const t=an(),{monthlyData:e,monthlyStats:r,isLoading:n,error:s}=c1(),[o,i]=u.useState(0),[l,c]=u.useState(""),[d,f]=u.useState([3]),[h,m]=u.useState(50),[g,v]=u.useState("pct_pos_return_months"),p=u.useMemo(()=>{let y=r;return o>0&&(y=y.filter(b=>b.month===o)),l&&(y=y.filter(b=>b.name.toLowerCase().includes(l.toLowerCase()))),y=y.filter(b=>b.number_of_months_available>=d[0]),y.slice(0,h)},[r,o,l,d,h]),x=u.useMemo(()=>{var S;if(p.length===0)return null;const y=p.reduce((j,C)=>j+C.pct_pos_return_months,0)/p.length,b=((S=[...p].sort((j,C)=>j.return_month_mean_pct_return_month-C.return_month_mean_pct_return_month)[Math.floor(p.length/2)])==null?void 0:S.return_month_mean_pct_return_month)||0,w=p.length,_=p.reduce((j,C)=>j+C.top_5_accumulated_score,0)/p.length;return{avgPosReturnMonths:y,medianReturn:b,stockCount:w,avgScore:_}},[p]);return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading monthly analysis data..."})]})}):s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs(me,{className:"max-w-md",children:[a.jsx(we,{children:a.jsx(_e,{className:"text-destructive",children:"Error Loading Data"})}),a.jsxs(pe,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:s}),a.jsxs(Q,{onClick:()=>t("/"),variant:"outline",children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Back to Main Page"]})]})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Q,{onClick:()=>t("/"),variant:"ghost",size:"sm",children:[a.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Back to Options"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Monthly Stock Analysis"}),a.jsx("p",{className:"text-muted-foreground",children:"Historical seasonal patterns and performance metrics"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gx,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:o===0?"All Months":uu[o]})]})]})})}),a.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Filters & Controls"})}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{children:"Month"}),a.jsxs(ji,{value:o.toString(),onValueChange:y=>i(parseInt(y)),children:[a.jsx(To,{children:a.jsx(Ci,{})}),a.jsx(Do,{children:uu.map((y,b)=>a.jsx(er,{value:b.toString(),children:y},b))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{children:"Search Stocks"}),a.jsx(ze,{placeholder:"Search by name...",value:l,onChange:y=>c(y.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(De,{children:["Min History (months): ",d[0]]}),a.jsx(Nc,{value:d,onValueChange:f,min:1,max:50,step:1,className:"w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{children:"Show Top N Stocks"}),a.jsxs(ji,{value:h.toString(),onValueChange:y=>m(parseInt(y)),children:[a.jsx(To,{children:a.jsx(Ci,{})}),a.jsxs(Do,{children:[a.jsx(er,{value:"25",children:"Top 25"}),a.jsx(er,{value:"50",children:"Top 50"}),a.jsx(er,{value:"100",children:"Top 100"}),a.jsx(er,{value:"200",children:"Top 200"})]})]})]})]})})]}),x&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(me,{children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Positive Months"}),a.jsxs("p",{className:"text-2xl font-bold",children:[x.avgPosReturnMonths.toFixed(1),"%"]})]}),a.jsx($n,{className:"h-8 w-8 text-green-500"})]})})}),a.jsx(me,{children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Median Return"}),a.jsxs("p",{className:"text-2xl font-bold",children:[x.medianReturn.toFixed(2),"%"]})]}),a.jsx(js,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(me,{children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stocks in View"}),a.jsx("p",{className:"text-2xl font-bold",children:x.stockCount})]}),a.jsx(As,{variant:"secondary",className:"text-lg px-3 py-1",children:x.stockCount})]})})}),a.jsx(me,{children:a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Score"}),a.jsx("p",{className:"text-2xl font-bold",children:x.avgScore.toFixed(1)})]}),a.jsx($n,{className:"h-8 w-8 text-purple-500"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(me,{className:"lg:col-span-2",children:[a.jsxs(we,{children:[a.jsx(_e,{children:"Monthly Seasonality Heatmap"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Percentage of positive return months by stock and calendar month"})]}),a.jsx(pe,{children:a.jsx(d1,{data:p})})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_e,{children:"Top Performers"}),a.jsxs(ji,{value:g,onValueChange:y=>v(y),children:[a.jsx(To,{className:"w-48",children:a.jsx(Ci,{})}),a.jsxs(Do,{children:[a.jsx(er,{value:"pct_pos_return_months",children:"Positive Months %"}),a.jsx(er,{value:"return_month_mean_pct_return_month",children:"Avg Return"}),a.jsx(er,{value:"top_5_accumulated_score",children:"Score"})]})]})]})}),a.jsx(pe,{children:a.jsx(u1,{data:p,metric:g,month:o})})]}),a.jsxs(me,{children:[a.jsxs(we,{children:[a.jsx(_e,{children:"Risk vs Return Analysis"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Average monthly return vs typical drawdown"})]}),a.jsx(pe,{children:a.jsx(h1,{data:p})})]})]}),a.jsxs(me,{children:[a.jsxs(we,{children:[a.jsx(_e,{children:"Detailed Statistics Table"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete monthly performance metrics for all filtered stocks"})]}),a.jsx(pe,{children:a.jsx(f1,{data:p})})]})]})]})};var p1="Separator",hu="horizontal",g1=["horizontal","vertical"],ev=u.forwardRef((t,e)=>{const{decorative:r,orientation:n=hu,...s}=t,o=v1(n)?n:hu,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(G.div,{"data-orientation":o,...l,...s,ref:e})});ev.displayName=p1;function v1(t){return g1.includes(t)}var tv=ev;const de=u.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>a.jsx(tv,{ref:s,decorative:r,orientation:e,className:Y("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));de.displayName=tv.displayName;const x1=t=>{const[e,r]=u.useState([]),[n,s]=u.useState(!0),[o,i]=u.useState(null);u.useEffect(()=>{l()},[]);const l=async()=>{try{s(!0),i(null);const f=[`https://raw.githubusercontent.com/datamilo/put-options-se/main/data/probability_history.csv?${Date.now()}`,`${window.location.origin}/put-options-sedata/probability_history.csv?${Date.now()}`];let h=null,m=null;for(const v of f)try{if(console.log("🔗 Trying probability history URL:",v),m=await fetch(v),m.ok){console.log("✅ Successfully loaded CSV from:",v);break}}catch(p){console.warn("❌ Failed to load from:",v,p),h=p}if(!m||!m.ok)throw h||new Error("Failed to load probability history from any URL");const g=await m.text();Ln.parse(g,{header:!0,delimiter:"|",skipEmptyLines:!0,transform:(v,p)=>typeof p=="string"&&["1_2_3_ProbOfWorthless_Weighted","ProbWorthless_Bayesian_IsoCal","1_ProbOfWorthless_Original","2_ProbOfWorthless_Calibrated","3_ProbOfWorthless_Historical_IV"].includes(p)?v===""||v===null||v===void 0?null:parseFloat(v):v,complete:v=>{console.log("Probability history data loaded:",v.data.length,"rows"),r(v.data),s(!1)},error:v=>{console.error("Error parsing probability history CSV:",v),i("Failed to parse probability history data"),s(!1)}})}catch(f){console.error("Error loading probability history data:",f),i("Failed to load probability history data"),s(!1)}},c=f=>e.filter(h=>String(h.OptionName)===f).sort((h,m)=>new Date(h.Update_date).getTime()-new Date(m.Update_date).getTime()),d=t?c(t):[];return{allData:e,optionData:d,isLoading:n,error:o,getProbabilityHistoryForOption:c}},So=[{key:"1_2_3_ProbOfWorthless_Weighted",name:"Weighted Average",color:"#2563eb"},{key:"ProbWorthless_Bayesian_IsoCal",name:"Bayesian IsoCal",color:"#dc2626"},{key:"1_ProbOfWorthless_Original",name:"Original",color:"#16a34a"},{key:"2_ProbOfWorthless_Calibrated",name:"Calibrated",color:"#ca8a04"},{key:"3_ProbOfWorthless_Historical_IV",name:"Historical IV",color:"#9333ea"}],y1=({optionName:t})=>{const{optionData:e,isLoading:r,error:n}=x1(t),[s,o]=u.useState(new Set(So.map(h=>h.key)));if(r)return a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Probability History Chart"})}),a.jsx(pe,{children:a.jsx("div",{className:"h-96 flex items-center justify-center",children:"Loading probability history..."})})]});if(n)return a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Probability History Chart"})}),a.jsx(pe,{children:a.jsxs("div",{className:"h-96 flex items-center justify-center text-muted-foreground",children:["Error loading probability history: ",n]})})]});if(e.length===0)return a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Probability History Chart"})}),a.jsx(pe,{children:a.jsx("div",{className:"h-96 flex items-center justify-center text-muted-foreground",children:"No probability history data available for this option"})})]});const i=()=>{const h=e.flatMap(y=>So.filter(b=>s.has(b.key)).map(b=>y[b.key]).filter(b=>b!=null));if(h.length===0)return[0,1];const m=Math.min(...h),g=Math.max(...h),v=(g-m)*.1,p=Math.max(0,m-v),x=Math.min(1,g+v);return[p,x]},l=(h,m)=>h==null?["N/A",m]:[`${(h*100).toFixed(2)}%`,m],c=h=>`${(h*100).toFixed(0)}%`,d=h=>new Date(h).toISOString().split("T")[0],f=h=>{const m=new Set(s);m.has(h)?m.delete(h):m.add(h),o(m)};return a.jsxs(me,{children:[a.jsxs(we,{className:"space-y-4",children:[a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(Ro,{className:"h-5 w-5"}),"Probability of Worthless History"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select probability types to display:"}),a.jsx("div",{className:"flex flex-wrap gap-4",children:So.map(h=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ft,{id:h.key,checked:s.has(h.key),onCheckedChange:()=>f(h.key)}),a.jsxs("label",{htmlFor:h.key,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:[a.jsx("span",{className:"inline-block w-3 h-3 mr-2 rounded-full",style:{backgroundColor:h.color}}),h.name]})]},h.key))})]})]}),a.jsx(pe,{children:a.jsx("div",{className:"h-[480px]",children:a.jsx(In,{width:"100%",height:"100%",children:a.jsxs(Nu,{data:e,children:[a.jsx(_s,{strokeDasharray:"3 3",className:"opacity-30"}),a.jsx(Qr,{dataKey:"Update_date",tickFormatter:d,className:"text-muted-foreground",angle:-45,textAnchor:"end",height:80}),a.jsx(Er,{className:"text-muted-foreground",domain:i(),tickFormatter:c}),a.jsx(Zr,{formatter:l,labelFormatter:h=>new Date(h).toISOString().split("T")[0],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),So.map(h=>s.has(h.key)&&a.jsx(Ni,{dataKey:h.key,stroke:h.color,strokeWidth:2,dot:!1,name:h.name,connectNulls:!1},h.key))]})})})})]})},b1=({option:t})=>{const{underlyingValue:e}=Js(),r=(d,f)=>Mo(d,f),n="originalPremium"in t,s=({content:d})=>a.jsx("div",{className:"md:hidden",children:a.jsxs(Ea,{children:[a.jsx(Ta,{asChild:!0,children:a.jsx(ar,{className:"h-3 w-3 text-muted-foreground cursor-pointer"})}),a.jsx(Qs,{className:"max-w-sm",children:a.jsx("p",{className:"text-sm",children:d})})]})}),o=({content:d,children:f})=>a.jsx("div",{className:"hidden md:block",children:a.jsxs(Wo,{delayDuration:300,children:[a.jsx(Bo,{asChild:!0,children:f}),a.jsx(Ns,{children:a.jsx("p",{children:d})})]})}),i=d=>d<=.6?{level:"High Risk",color:"bg-destructive"}:d<.8?{level:"Medium Risk",color:"bg-accent"}:{level:"Low Risk",color:"bg-secondary"},l=t.ProbWorthless_Bayesian_IsoCal??t["1_2_3_ProbOfWorthless_Weighted"],c=i(l);return a.jsx(ma,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center justify-between",children:[a.jsxs("span",{children:[t.StockName," - ",t.OptionName]}),a.jsx(As,{className:c.color,children:c.level})]})}),a.jsx(pe,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Premium"}),a.jsx("p",{className:"text-lg font-semibold",children:r(t.Premium,"Premium")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Strike Price"}),a.jsx("p",{className:"text-lg font-semibold",children:r(t.StrikePrice,"StrikePrice")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Days to Expiry"}),a.jsx("p",{className:"text-lg font-semibold",children:t.DaysToExpiry})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Stock Price"}),a.jsx("p",{className:"text-lg font-semibold",children:r(t.StockPrice,"StockPrice")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Strike vs Stock %"}),a.jsx("p",{className:"text-lg font-semibold",children:r((t.StrikePrice-t.StockPrice)/t.StockPrice,"Pct")})]})]})})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:["Pricing",n&&a.jsxs(As,{variant:"secondary",className:"text-xs",children:["Recalculated for ",e.toLocaleString()]})]})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Underlying Value (Investment)"}),a.jsx("span",{className:"font-medium",children:e.toLocaleString()})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Strike Price"}),a.jsx("span",{className:"font-medium",children:r(t.StrikePrice,"StrikePrice")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Number of Contracts Based on Limit"}),a.jsx("span",{className:"font-medium",children:r(t.NumberOfContractsBasedOnLimit,"NumberOfContractsBasedOnLimit")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Bid Price"}),a.jsx("span",{className:"font-medium",children:r(t.Bid,"Bid")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ask Price"}),a.jsx("span",{className:"font-medium",children:r(t.Ask,"Ask")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Bid-Ask Mid Price"}),a.jsx("span",{className:"font-medium",children:r(t.Bid_Ask_Mid_Price,"Bid_Ask_Mid_Price")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Option Price Min"}),a.jsx("span",{className:"font-medium",children:r(t.Option_Price_Min,"Option_Price_Min")})]}),n&&a.jsxs(a.Fragment,{children:[a.jsx(de,{}),a.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg space-y-2",children:[a.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Original vs Recalculated Values"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Original Premium:"}),a.jsx("span",{children:r(t.originalPremium,"Premium")})]}),a.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[a.jsx("span",{children:"Current Premium:"}),a.jsx("span",{children:r(t.Premium,"Premium")})]})]})]})]})]}),a.jsx(y1,{optionName:t.OptionName}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Events Before Expiry Day"})}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Financial Report"}),a.jsx("p",{className:"font-medium",children:r(t.FinancialReport,"FinancialReport")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"X-Day"}),a.jsx("p",{className:"font-medium",children:r(t["X-Day"],"X-Day")})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Risk Metrics"})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Historical 100Days Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.Historical100DaysWorstDecline,"Historical100DaysWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Historical 50Days Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.Historical50DaysWorstDecline,"Historical50DaysWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"2008 100Days Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t["2008_100DaysWorstDecline"],"2008_100DaysWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"2008 50Days Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t["2008_50DaysWorstDecline"],"2008_50DaysWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Worst Historical Decline"}),a.jsx("span",{className:"font-medium",children:r(t.WorstHistoricalDecline,"WorstHistoricalDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Bad Historical Decline"}),a.jsx("span",{className:"font-medium",children:r(t.BadHistoricalDecline,"BadHistoricalDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stock Price After 100Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.StockPrice_After_100DayWorstDecline,"StockPrice_After_100DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stock Price After 50Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.StockPrice_After_50DayWorstDecline,"StockPrice_After_50DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stock Price After 2008 50Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.StockPrice_After_2008_50DayWorstDecline,"StockPrice_After_2008_50DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stock Price After 2008 100Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.StockPrice_After_2008_100DayWorstDecline,"StockPrice_After_2008_100DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"100Day Max Price"}),a.jsx("span",{className:"font-medium",children:r(t["100DayMaxPrice"],"100DayMaxPrice")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"100Day Max Price Date"}),a.jsx("span",{className:"font-medium",children:r(t["100DayMaxPriceDate"],"100DayMaxPriceDate")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"50Day Max Price"}),a.jsx("span",{className:"font-medium",children:r(t["50DayMaxPrice"],"50DayMaxPrice")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"50Day Max Price Date"}),a.jsx("span",{className:"font-medium",children:r(t["50DayMaxPriceDate"],"50DayMaxPriceDate")})]})]})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Risk Metrics (Absolute Values)"})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Figures Assume Underlying Value"}),a.jsx("span",{className:"font-medium",children:r(t.Underlying_Value,"Underlying_Value")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"100k Invested Loss Mean"}),a.jsx("span",{className:"font-medium",children:r(t["100k_Invested_Loss_Mean"],"100k_Invested_Loss_Mean")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss Least Bad"}),a.jsx("span",{className:"font-medium",children:r(t.Loss_Least_Bad,"Loss_Least_Bad")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss At 2008 100Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.LossAt_2008_100DayWorstDecline,"LossAt_2008_100DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss At 2008 50Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.LossAt_2008_50DayWorstDecline,"LossAt_2008_50DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss At 100Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.LossAt100DayWorstDecline,"LossAt100DayWorstDecline")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loss At 50Day Worst Decline"}),a.jsx("span",{className:"font-medium",children:r(t.LossAt50DayWorstDecline,"LossAt50DayWorstDecline")})]})]})]})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Volatility"})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Implied Volatility (Current)"}),a.jsx(o,{content:"Current Option",children:a.jsx(ar,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(s,{content:"Current Option"})]}),a.jsx("span",{className:"font-medium",children:r(t.ImpliedVolatility,"ImpliedVolatility")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Implied Volatility (Market Median)"}),a.jsx(o,{content:"Median All Stock Options Nearest Strike, ≤ 100 Days to Expiry",children:a.jsx(ar,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(s,{content:"Median All Stock Options Nearest Strike, ≤ 100 Days to Expiry"})]}),a.jsx("span",{className:"font-medium",children:r(t.AllMedianIV_Maximum100DaysToExp,"AllMedianIV_Maximum100DaysToExp")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Implied Volatility (Stock Median)"}),a.jsx(o,{content:"Median All Stock Options, ≤ 100 Days to Expiry",children:a.jsx(ar,{className:"h-3 w-3 text-muted-foreground cursor-help"})}),a.jsx(s,{content:"Median All Stock Options, ≤ 100 Days to Expiry"})]}),a.jsx("span",{className:"font-medium",children:r(t.TodayStockMedianIV_Maximum100DaysToExp,"TodayStockMedianIV_Maximum100DaysToExp")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Lower Bound"}),a.jsx("span",{className:"font-medium",children:r(t.Lower_Bound,"Lower_Bound")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Lower Bound at Accuracy"}),a.jsx("span",{className:"font-medium",children:r(t.Lower_Bound_at_Accuracy,"Lower_Bound_at_Accuracy")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Lower Bound Hist Median IV"}),a.jsx("span",{className:"font-medium",children:r(t.Lower_Bound_HistMedianIV,"Lower_Bound_HistMedianIV")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Lower Bound Hist Median IV at Accuracy"}),a.jsx("span",{className:"font-medium",children:r(t.Lower_Bound_HistMedianIV_at_Accuracy,"Lower_Bound_HistMedianIV_at_Accuracy")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Implied Volatility Until Expiry"}),a.jsx("span",{className:"font-medium",children:r(t.ImpliedVolatilityUntilExpiry,"ImpliedVolatilityUntilExpiry")})]})]})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsx(_e,{children:"Probability of Worthless Bayesian IsoCal Monte Carlo Simulation"})}),a.jsxs(pe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Mean Earnings"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Simulation_Mean_Earnings,"PoW_Simulation_Mean_Earnings")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stats Median Loss"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Stats_MedianLoss,"PoW_Stats_MedianLoss")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stats Median Loss Pct"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Stats_MedianLossPct,"PoW_Stats_MedianLossPct")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stats Worst Loss"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Stats_WorstLoss,"PoW_Stats_WorstLoss")})]}),a.jsx(de,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stats Worst Loss Pct"}),a.jsx("span",{className:"font-medium",children:r(t.PoW_Stats_WorstLossPct,"PoW_Stats_WorstLossPct")})]})]})]})]})]})})},w1=()=>{const{optionId:t}=ku(),e=an();gl();const{data:r}=Cc(),n=$a(r),s=()=>{e(-1)},o=n.find(i=>encodeURIComponent(i.OptionName)===t);return o?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Option Details"}),a.jsxs(Q,{variant:"outline",onClick:s,className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"h-4 w-4"}),"Back to Overview"]})]}),a.jsx(b1,{option:o})]}):a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(Q,{variant:"outline",onClick:s,className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"h-4 w-4"}),"Back to Overview"]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Option Not Found"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"The requested option could not be found."})]})]})},_1=({data:t,stockName:e})=>{const[r,n]=u.useState("6M"),[s,o]=u.useState("price"),l=(()=>{if(r==="ALL")return t;const v=new Date,p=r==="1M"?1:r==="3M"?3:r==="6M"?6:12,x=new Date(v.getFullYear(),v.getMonth()-p,v.getDate());return t.filter(y=>new Date(y.date)>=x)})(),c=()=>{if(s==="volume")return["auto","auto"];const v=l.map(b=>b.close);if(v.length===0)return["auto","auto"];const p=Math.min(...v),x=Math.max(...v),y=(x-p)*.1;return[Math.max(0,p-y),x+y]},d=()=>{if(l.length===0)return[];const v=[...l].sort((b,w)=>new Date(b.date).getTime()-new Date(w.date).getTime()),x=new Date(v[v.length-1].date).getDate();let y=[];if(r==="1M")y=v.filter((b,w)=>w%5===0);else if(r==="3M")y=v.filter((b,w)=>w%14===0);else if(r==="6M")y=v.filter(b=>{const w=new Date(b.date);return w.getDate()===x||Math.abs(w.getDate()-x)<=2});else if(r==="1Y")y=v.filter(b=>{const w=new Date(b.date);return w.getDate()===x||Math.abs(w.getDate()-x)<=2});else{const b=v.length,w=Math.max(1,Math.floor(b/8));y=v.filter((_,S)=>S%w===0)}return y.map(b=>b.date)},f=(v,p)=>p==="close"?[`${v.toFixed(2)}`,"Price"]:p==="volume"?[v.toLocaleString(),"Volume"]:[v,p],h=v=>v.toFixed(2),m=v=>v>=1e6?`${(v/1e6).toFixed(1)}M`:v>=1e3?`${(v/1e3).toFixed(0)}K`:v.toString(),g=v=>{const p=new Date(v);return r==="1Y"||r==="ALL"?p.toLocaleDateString("en-US",{month:"short",year:"2-digit"}):p.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return a.jsxs(me,{children:[a.jsxs(we,{className:"space-y-4",children:[a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(Ro,{className:"h-5 w-5"}),e," Stock Price Chart"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("div",{className:"flex gap-1",children:["1M","3M","6M","1Y","ALL"].map(v=>a.jsx(Q,{variant:r===v?"default":"outline",size:"sm",onClick:()=>n(v),children:v},v))}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs(Q,{variant:s==="price"?"default":"outline",size:"sm",onClick:()=>o("price"),children:[a.jsx($n,{className:"h-4 w-4 mr-1"}),"Price"]}),a.jsxs(Q,{variant:s==="volume"?"default":"outline",size:"sm",onClick:()=>o("volume"),children:[a.jsx(js,{className:"h-4 w-4 mr-1"}),"Volume"]}),a.jsx(Q,{variant:s==="both"?"default":"outline",size:"sm",onClick:()=>o("both"),children:"Both"})]})]})]}),a.jsx(pe,{children:a.jsx("div",{className:"h-96",children:a.jsx(In,{width:"100%",height:"100%",children:s==="both"?a.jsxs(av,{data:l,children:[a.jsx(_s,{strokeDasharray:"3 3",className:"opacity-30"}),a.jsx(Qr,{dataKey:"date",tickFormatter:g,className:"text-muted-foreground",ticks:d()}),a.jsx(Er,{yAxisId:"price",orientation:"left",className:"text-muted-foreground",domain:c(),tickFormatter:h}),a.jsx(Er,{yAxisId:"volume",orientation:"right",className:"text-muted-foreground",tickFormatter:m}),a.jsx(Zr,{formatter:f,labelFormatter:v=>new Date(v).toISOString().split("T")[0],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(Pi,{}),a.jsx(Ni,{yAxisId:"price",dataKey:"close",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1,name:"Price"}),a.jsx(pl,{yAxisId:"volume",dataKey:"volume",fill:"hsl(var(--muted-foreground))",fillOpacity:.3,name:"Volume"})]}):a.jsxs(Nu,{data:l,children:[a.jsx(_s,{strokeDasharray:"3 3",className:"opacity-30"}),a.jsx(Qr,{dataKey:"date",tickFormatter:g,className:"text-muted-foreground",ticks:d()}),a.jsx(Er,{className:"text-muted-foreground",domain:s==="price"?c():["auto","auto"],tickFormatter:s==="price"?h:m}),a.jsx(Zr,{formatter:f,labelFormatter:v=>new Date(v).toISOString().split("T")[0],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(Pi,{}),a.jsx(Ni,{dataKey:s==="price"?"close":"volume",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1,name:s==="price"?"Price":"Volume"})]})})})})]})},S1=({stockData:t,stockSummary:e})=>{const r=e.priceChange>=0,{getPriceRangeForPeriod:n}=Fa(),s=[{label:"1 Week",days:7},{label:"1 Month",days:30},{label:"3 Months",days:90},{label:"6 Months",days:180},{label:"9 Months",days:270},{label:"1 Year",days:365}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(js,{className:"h-6 w-6"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:e.name}),a.jsx("p",{className:"text-muted-foreground",children:"Stock Analysis"})]})]}),a.jsxs(As,{variant:r?"default":"destructive",className:"text-lg px-3 py-1",children:[r?a.jsx($n,{className:"h-4 w-4 mr-1"}):a.jsx(kx,{className:"h-4 w-4 mr-1"}),r?"+":"",e.priceChangePercent.toFixed(2),"%"]})]})}),a.jsx(pe,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Price"}),a.jsx("p",{className:"text-2xl font-bold",children:e.currentPrice.toFixed(2)}),a.jsxs("p",{className:`text-sm ${r?"text-green-600":"text-red-600"}`,children:[r?"+":"",e.priceChange.toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(vx,{className:"h-4 w-4"}),"Median Daily Volume"]}),a.jsx("p",{className:"text-xl font-semibold",children:Mo(e.medianVolume,"volume")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(Ao,{className:"h-4 w-4"}),"1 Year Range"]}),a.jsxs("p",{className:"text-lg font-medium",children:[e.lowPrice52Week.toFixed(2)," - ",e.highPrice52Week.toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(Ro,{className:"h-4 w-4"}),"Volatility"]}),a.jsxs("p",{className:"text-xl font-semibold",children:[e.volatility.toFixed(1),"%"]})]})]})})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(Ao,{className:"h-5 w-5"}),"Price Ranges"]})}),a.jsx(pe,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:s.map(o=>{const i=n(e.name,o.days);return a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:o.label}),i?a.jsxs("p",{className:"text-sm font-semibold",children:[i.low.toFixed(2)," - ",i.high.toFixed(2)]}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"No data"})]},o.days)})})})]}),a.jsx(_1,{data:t,stockName:e.name}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx($n,{className:"h-5 w-5"}),"Performance Metrics"]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"1-Day Change"}),a.jsxs("span",{className:r?"text-green-600":"text-red-600",children:[r?"+":"",e.priceChangePercent.toFixed(2),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"1-Year High"}),a.jsx("span",{className:"font-medium",children:e.highPrice52Week.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"1-Year Low"}),a.jsx("span",{className:"font-medium",children:e.lowPrice52Week.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Distance from 1-Year High"}),a.jsxs("span",{className:"font-medium",children:[((e.currentPrice-e.highPrice52Week)/e.highPrice52Week*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Distance from 1-Year Low"}),a.jsxs("span",{className:"font-medium",children:[((e.currentPrice-e.lowPrice52Week)/e.lowPrice52Week*100).toFixed(1),"%"]})]})]})]}),a.jsxs(me,{children:[a.jsx(we,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(Ro,{className:"h-5 w-5"}),"Risk Metrics"]})}),a.jsxs(pe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Annualized Volatility"}),a.jsxs("span",{className:"font-medium",children:[e.volatility.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Median Volume"}),a.jsx("span",{className:"font-medium",children:Mo(e.medianVolume,"volume")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Price Range (1Y)"}),a.jsx("span",{className:"font-medium",children:(e.highPrice52Week-e.lowPrice52Week).toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Range Ratio"}),a.jsxs("span",{className:"font-medium",children:[(e.highPrice52Week/e.lowPrice52Week).toFixed(2),"x"]})]})]})]})]})]})},j1=()=>{const{stockName:t}=ku(),e=an();gl();const{getStockData:r,getStockSummary:n,isLoading:s,error:o}=Fa(),i=()=>{e(-1)};if(!t)return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(Q,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"h-4 w-4"}),"Back to Options"]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Invalid Stock"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"No stock name provided."})]})]});const l=decodeURIComponent(t),c=r(l),d=n(l);return s?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(Q,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"h-4 w-4"}),"Back to Options"]})}),a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(Sx,{className:"h-8 w-8 animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading stock data..."})]})})]}):o?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(Q,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"h-4 w-4"}),"Back to Options"]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Error Loading Stock Data"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:o})]})]}):!d||c.length===0?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(Q,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"h-4 w-4"}),"Back to Options"]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Stock Not Found"}),a.jsxs("p",{className:"text-muted-foreground mt-2",children:['No data available for "',l,'".']})]})]}):a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Stock Analysis"}),a.jsxs(Q,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"h-4 w-4"}),"Back to Options"]})]}),a.jsx(S1,{stockData:c,stockSummary:d})]})},C1=()=>{const t=vl(),{session:e,loading:r}=Xs();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname,"Session:",!!e,"Loading:",r)},[t.pathname,e,r]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsx(Ss,{to:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"}),a.jsx(Ss,{to:"/auth",className:"text-blue-500 hover:text-blue-700 underline",children:"Go to Login"})]})]})})},P1=()=>{const{signIn:t,signUp:e,session:r}=Xs(),n=an(),s=vl(),[o,i]=u.useState(""),[l,c]=u.useState(""),[d,f]=u.useState(null),[h,m]=u.useState(null),g=u.useMemo(()=>{var x,y;return((y=(x=s.state)==null?void 0:x.from)==null?void 0:y.pathname)||"/"},[s.state]);u.useEffect(()=>{document.title="Sign in | Put Options SE"},[]),u.useEffect(()=>{r&&n(g,{replace:!0})},[r,n,g]);const v=async x=>{x.preventDefault(),f(null),m(null);const{error:y}=await t(o,l);if(y){console.error("Supabase sign-in error:",y);const b=y.message==="Failed to fetch"?"Network/CORS error. Please check your connection and try again.":y.message??"Failed to sign in";f(b)}},p=async x=>{x.preventDefault(),f(null),m(null);const{error:y}=await e(o,l);if(y){console.error("Supabase sign-up error:",y);const b=y.message==="Failed to fetch"?"Network/CORS error. Please check your connection and try again.":y.message??"Failed to sign up";f(b)}else m("Check your email to confirm your account, then return here.")};return a.jsx("main",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs(me,{className:"w-full max-w-md",children:[a.jsx(we,{children:a.jsx(_e,{className:"text-center",children:"Sign in to Put Options SE"})}),a.jsx(pe,{children:a.jsxs(jc,{defaultValue:"signin",children:[a.jsxs(La,{className:"grid grid-cols-2 w-full",children:[a.jsx(rn,{value:"signin",children:"Sign In"}),a.jsx(rn,{value:"signup",children:"Sign Up"})]}),a.jsx(nn,{value:"signin",children:a.jsxs("form",{onSubmit:v,className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"email",children:"Email"}),a.jsx(ze,{id:"email",type:"email",value:o,onChange:x=>i(x.target.value),required:!0,placeholder:"you@example.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"password",children:"Password"}),a.jsx(ze,{id:"password",type:"password",value:l,onChange:x=>c(x.target.value),required:!0,placeholder:"Your password"})]}),d&&a.jsx("p",{className:"text-sm",children:d}),a.jsx(Q,{type:"submit",className:"w-full",children:"Sign In"})]})}),a.jsx(nn,{value:"signup",children:a.jsxs("form",{onSubmit:p,className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"email2",children:"Email"}),a.jsx(ze,{id:"email2",type:"email",value:o,onChange:x=>i(x.target.value),required:!0,placeholder:"you@example.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"password2",children:"Password"}),a.jsx(ze,{id:"password2",type:"password",value:l,onChange:x=>c(x.target.value),required:!0,placeholder:"Create a strong password"})]}),d&&a.jsx("p",{className:"text-sm",children:d}),h&&a.jsx("p",{className:"text-sm",children:h}),a.jsx(Q,{type:"submit",className:"w-full",children:"Create Account"})]})})]})})]})})},N1=()=>{const t=an();return u.useEffect(()=>{const e=setTimeout(async()=>{const{data:{session:r}}=await sr.auth.getSession();t(r?"/":"/auth",{replace:!0})},800);return()=>clearTimeout(e)},[t]),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{children:"Finishing sign in…"}),a.jsxs("p",{className:"mt-2",children:["If you are not redirected, ",a.jsx(Ss,{to:"/auth",className:"underline",children:"go to login"}),"."]})]})},us=({children:t})=>{const{session:e,loading:r}=Xs(),n=vl();return console.log("ProtectedRoute - session:",!!e,"loading:",r,"location:",n.pathname),r?a.jsx("div",{className:"p-6",children:"Loading..."}):e?a.jsx(a.Fragment,{children:t}):a.jsx(iv,{to:"/auth",replace:!0,state:{from:n}})};class k1 extends u.Component{constructor(){super(...arguments);$c(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r,n;return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"The application encountered an error and couldn't render properly."}),a.jsxs("details",{className:"text-left text-sm bg-muted p-4 rounded mb-4",children:[a.jsx("summary",{className:"cursor-pointer font-medium",children:"Error details"}),a.jsxs("pre",{className:"mt-2 text-xs overflow-auto",children:[(r=this.state.error)==null?void 0:r.message,`
`,(n=this.state.error)==null?void 0:n.stack]})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Reload Page"})]})}):this.props.children}}const E1=new Lw,T1=()=>{const{session:t,signOut:e}=Xs();return a.jsxs("header",{className:"w-full flex items-center justify-between px-4 py-2",children:[a.jsx(Ss,{to:"/",className:"font-semibold",children:"Put Options SE"}),a.jsx("div",{children:t?a.jsx(Q,{variant:"outline",onClick:e,children:"Sign out"}):a.jsx(Q,{asChild:!0,children:a.jsx(Ss,{to:"/auth",children:"Sign in"})})})]})},D1=()=>{const t=window.location.hostname==="datamilo.github.io",e=t?"/put-options-se":"";return console.log("App component rendering",{location:window.location.href,pathname:window.location.pathname,hash:window.location.hash,hostname:window.location.hostname,isGitHubPages:t,basename:e}),a.jsx(Fw,{client:E1,children:a.jsx(fy,{attribute:"class",defaultTheme:"light",storageKey:"vite-ui-theme",children:a.jsx(sS,{children:a.jsx(oS,{children:a.jsx(ma,{children:a.jsxs(k1,{children:[a.jsx(dy,{}),a.jsx(Vy,{}),a.jsxs(lv,{basename:e,children:[a.jsx(T1,{}),a.jsxs(cv,{children:[a.jsx(hr,{path:"/auth",element:a.jsx(P1,{})}),a.jsx(hr,{path:"/auth/callback",element:a.jsx(N1,{})}),a.jsx(hr,{path:"/",element:a.jsx(us,{children:a.jsx(AE,{})})}),a.jsx(hr,{path:"/portfolio-generator",element:a.jsx(us,{children:a.jsx(ME,{})})}),a.jsx(hr,{path:"/monthly-analysis",element:a.jsx(us,{children:a.jsx(m1,{})})}),a.jsx(hr,{path:"/option/:optionId",element:a.jsx(us,{children:a.jsx(w1,{})})}),a.jsx(hr,{path:"/stock/:stockName",element:a.jsx(us,{children:a.jsx(j1,{})})}),a.jsx(hr,{path:"*",element:a.jsx(C1,{})})]})]})]})})})})})})};console.log("Main.tsx loading...",{env:"production",base:"/put-options-se",location:window.location.href,origin:window.location.origin});try{console.log("DOM ready, attempting to render React app...");const t=document.getElementById("root");if(!t)throw new Error("Root element not found in DOM");Du(t).render(a.jsx(D1,{})),console.log("✅ App rendered successfully on GitHub Pages")}catch(t){console.error("❌ Failed to render app:",t);const e=t instanceof Error?t.message:String(t);document.body.innerHTML=`
    <div style="padding: 20px; font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; background: #f5f5f5; border-radius: 8px;">
      <h1 style="color: #d32f2f;">Application Error</h1>
      <p>Failed to load the Put Options SE application.</p>
      <details style="margin: 20px 0; padding: 10px; background: white; border-radius: 4px;">
        <summary style="cursor: pointer; font-weight: bold;">Error Details</summary>
        <pre style="margin-top: 10px; font-size: 12px; overflow: auto;">${e}</pre>
      </details>
      <div style="margin-top: 20px;">
        <button onclick="window.location.reload()" style="padding: 10px 20px; background: #1976d2; color: white; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;">
          Reload Page
        </button>
        <button onclick="window.location.href='https://put-options-se.lovable.app/'" style="padding: 10px 20px; background: #2e7d32; color: white; border: none; border-radius: 4px; cursor: pointer;">
          Go to Staging
        </button>
      </div>
      <p style="margin-top: 20px; font-size: 12px; color: #666;">
        Base URL: /put-options-se<br>
        Mode: production<br>
        Location: ${window.location.href}
      </p>
    </div>
  `}
